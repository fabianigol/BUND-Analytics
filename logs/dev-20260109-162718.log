â–² Next.js 16.1.1 (webpack)
- Local:         http://localhost:3000
- Network:       http://192.168.0.244:3000
- Environments: .env.local

âœ“ Starting...
âš  The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
âœ“ Ready in 2.3s
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: false, email: undefined }
ğŸ”’ Redirecting to login
ğŸ‘¤ User status: { hasUser: false, email: undefined }
ğŸ”’ Redirecting to login
ğŸ” Middleware Debug: { url: '/login', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: false, email: undefined }
<w> [webpack.cache.PackFileCacheStrategy] Serializing big strings (131kiB) impacts deserialization performance (consider using Buffer instead and decode when needed)
â—‹ Compiling /login ...
 GET /login 200 in 4.2s (compile: 3.3s, proxy.ts: 3ms, render: 938ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: false, email: undefined }
ğŸ”’ Redirecting to login
ğŸ” Middleware Debug: { url: '/login', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: false, email: undefined }
 GET /login 200 in 47ms (compile: 3ms, proxy.ts: 5ms, render: 39ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: false, email: undefined }
ğŸ”’ Redirecting to login
ğŸ” Middleware Debug: { url: '/login', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: false, email: undefined }
 GET /login 200 in 36ms (compile: 3ms, proxy.ts: 4ms, render: 29ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
AuthApiError: Invalid Refresh Token: Refresh Token Not Found
    at ignore-listed frames {
  __isAuthError: true,
  status: 400,
  code: 'refresh_token_not_found'
}
AuthApiError: Invalid Refresh Token: Refresh Token Not Found
    at ignore-listed frames {
  __isAuthError: true,
  status: 400,
  code: 'refresh_token_not_found'
}
ğŸ‘¤ User status: { hasUser: false, email: undefined }
ğŸ”’ Redirecting to login
ğŸ” Middleware Debug: { url: '/login', hasSupabaseUrl: true, hasSupabaseKey: true }
AuthApiError: Invalid Refresh Token: Refresh Token Not Found
    at ignore-listed frames {
  __isAuthError: true,
  status: 400,
  code: 'refresh_token_not_found'
}
AuthApiError: Invalid Refresh Token: Refresh Token Not Found
    at ignore-listed frames {
  __isAuthError: true,
  status: 400,
  code: 'refresh_token_not_found'
}
ğŸ‘¤ User status: { hasUser: false, email: undefined }
 GET /login 200 in 168ms (compile: 6ms, proxy.ts: 111ms, render: 51ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling / ...
 GET / 200 in 4.8s (compile: 4.5s, proxy.ts: 195ms, render: 32ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 651ms (compile: 38ms, proxy.ts: 566ms, render: 47ms)
ğŸ” Middleware Debug: { url: '/api/dashboard', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Dashboard] Raw availability data: {
  count: 18,
  sample: [
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'fitting',
      booked: 0,
      available: 2,
      total: 2
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'fitting',
      booked: 2,
      available: 0,
      total: 1
    },
    {
      store_name: 'The Bundclub Murcia',
      normalized: 'Murcia',
      category: 'mediciÃ³n',
      booked: 2,
      available: 0,
      total: 2
    },
    {
      store_name: 'The Bundclub Murcia',
      normalized: 'Murcia',
      category: 'fitting',
      booked: 1,
      available: 0,
      total: 1
    },
    {
      store_name: 'The Bundclub Valencia',
      normalized: 'Valencia',
      category: 'fitting',
      booked: 0,
      available: 1,
      total: 1
    }
  ]
}
[Dashboard] Store map after processing: {
  storesInMap: [
    'Sevilla', 'Barcelona',
    'Murcia',  'Valencia',
    'Bilbao',  'Zaragoza',
    'Cdmx',    'MÃ¡laga',
    'Madrid'
  ],
  orderedStores: [
    'Madrid',   'Sevilla',
    'MÃ¡laga',   'Barcelona',
    'Murcia',   'Cdmx',
    'Bilbao',   'Zaragoza',
    'Valencia'
  ]
}
[Dashboard] Store occupation data: {
  today: '2026-01-09',
  storesFound: 9,
  stores: [
    {
      name: 'Madrid',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Sevilla',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'MÃ¡laga',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Barcelona',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Murcia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Cdmx',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Bilbao',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Zaragoza',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Valencia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    }
  ]
}
[Dashboard] Investment data: {
  totalAdsRecords: 1000,
  uniqueDates: 12,
  sampleDates: [
    [ '2025-12-23', 0 ],
    [ '2025-12-18', 0 ],
    [ '2025-12-16', 0 ],
    [ '2025-12-26', 0 ],
    [ '2025-12-22', 0 ]
  ]
}
 GET /api/dashboard 200 in 2.5s (compile: 998ms, proxy.ts: 102ms, render: 1418ms)
ğŸ” Middleware Debug: { url: '/api/dashboard', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Dashboard] Raw availability data: {
  count: 18,
  sample: [
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'fitting',
      booked: 0,
      available: 2,
      total: 2
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'fitting',
      booked: 2,
      available: 0,
      total: 1
    },
    {
      store_name: 'The Bundclub Murcia',
      normalized: 'Murcia',
      category: 'mediciÃ³n',
      booked: 2,
      available: 0,
      total: 2
    },
    {
      store_name: 'The Bundclub Murcia',
      normalized: 'Murcia',
      category: 'fitting',
      booked: 1,
      available: 0,
      total: 1
    },
    {
      store_name: 'The Bundclub Valencia',
      normalized: 'Valencia',
      category: 'fitting',
      booked: 0,
      available: 1,
      total: 1
    }
  ]
}
[Dashboard] Store map after processing: {
  storesInMap: [
    'Sevilla', 'Barcelona',
    'Murcia',  'Valencia',
    'Bilbao',  'Zaragoza',
    'Cdmx',    'MÃ¡laga',
    'Madrid'
  ],
  orderedStores: [
    'Madrid',   'Sevilla',
    'MÃ¡laga',   'Barcelona',
    'Murcia',   'Cdmx',
    'Bilbao',   'Zaragoza',
    'Valencia'
  ]
}
[Dashboard] Store occupation data: {
  today: '2026-01-09',
  storesFound: 9,
  stores: [
    {
      name: 'Madrid',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Sevilla',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'MÃ¡laga',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Barcelona',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Murcia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Cdmx',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Bilbao',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Zaragoza',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Valencia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    }
  ]
}
[Dashboard] Investment data: {
  totalAdsRecords: 1000,
  uniqueDates: 12,
  sampleDates: [
    [ '2025-12-23', 0 ],
    [ '2025-12-18', 0 ],
    [ '2025-12-16', 0 ],
    [ '2025-12-26', 0 ],
    [ '2025-12-22', 0 ]
  ]
}
 GET /api/dashboard 200 in 986ms (compile: 7ms, proxy.ts: 92ms, render: 887ms)
ğŸ” Middleware Debug: { url: '/calendario', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /calendario 200 in 1631ms (compile: 1489ms, proxy.ts: 114ms, render: 28ms)
ğŸ” Middleware Debug: {
  url: '/api/calendar/events',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/calendar/events?year=2026 200 in 1054ms (compile: 770ms, proxy.ts: 103ms, render: 182ms)
ğŸ” Middleware Debug: {
  url: '/api/calendar/events',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/calendar/events?year=2026 200 in 267ms (compile: 4ms, proxy.ts: 89ms, render: 174ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 1331ms (compile: 1161ms, proxy.ts: 135ms, render: 35ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:28:30.164Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:28:30.169Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:28:30.196Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:28:30.198Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:28:30.200Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:28:30.211Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 1286ms (compile: 595ms, proxy.ts: 137ms, render: 554ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 1313ms (compile: 567ms, proxy.ts: 166ms, render: 580ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 1333ms (compile: 566ms, proxy.ts: 166ms, render: 601ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 1378ms (compile: 625ms, proxy.ts: 108ms, render: 645ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T15:28:30.806Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T15:28:30.831Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
 GET /api/acuity/stats?type=occupation&days=21 200 in 1590ms (compile: 511ms, proxy.ts: 221ms, render: 857ms)
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 1616ms (compile: 585ms, proxy.ts: 147ms, render: 884ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 333ms (compile: 1850Âµs, proxy.ts: 98ms, render: 233ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 455ms (compile: 1574Âµs, proxy.ts: 80ms, render: 373ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:28:31.784Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Historical Compare API] Fetching data for years: 2023, 2024, 2025, month: 1
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:28:31.791Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:28:31.793Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:28:31.795Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:28:31.801Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 925ms (compile: 637ms, proxy.ts: 122ms, render: 165ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 1189ms (compile: 896ms, proxy.ts: 83ms, render: 210ms)
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 960ms (compile: 636ms, proxy.ts: 101ms, render: 222ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 1010ms (compile: 636ms, proxy.ts: 94ms, render: 281ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:28:32.017Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
 GET /api/acuity/stats?type=occupation&days=21 200 in 901ms (compile: 346ms, proxy.ts: 184ms, render: 372ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T15:28:32.072Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T15:28:32.086Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2023,2024,2025&month=1 200 in 1441ms (compile: 942ms, proxy.ts: 81ms, render: 418ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 275ms (compile: 1686Âµs, proxy.ts: 83ms, render: 190ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 296ms (compile: 1498Âµs, proxy.ts: 86ms, render: 208ms)
[Historical Compare API] Fetching data for years: 2023, 2024, 2025, month: 1
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2023,2024,2025&month=1 200 in 468ms (compile: 1766Âµs, proxy.ts: 85ms, render: 381ms)
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 1022ms (compile: 3ms, proxy.ts: 76ms, render: 944ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Appointments] Total appointments before filtering: 203
 GET /api/acuity/appointments?startDate=2025-12-31&endDate=2026-01-09 200 in 715ms (compile: 464ms, proxy.ts: 94ms, render: 157ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?startDate=2025-12-31&endDate=2025-01-09 200 in 667ms (compile: 429ms, proxy.ts: 79ms, render: 159ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?startDate=2024-12-31&endDate=2024-01-09 200 in 264ms (compile: 3ms, proxy.ts: 86ms, render: 175ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?startDate=2023-12-31&endDate=2023-01-09 200 in 259ms (compile: 5ms, proxy.ts: 98ms, render: 156ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?startDate=2022-12-31&endDate=2022-01-09 200 in 269ms (compile: 3ms, proxy.ts: 93ms, render: 173ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Appointments] Total appointments before filtering: 160
 GET /api/acuity/appointments?startDate=2026-01-01&endDate=2026-01-08 200 in 342ms (compile: 24ms, proxy.ts: 140ms, render: 178ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?startDate=2025-01-01&endDate=2025-01-08 200 in 292ms (compile: 5ms, proxy.ts: 86ms, render: 200ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?startDate=2024-01-01&endDate=2024-01-08 200 in 281ms (compile: 4ms, proxy.ts: 94ms, render: 183ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?startDate=2023-01-01&endDate=2023-01-08 200 in 266ms (compile: 4ms, proxy.ts: 92ms, render: 170ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?startDate=2022-01-01&endDate=2022-01-08 200 in 358ms (compile: 9ms, proxy.ts: 104ms, render: 245ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2023, 2024, 2025, month: 1
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2023,2024,2025&month=1 200 in 634ms (compile: 13ms, proxy.ts: 167ms, render: 454ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2023, 2024, 2025, month: 1
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2023,2024,2025&month=1 200 in 517ms (compile: 6ms, proxy.ts: 97ms, render: 414ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, 2022, month: 1
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023,2022&month=1 200 in 604ms (compile: 4ms, proxy.ts: 97ms, render: 503ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, month: 1
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023,2022,2021&month=1 200 in 696ms (compile: 6ms, proxy.ts: 147ms, render: 543ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 305ms (compile: 57ms, proxy.ts: 208ms, render: 40ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 4.6s (compile: 1197ms, proxy.ts: 1449ms, render: 1962ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 358ms (compile: 126ms, proxy.ts: 188ms, render: 44ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 282ms (compile: 75ms, proxy.ts: 171ms, render: 36ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 877ms (compile: 204ms, proxy.ts: 518ms, render: 155ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 241ms (compile: 81ms, proxy.ts: 117ms, render: 42ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 181ms (compile: 41ms, proxy.ts: 125ms, render: 15ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 488ms (compile: 196ms, proxy.ts: 236ms, render: 56ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 154ms (compile: 4ms, proxy.ts: 136ms, render: 14ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 1020ms (compile: 68ms, proxy.ts: 917ms, render: 34ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 394ms (compile: 169ms, proxy.ts: 154ms, render: 71ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 120ms (compile: 3ms, proxy.ts: 102ms, render: 15ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 493ms (compile: 18ms, proxy.ts: 356ms, render: 119ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 236ms (compile: 74ms, proxy.ts: 121ms, render: 40ms)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 2.2s (compile: 1545ms, proxy.ts: 267ms, render: 405ms)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 2.5s (compile: 1618ms, proxy.ts: 369ms, render: 488ms)
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:34.875Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:34.902Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:34.908Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:34.914Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:34.916Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:34.924Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 2.9s (compile: 465ms, proxy.ts: 1300ms, render: 1101ms)
 GET /api/acuity/stats?type=monthly&months=12 200 in 2.9s (compile: 463ms, proxy.ts: 1301ms, render: 1122ms)
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 3.0s (compile: 785ms, proxy.ts: 907ms, render: 1282ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 3.1s (compile: 463ms, proxy.ts: 1302ms, render: 1341ms)
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 3.1s (compile: 464ms, proxy.ts: 1300ms, render: 1361ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=occupation&days=21 200 in 3.4s (compile: 464ms, proxy.ts: 1301ms, render: 1600ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T15:43:36.019Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T15:43:36.031Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 571ms (compile: 96ms, proxy.ts: 138ms, render: 337ms)
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:36.194Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:36.209Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:36.224Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 615ms (compile: 87ms, proxy.ts: 146ms, render: 382ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=monthly&months=12 200 in 357ms (compile: 19ms, proxy.ts: 138ms, render: 200ms)
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 389ms (compile: 34ms, proxy.ts: 132ms, render: 222ms)
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 361ms (compile: 18ms, proxy.ts: 133ms, render: 209ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 206ms (compile: 47ms, proxy.ts: 98ms, render: 61ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:36.420Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:36.433Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:36.515Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T15:43:36.527Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T15:43:36.551Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 373ms (compile: 6ms, proxy.ts: 112ms, render: 255ms)
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 448ms (compile: 15ms, proxy.ts: 126ms, render: 307ms)
âš  Fast Refresh had to perform a full reload due to a runtime error.
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 416ms (compile: 2ms, proxy.ts: 92ms, render: 322ms)
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 430ms (compile: 1302Âµs, proxy.ts: 105ms, render: 323ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
 GET /api/acuity/stats?type=occupation&days=21 200 in 696ms (compile: 2ms, proxy.ts: 92ms, render: 601ms)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 717ms (compile: 5ms, proxy.ts: 93ms, render: 618ms)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
 GET /citas 200 in 628ms (compile: 2ms, proxy.ts: 85ms, render: 541ms)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:41.357Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:41.383Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:41.385Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:41.390Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:41.404Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:41.409Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 903ms (compile: 5ms, proxy.ts: 451ms, render: 447ms)
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 1166ms (compile: 10ms, proxy.ts: 446ms, render: 710ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 1391ms (compile: -2974Âµs, proxy.ts: 459ms, render: 935ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 1726ms (compile: 134ms, proxy.ts: 276ms, render: 1317ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 2.1s (compile: 8ms, proxy.ts: 448ms, render: 1608ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T15:43:42.915Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T15:43:42.920Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:42.943Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=occupation&days=21 200 in 2.3s (compile: 7ms, proxy.ts: 449ms, render: 1847ms)
 GET /api/acuity/stats?type=monthly&months=12 200 in 764ms (compile: 11ms, proxy.ts: 457ms, render: 296ms)
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 1050ms (compile: 142ms, proxy.ts: 533ms, render: 375ms)
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 1414ms (compile: 434ms, proxy.ts: 572ms, render: 409ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:43.248Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:43.250Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 478ms (compile: 14ms, proxy.ts: 229ms, render: 235ms)
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 485ms (compile: 13ms, proxy.ts: 230ms, render: 241ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:46.893Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T15:43:46.899Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T15:43:46.901Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:46.902Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:43:46.916Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 3.8s (compile: 3.4s, proxy.ts: 128ms, render: 259ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 3.9s (compile: 3.4s, proxy.ts: 171ms, render: 285ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 3.5s (compile: 2.7s, proxy.ts: 550ms, render: 306ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 4.0s (compile: 3.4s, proxy.ts: 147ms, render: 391ms)
 GET /api/acuity/stats?type=occupation&days=21 200 in 4.0s (compile: 3.4s, proxy.ts: 170ms, render: 424ms)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 1757ms (compile: 727ms, proxy.ts: 209ms, render: 822ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 2.0s (compile: 1870ms, proxy.ts: 87ms, render: 52ms)
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Annual Totals API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_annual with parameter p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_annual(p_years) in the schema cache'
}
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 500 in 2.2s (compile: 1898ms, proxy.ts: 80ms, render: 245ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Annual Totals API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_annual with parameter p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_annual(p_years) in the schema cache'
}
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 500 in 294ms (compile: 2ms, proxy.ts: 104ms, render: 188ms)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 2.1s (compile: 1183ms, proxy.ts: 237ms, render: 642ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 219ms (compile: 65ms, proxy.ts: 126ms, render: 28ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Annual Totals API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_annual with parameter p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_annual(p_years) in the schema cache'
}
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 500 in 1985ms (compile: 1147ms, proxy.ts: 665ms, render: 173ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
 GET /citas 200 in 255ms (compile: 49ms, proxy.ts: 147ms, render: 59ms)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 2.4s (compile: 1189ms, proxy.ts: 624ms, render: 601ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 598ms (compile: 181ms, proxy.ts: 128ms, render: 289ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 319ms (compile: 50ms, proxy.ts: 221ms, render: 49ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Annual Totals API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_annual with parameter p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_annual(p_years) in the schema cache'
}
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 500 in 1655ms (compile: 918ms, proxy.ts: 535ms, render: 201ms)
 GET /citas 200 in 185ms (compile: 29ms, proxy.ts: 138ms, render: 18ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 2.1s (compile: 934ms, proxy.ts: 520ms, render: 655ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 279ms (compile: 91ms, proxy.ts: 171ms, render: 17ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Annual Totals API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_annual with parameter p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_annual(p_years) in the schema cache'
}
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 500 in 1480ms (compile: 858ms, proxy.ts: 338ms, render: 284ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
 GET /citas 200 in 224ms (compile: 43ms, proxy.ts: 140ms, render: 41ms)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 1900ms (compile: 858ms, proxy.ts: 339ms, render: 704ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 294ms (compile: 79ms, proxy.ts: 150ms, render: 64ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Annual Totals API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_annual with parameter p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_annual(p_years) in the schema cache'
}
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 500 in 1709ms (compile: 809ms, proxy.ts: 588ms, render: 311ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
 GET /citas 200 in 312ms (compile: 86ms, proxy.ts: 119ms, render: 108ms)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 2.2s (compile: 886ms, proxy.ts: 512ms, render: 798ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 229ms (compile: 59ms, proxy.ts: 94ms, render: 75ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Annual Totals API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_annual with parameter p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_annual(p_years) in the schema cache'
}
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 500 in 889ms (compile: 40ms, proxy.ts: 144ms, render: 705ms)
 GET /citas 200 in 700ms (compile: 1988Âµs, proxy.ts: 86ms, render: 612ms)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 935ms (compile: 26ms, proxy.ts: 141ms, render: 768ms)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/acuity/stats ...
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:45:17.431Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:45:17.435Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:45:17.436Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:45:17.480Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:45:17.481Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:45:17.484Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 4.4s (compile: 4.0s, proxy.ts: 165ms, render: 249ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 4.5s (compile: 3.7s, proxy.ts: 456ms, render: 276ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=monthly&months=12 200 in 5.3s (compile: 3.8s, proxy.ts: 390ms, render: 1099ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T15:45:19.320Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T15:45:19.325Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 6.6s (compile: 4.0s, proxy.ts: 165ms, render: 2.4s)
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 2.1s (compile: 863ms, proxy.ts: 427ms, render: 801ms)
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 6.6s (compile: 4.1s, proxy.ts: 139ms, render: 2.4s)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 2.2s (compile: 1056ms, proxy.ts: 267ms, render: 899ms)
 GET /api/acuity/stats?type=occupation&days=21 200 in 6.7s (compile: 3.8s, proxy.ts: 434ms, render: 2.5s)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:45:20.124Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:45:20.127Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:45:20.129Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 446ms (compile: 194ms, proxy.ts: 129ms, render: 123ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:45:20.197Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 475ms (compile: 39ms, proxy.ts: 139ms, render: 297ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 521ms (compile: 40ms, proxy.ts: 138ms, render: 343ms)
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 531ms (compile: 47ms, proxy.ts: 131ms, render: 353ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T15:45:20.274Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 592ms (compile: 6ms, proxy.ts: 286ms, render: 301ms)
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 638ms (compile: 111ms, proxy.ts: 193ms, render: 333ms)
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:45:20.455Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T15:45:20.466Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 378ms (compile: 36ms, proxy.ts: 123ms, render: 218ms)
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:45:20.603Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=occupation&days=21 200 in 581ms (compile: 4ms, proxy.ts: 214ms, render: 363ms)
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 698ms (compile: 41ms, proxy.ts: 122ms, render: 535ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Annual Totals API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_annual with parameter p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_annual(p_years) in the schema cache'
}
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 500 in 858ms (compile: 64ms, proxy.ts: 190ms, render: 603ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 1492ms (compile: 91ms, proxy.ts: 191ms, render: 1210ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[By Store API] Fetching data for years: 2025, grouping: monthly
[Annual Totals API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_annual with parameter p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_annual(p_years) in the schema cache'
}
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 500 in 1849ms (compile: 1587ms, proxy.ts: 91ms, render: 172ms)
[By Store API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_by_store with parameters p_grouping, p_months, p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_by_store(p_grouping, p_months, p_years) in the schema cache'
}
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 500 in 2.8s (compile: 2.5s, proxy.ts: 191ms, render: 174ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_by_store with parameters p_grouping, p_months, p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_by_store(p_grouping, p_months, p_years) in the schema cache'
}
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 500 in 2.9s (compile: 2.5s, proxy.ts: 189ms, render: 200ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /citas 200 in 296ms (compile: 72ms, proxy.ts: 171ms, render: 54ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[By Store API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_by_store with parameters p_grouping, p_months, p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_by_store(p_grouping, p_months, p_years) in the schema cache'
}
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 500 in 281ms (compile: 8ms, proxy.ts: 95ms, render: 178ms)
[By Store API] Fetching data for years: 2025, grouping: monthly
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 1656ms (compile: 857ms, proxy.ts: 260ms, render: 539ms)
[By Store API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_by_store with parameters p_grouping, p_months, p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_by_store(p_grouping, p_months, p_years) in the schema cache'
}
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 500 in 353ms (compile: 4ms, proxy.ts: 171ms, render: 178ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 218ms (compile: 44ms, proxy.ts: 141ms, render: 33ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 212ms (compile: 43ms, proxy.ts: 140ms, render: 29ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 2
[Historical Compare API] Year 2021: 28 appointments found (via RPC)
[Historical Compare API] Year 2022: 312 appointments found (via RPC)
[Historical Compare API] Year 2023: 1198 appointments found (via RPC)
[Historical Compare API] Year 2024: 1610 appointments found (via RPC)
[Historical Compare API] Year 2025: 1797 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=2 200 in 1074ms (compile: 45ms, proxy.ts: 174ms, render: 855ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 858ms (compile: 17ms, proxy.ts: 255ms, render: 587ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:47:15.427Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:47:15.436Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:47:15.446Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:47:15.482Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:47:15.484Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:47:15.486Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 369ms (compile: 31ms, proxy.ts: 128ms, render: 210ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 444ms (compile: 3ms, proxy.ts: 175ms, render: 267ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T15:47:15.817Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T15:47:15.919Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 789ms (compile: 3ms, proxy.ts: 208ms, render: 578ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 809ms (compile: 6ms, proxy.ts: 205ms, render: 599ms)
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 412ms (compile: 5ms, proxy.ts: 194ms, render: 213ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 549ms (compile: 2ms, proxy.ts: 74ms, render: 473ms)
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 932ms (compile: 8ms, proxy.ts: 202ms, render: 721ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:47:16.144Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=occupation&days=21 200 in 1010ms (compile: 1939Âµs, proxy.ts: 176ms, render: 832ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 247ms (compile: 5ms, proxy.ts: 84ms, render: 158ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:47:16.256Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:47:16.257Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T15:47:16.323Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:47:16.328Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 275ms (compile: 6ms, proxy.ts: 101ms, render: 168ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T15:47:16.354Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:47:16.377Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 295ms (compile: 20ms, proxy.ts: 113ms, render: 162ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 340ms (compile: 4ms, proxy.ts: 110ms, render: 226ms)
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 472ms (compile: 19ms, proxy.ts: 150ms, render: 303ms)
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:47:16.524Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 347ms (compile: 6ms, proxy.ts: 79ms, render: 262ms)
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 337ms (compile: 1431Âµs, proxy.ts: 77ms, render: 258ms)
 GET /api/acuity/stats?type=occupation&days=21 200 in 374ms (compile: 11ms, proxy.ts: 80ms, render: 283ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_by_store with parameters p_grouping, p_months, p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_by_store(p_grouping, p_months, p_years) in the schema cache'
}
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 500 in 272ms (compile: 8ms, proxy.ts: 110ms, render: 154ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Annual Totals API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_annual with parameter p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_annual(p_years) in the schema cache'
}
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 500 in 283ms (compile: 9ms, proxy.ts: 131ms, render: 143ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_by_store with parameters p_grouping, p_months, p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_by_store(p_grouping, p_months, p_years) in the schema cache'
}
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 500 in 326ms (compile: 6ms, proxy.ts: 129ms, render: 190ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[By Store API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_by_store with parameters p_grouping, p_months, p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_by_store(p_grouping, p_months, p_years) in the schema cache'
}
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 500 in 232ms (compile: 1722Âµs, proxy.ts: 78ms, render: 152ms)
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 606ms (compile: 20ms, proxy.ts: 112ms, render: 474ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Annual Totals API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_annual with parameter p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_annual(p_years) in the schema cache'
}
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 500 in 506ms (compile: 4ms, proxy.ts: 84ms, render: 419ms)
[By Store API] RPC Error: {
  code: 'PGRST202',
  details: 'Searched for the function public.get_historical_stats_by_store with parameters p_grouping, p_months, p_years or with a single unnamed json/jsonb parameter, but no matches were found in the schema cache.',
  hint: 'Perhaps you meant to call the function public.get_historical_stats_by_year_month',
  message: 'Could not find the function public.get_historical_stats_by_store(p_grouping, p_months, p_years) in the schema cache'
}
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 500 in 522ms (compile: 4ms, proxy.ts: 81ms, render: 437ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 1120ms (compile: 4ms, proxy.ts: 342ms, render: 774ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 325ms (compile: 7ms, proxy.ts: 238ms, render: 80ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:48:53.071Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:48:53.107Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:48:53.110Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:48:53.112Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:48:53.119Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:48:53.120Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 447ms (compile: 25ms, proxy.ts: 228ms, render: 193ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 472ms (compile: 4ms, proxy.ts: 226ms, render: 243ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 483ms (compile: 3ms, proxy.ts: 204ms, render: 277ms)
 GET /api/acuity/stats?type=monthly&months=12 200 in 491ms (compile: 10ms, proxy.ts: 219ms, render: 261ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 623ms (compile: 12ms, proxy.ts: 218ms, render: 394ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T15:48:53.414Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:48:53.439Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=occupation&days=21 200 in 663ms (compile: 9ms, proxy.ts: 220ms, render: 434ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T15:48:53.449Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:48:53.497Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 283ms (compile: 7ms, proxy.ts: 75ms, render: 201ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:48:53.579Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 321ms (compile: 5ms, proxy.ts: 101ms, render: 216ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 372ms (compile: 1607Âµs, proxy.ts: 129ms, render: 242ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:48:53.622Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=monthly&months=12 200 in 252ms (compile: 1806Âµs, proxy.ts: 85ms, render: 165ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:48:53.715Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 321ms (compile: 2ms, proxy.ts: 81ms, render: 238ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T15:48:53.784Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T15:48:53.830Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 246ms (compile: 3ms, proxy.ts: 80ms, render: 163ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T15:48:53.865Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 433ms (compile: 1613Âµs, proxy.ts: 91ms, render: 341ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 332ms (compile: 1455Âµs, proxy.ts: 82ms, render: 248ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=occupation&days=21 200 in 670ms (compile: 1883Âµs, proxy.ts: 148ms, render: 520ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[By Store API] Fetching data for years: 2025, grouping: monthly
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 845ms (compile: 164ms, proxy.ts: 210ms, render: 472ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, grouping: monthly
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 1026ms (compile: 121ms, proxy.ts: 209ms, render: 696ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 871ms (compile: 3ms, proxy.ts: 381ms, render: 486ms)
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 1118ms (compile: 169ms, proxy.ts: 214ms, render: 735ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 1833ms (compile: 1942Âµs, proxy.ts: 86ms, render: 1746ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 307ms (compile: 3ms, proxy.ts: 80ms, render: 224ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 382ms (compile: 8ms, proxy.ts: 99ms, render: 274ms)
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 400ms (compile: 5ms, proxy.ts: 199ms, render: 196ms)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 676ms (compile: 6ms, proxy.ts: 98ms, render: 573ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/monthly-breakdown',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Monthly Breakdown API] Fetching data for years: 2025
[Monthly Breakdown API] Success - Retrieved monthly data for 1 years
 GET /api/citas/historical/monthly-breakdown?years=2025 200 in 1930ms (compile: 1494ms, proxy.ts: 167ms, render: 269ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/monthly-breakdown',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/monthly-breakdown',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/monthly-breakdown',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/monthly-breakdown',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Monthly Breakdown API] Fetching data for years: 2023
[Monthly Breakdown API] Fetching data for years: 2022
[Monthly Breakdown API] Fetching data for years: 2021
[Monthly Breakdown API] Fetching data for years: 2024
[Monthly Breakdown API] Success - Retrieved monthly data for 1 years
 GET /api/citas/historical/monthly-breakdown?years=2023 200 in 683ms (compile: 6ms, proxy.ts: 177ms, render: 500ms)
[Monthly Breakdown API] Success - Retrieved monthly data for 1 years
 GET /api/citas/historical/monthly-breakdown?years=2021 200 in 700ms (compile: 3ms, proxy.ts: 199ms, render: 498ms)
[Monthly Breakdown API] Success - Retrieved monthly data for 1 years
 GET /api/citas/historical/monthly-breakdown?years=2022 200 in 701ms (compile: 2ms, proxy.ts: 199ms, render: 500ms)
[Monthly Breakdown API] Success - Retrieved monthly data for 1 years
 GET /api/citas/historical/monthly-breakdown?years=2024 200 in 708ms (compile: 4ms, proxy.ts: 197ms, render: 507ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2024, grouping: monthly
[By Store API] Success - Retrieved data for 8 stores
 GET /api/citas/historical/by-store?years=2024&grouping=monthly 200 in 520ms (compile: 24ms, proxy.ts: 288ms, render: 208ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2023, grouping: monthly
[By Store API] Success - Retrieved data for 6 stores
 GET /api/citas/historical/by-store?years=2023&grouping=monthly 200 in 298ms (compile: 3ms, proxy.ts: 84ms, render: 212ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 339ms (compile: 7ms, proxy.ts: 120ms, render: 212ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 806ms (compile: 305ms, proxy.ts: 440ms, render: 60ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 210ms (compile: 6ms, proxy.ts: 180ms, render: 23ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 144ms (compile: 4ms, proxy.ts: 118ms, render: 22ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 2
[Historical Compare API] Year 2021: 28 appointments found (via RPC)
[Historical Compare API] Year 2022: 312 appointments found (via RPC)
[Historical Compare API] Year 2023: 1198 appointments found (via RPC)
[Historical Compare API] Year 2024: 1610 appointments found (via RPC)
[Historical Compare API] Year 2025: 1797 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=2 200 in 3.1s (compile: 1389ms, proxy.ts: 312ms, render: 1357ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 330ms (compile: 120ms, proxy.ts: 177ms, render: 34ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 287ms (compile: 77ms, proxy.ts: 183ms, render: 27ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 240ms (compile: 44ms, proxy.ts: 173ms, render: 23ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 207ms (compile: 45ms, proxy.ts: 137ms, render: 25ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 1769ms (compile: 1162ms, proxy.ts: 170ms, render: 436ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 539ms (compile: 1872Âµs, proxy.ts: 85ms, render: 452ms)
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, month: 2, store: Madrid
[Historical Compare API] Year 2025: 762 appointments found (via RPC)
[Historical Compare API] Year 2024: 655 appointments found (via RPC)
[Historical Compare API] Year 2023: 598 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023&month=2&storeCity=Madrid 200 in 985ms (compile: 356ms, proxy.ts: 125ms, render: 503ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, month: 2, store: Madrid
[Historical Compare API] Year 2025: 762 appointments found (via RPC)
[Historical Compare API] Year 2024: 655 appointments found (via RPC)
[Historical Compare API] Year 2023: 598 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023&month=2&storeCity=Madrid 200 in 480ms (compile: 1334Âµs, proxy.ts: 78ms, render: 401ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
 GET /api/citas/historical?year=2024 200 in 619ms (compile: 110ms, proxy.ts: 110ms, render: 398ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 1731ms (compile: 898ms, proxy.ts: 322ms, render: 511ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 1815ms (compile: 877ms, proxy.ts: 344ms, render: 594ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 1816ms (compile: 876ms, proxy.ts: 344ms, render: 596ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, month: 1, store: Madrid
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
 GET /api/citas/historical?year=2024 200 in 390ms (compile: 1554Âµs, proxy.ts: 82ms, render: 306ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 365ms (compile: 14ms, proxy.ts: 96ms, render: 254ms)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 457ms (compile: 15ms, proxy.ts: 122ms, render: 320ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 467ms (compile: 16ms, proxy.ts: 123ms, render: 327ms)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 2.3s (compile: 883ms, proxy.ts: 338ms, render: 1070ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023&month=1&storeCity=Madrid 200 in 729ms (compile: 22ms, proxy.ts: 147ms, render: 560ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, month: 1, store: Madrid
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023&month=1&storeCity=Madrid 200 in 645ms (compile: 1886Âµs, proxy.ts: 90ms, render: 554ms)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 953ms (compile: 3ms, proxy.ts: 119ms, render: 831ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 720ms (compile: 11ms, proxy.ts: 223ms, render: 486ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 557ms (compile: 3ms, proxy.ts: 112ms, render: 442ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 533ms (compile: 3ms, proxy.ts: 160ms, render: 370ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, month: 1, store: Madrid
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical?year=2024 200 in 436ms (compile: 8ms, proxy.ts: 126ms, render: 302ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023&month=1&storeCity=Madrid 200 in 606ms (compile: 3ms, proxy.ts: 154ms, render: 449ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, month: 1, store: Madrid
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023&month=1&storeCity=Madrid 200 in 518ms (compile: 4ms, proxy.ts: 88ms, render: 426ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 347ms (compile: 81ms, proxy.ts: 229ms, render: 36ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 170ms (compile: 4ms, proxy.ts: 152ms, render: 14ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: monthly
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 481ms (compile: 10ms, proxy.ts: 169ms, render: 302ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 496ms (compile: 9ms, proxy.ts: 171ms, render: 317ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 519ms (compile: 79ms, proxy.ts: 176ms, render: 264ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: monthly
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 312ms (compile: 1346Âµs, proxy.ts: 91ms, render: 220ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 312ms (compile: 5ms, proxy.ts: 136ms, render: 171ms)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 341ms (compile: 1776Âµs, proxy.ts: 95ms, render: 244ms)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 963ms (compile: 74ms, proxy.ts: 175ms, render: 714ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 691ms (compile: 1303Âµs, proxy.ts: 95ms, render: 594ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 433ms (compile: 8ms, proxy.ts: 164ms, render: 260ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, month: 1, store: Madrid
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical?year=2024 200 in 368ms (compile: 2ms, proxy.ts: 96ms, render: 269ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023&month=1&storeCity=Madrid 200 in 456ms (compile: 1587Âµs, proxy.ts: 125ms, render: 329ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, month: 1, store: Madrid
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023&month=1&storeCity=Madrid 200 in 407ms (compile: 2ms, proxy.ts: 79ms, render: 325ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
[By Store API] Fetching data for years: 2025, grouping: monthly
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 2.3s (compile: 1466ms, proxy.ts: 642ms, render: 233ms)
 GET /citas 200 in 202ms (compile: 49ms, proxy.ts: 111ms, render: 42ms)
 GET /api/citas/historical?year=2024 200 in 2.4s (compile: 1475ms, proxy.ts: 633ms, render: 260ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2023, 2024, 2025, grouping: annual
[By Store API] Fetching data for years: 2023, 2024, 2025, grouping: monthly
[Historical Compare API] Fetching data for years: 2023, 2024, 2025, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2023,2024,2025&grouping=annual 200 in 458ms (compile: 19ms, proxy.ts: 151ms, render: 288ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2023,2024,2025&grouping=monthly 200 in 469ms (compile: 16ms, proxy.ts: 154ms, render: 298ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 541ms (compile: 10ms, proxy.ts: 238ms, render: 293ms)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2023,2024,2025&month=1&storeCity=Madrid 200 in 593ms (compile: 43ms, proxy.ts: 153ms, render: 398ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 219ms (compile: 54ms, proxy.ts: 136ms, render: 29ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, month: 1, store: Sevilla
[By Store API] Fetching data for years: 2025, 2024, 2023, grouping: monthly
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2025, 2024, 2023, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Year 2025: 478 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 491ms (compile: 104ms, proxy.ts: 165ms, render: 223ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 496ms (compile: 115ms, proxy.ts: 169ms, render: 211ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023&grouping=annual 200 in 525ms (compile: 108ms, proxy.ts: 161ms, render: 256ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023&grouping=monthly 200 in 546ms (compile: 103ms, proxy.ts: 166ms, render: 277ms)
[Historical Compare API] Year 2024: 422 appointments found (via RPC)
[Historical Compare API] Year 2023: 284 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023&month=1&storeCity=Sevilla 200 in 638ms (compile: 94ms, proxy.ts: 164ms, render: 380ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2025, 2024, 2023, grouping: monthly
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, month: 1, store: MÃ¡laga
[By Store API] Fetching data for years: 2025, 2024, 2023, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Year 2025: 186 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 351ms (compile: 9ms, proxy.ts: 153ms, render: 189ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023&grouping=monthly 200 in 378ms (compile: 7ms, proxy.ts: 155ms, render: 216ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 405ms (compile: 54ms, proxy.ts: 159ms, render: 192ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023&grouping=annual 200 in 407ms (compile: 39ms, proxy.ts: 179ms, render: 188ms)
[Historical Compare API] Year 2024: 127 appointments found (via RPC)
[Historical Compare API] Year 2023: 28 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023&month=1&storeCity=M%C3%A1laga 200 in 530ms (compile: 19ms, proxy.ts: 157ms, render: 354ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 299ms (compile: 107ms, proxy.ts: 104ms, render: 88ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2025, 2024, 2023, grouping: annual
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, month: 1, store: Barcelona
[By Store API] Fetching data for years: 2025, 2024, 2023, grouping: monthly
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 373ms (compile: 36ms, proxy.ts: 155ms, render: 181ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023&grouping=annual 200 in 386ms (compile: 30ms, proxy.ts: 161ms, render: 194ms)
[Historical Compare API] Year 2025: 129 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023&grouping=monthly 200 in 408ms (compile: 31ms, proxy.ts: 161ms, render: 217ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 449ms (compile: 1036Âµs, proxy.ts: 223ms, render: 224ms)
[Historical Compare API] Year 2024: 24 appointments found (via RPC)
[Historical Compare API] Year 2023: 36 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023&month=1&storeCity=Barcelona 200 in 553ms (compile: 5ms, proxy.ts: 211ms, render: 338ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2025, 2024, 2023, grouping: annual
[By Store API] Fetching data for years: 2025, 2024, 2023, grouping: monthly
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, month: 1, store: Murcia
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 352ms (compile: 12ms, proxy.ts: 162ms, render: 177ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023&grouping=annual 200 in 367ms (compile: 1340Âµs, proxy.ts: 174ms, render: 192ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 369ms (compile: 6ms, proxy.ts: 160ms, render: 202ms)
[Historical Compare API] Year 2025: 80 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023&grouping=monthly 200 in 421ms (compile: 1075Âµs, proxy.ts: 186ms, render: 234ms)
[Historical Compare API] Year 2024: 23 appointments found (via RPC)
[Historical Compare API] Year 2023: 0 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023&month=1&storeCity=Murcia 200 in 553ms (compile: 1223Âµs, proxy.ts: 193ms, render: 359ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, grouping: annual
[By Store API] Fetching data for years: 2025, 2024, 2023, grouping: monthly
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: monthly
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 379ms (compile: 2ms, proxy.ts: 191ms, render: 186ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023&grouping=annual 200 in 380ms (compile: 3ms, proxy.ts: 190ms, render: 187ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023&grouping=monthly 200 in 395ms (compile: 3ms, proxy.ts: 169ms, render: 223ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 425ms (compile: 964Âµs, proxy.ts: 210ms, render: 214ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023&month=1&storeCity=Madrid 200 in 533ms (compile: 14ms, proxy.ts: 168ms, render: 351ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2025, 2024, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, 2024, grouping: monthly
[By Store API] Fetching data for years: 2025, 2024, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024&grouping=annual 200 in 380ms (compile: 10ms, proxy.ts: 180ms, render: 190ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024&grouping=monthly 200 in 393ms (compile: 5ms, proxy.ts: 202ms, render: 187ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 397ms (compile: 10ms, proxy.ts: 180ms, render: 207ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024&month=1&storeCity=Madrid 200 in 450ms (compile: 43ms, proxy.ts: 140ms, render: 267ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2025, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025&month=1&storeCity=Madrid 200 in 283ms (compile: 10ms, proxy.ts: 101ms, render: 172ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 307ms (compile: 6ms, proxy.ts: 100ms, render: 202ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 321ms (compile: 7ms, proxy.ts: 98ms, render: 216ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 286ms (compile: 3ms, proxy.ts: 83ms, render: 199ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, grouping: annual
[By Store API] Fetching data for years: 2025, 2024, grouping: monthly
[Historical Compare API] Fetching data for years: 2025, 2024, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024&grouping=annual 200 in 345ms (compile: 5ms, proxy.ts: 114ms, render: 226ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 348ms (compile: 1074Âµs, proxy.ts: 161ms, render: 187ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024&grouping=monthly 200 in 351ms (compile: 4ms, proxy.ts: 116ms, render: 232ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024&month=1&storeCity=Madrid 200 in 420ms (compile: 1494Âµs, proxy.ts: 146ms, render: 273ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2024, grouping: annual
[By Store API] Fetching data for years: 2024, grouping: monthly
[Historical Compare API] Fetching data for years: 2024, month: 1, store: Madrid
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 277ms (compile: 12ms, proxy.ts: 95ms, render: 170ms)
[By Store API] Success - Retrieved data for 8 stores
 GET /api/citas/historical/by-store?years=2024&grouping=annual 200 in 291ms (compile: 8ms, proxy.ts: 100ms, render: 183ms)
[By Store API] Success - Retrieved data for 8 stores
 GET /api/citas/historical/by-store?years=2024&grouping=monthly 200 in 297ms (compile: 5ms, proxy.ts: 131ms, render: 161ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2024&month=1&storeCity=Madrid 200 in 302ms (compile: 27ms, proxy.ts: 104ms, render: 171ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, grouping: monthly
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2025, 2024, grouping: annual
[Historical Compare API] Fetching data for years: 2025, 2024, month: 1, store: Madrid
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024&grouping=monthly 200 in 340ms (compile: 46ms, proxy.ts: 123ms, render: 171ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 341ms (compile: 6ms, proxy.ts: 163ms, render: 172ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024&grouping=annual 200 in 375ms (compile: 4ms, proxy.ts: 165ms, render: 206ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024&month=1&storeCity=Madrid 200 in 443ms (compile: 14ms, proxy.ts: 164ms, render: 265ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, grouping: monthly
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2025, 2024, 2023, grouping: annual
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023&grouping=monthly 200 in 368ms (compile: 13ms, proxy.ts: 161ms, render: 194ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 378ms (compile: 10ms, proxy.ts: 163ms, render: 205ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023&grouping=annual 200 in 394ms (compile: 11ms, proxy.ts: 163ms, render: 221ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023&month=1&storeCity=Madrid 200 in 498ms (compile: 25ms, proxy.ts: 167ms, render: 307ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, grouping: annual
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, 2022, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, grouping: monthly
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 351ms (compile: 3ms, proxy.ts: 131ms, render: 217ms)
[By Store API] Success - Retrieved data for 14 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022&grouping=annual 200 in 357ms (compile: 3ms, proxy.ts: 115ms, render: 239ms)
[By Store API] Success - Retrieved data for 14 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022&grouping=monthly 200 in 362ms (compile: 6ms, proxy.ts: 128ms, render: 228ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023,2022&month=1&storeCity=Madrid 200 in 582ms (compile: 13ms, proxy.ts: 129ms, render: 439ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: monthly
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, month: 1, store: Madrid
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 311ms (compile: 9ms, proxy.ts: 103ms, render: 199ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=monthly 200 in 316ms (compile: 12ms, proxy.ts: 101ms, render: 203ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 319ms (compile: 4ms, proxy.ts: 109ms, render: 206ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023,2022,2021&month=1&storeCity=Madrid 200 in 620ms (compile: 17ms, proxy.ts: 107ms, render: 497ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
[By Store API] Fetching data for years: 2025, grouping: monthly
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 1767ms (compile: 741ms, proxy.ts: 783ms, render: 243ms)
 GET /citas 200 in 231ms (compile: 46ms, proxy.ts: 144ms, render: 41ms)
 GET /api/citas/historical?year=2024 200 in 1956ms (compile: 740ms, proxy.ts: 783ms, render: 432ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 339ms (compile: 1625Âµs, proxy.ts: 87ms, render: 251ms)
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 1430ms (compile: 1031ms, proxy.ts: 137ms, render: 261ms)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 1564ms (compile: 995ms, proxy.ts: 174ms, render: 396ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 1852ms (compile: 1055ms, proxy.ts: 114ms, render: 683ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
 GET /citas 200 in 323ms (compile: 39ms, proxy.ts: 251ms, render: 34ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 576ms (compile: 47ms, proxy.ts: 150ms, render: 378ms)
 GET /api/citas/historical?year=2024 200 in 609ms (compile: 41ms, proxy.ts: 149ms, render: 419ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 297ms (compile: 1341Âµs, proxy.ts: 113ms, render: 182ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 333ms (compile: 939Âµs, proxy.ts: 160ms, render: 172ms)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 405ms (compile: 1057Âµs, proxy.ts: 155ms, render: 249ms)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 752ms (compile: 11ms, proxy.ts: 96ms, render: 645ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 252ms (compile: 50ms, proxy.ts: 160ms, render: 42ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 215ms (compile: 50ms, proxy.ts: 141ms, render: 24ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 190ms (compile: 44ms, proxy.ts: 132ms, render: 14ms)
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expression expected
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:199:1]
 196 |           )}
 197 |         </div>
 198 |       </CardContent>
 199 |     </Card>
     :     ^
 200 |   );
 201 | }
     `----
  x Unterminated regexp literal
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:199:1]
 196 |           )}
 197 |         </div>
 198 |       </CardContent>
 199 |     </Card>
     :      ^^^^^^
 200 |   );
 201 | }
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expected ',', got '{'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:200:1]
 197 |         </div>
 198 |       </div>
 199 |       
 200 |       {/* Badge de posiciÃ³n grande */}
     :       ^
 201 |       <div className="flex items-center justify-center">
 202 |         <Badge variant={getPositionBadgeVariant(position)} className="text-2xl px-6 py-2">
 203 |           #{position}
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expected ',', got '{'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:200:1]
 197 |         </div>
 198 |       </div>
 199 |       
 200 |       {/* Badge de posiciÃ³n grande */}
     :       ^
 201 |       <div className="flex items-center justify-center">
 202 |         <Badge variant={getPositionBadgeVariant(position)} className="text-2xl px-6 py-2">
 203 |           #{position}
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expected ',', got '{'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:200:1]
 197 |         </div>
 198 |       </div>
 199 |       
 200 |       {/* Badge de posiciÃ³n grande */}
     :       ^
 201 |       <div className="flex items-center justify-center">
 202 |         <Badge variant={getPositionBadgeVariant(position)} className="text-2xl px-6 py-2">
 203 |           #{position}
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expected ',', got '{'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:200:1]
 197 |       </div>
 198 |       </div>
 199 |       
 200 |       {/* Badge de posiciÃ³n grande */}
     :       ^
 201 |       <div className="flex items-center justify-center">
 202 |         <Badge variant={getPositionBadgeVariant(position)} className="text-2xl px-6 py-2">
 203 |           #{position}
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expected ',', got '{'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:199:1]
 196 |       </div>
 197 |       </div>
 198 |       
 199 |       {/* Badge de posiciÃ³n grande */}
     :       ^
 200 |       <div className="flex items-center justify-center">
 201 |         <Badge variant={getPositionBadgeVariant(position)} className="text-2xl px-6 py-2">
 202 |           #{position}
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expected ',', got '{'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:199:1]
 196 |       </div>
 197 |       </div>
 198 |       
 199 |       {/* Badge de posiciÃ³n grande */}
     :       ^
 200 |       <div className="flex items-center justify-center">
 201 |         <Badge variant={getPositionBadgeVariant(position)} className="text-2xl px-6 py-2">
 202 |           #{position}
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expected ',', got '{'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:199:1]
 196 |       </div>
 197 |       </div>
 198 |       
 199 |       {/* Badge de posiciÃ³n grande */}
     :       ^
 200 |       <div className="flex items-center justify-center">
 201 |         <Badge variant={getPositionBadgeVariant(position)} className="text-2xl px-6 py-2">
 202 |           #{position}
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expected ',', got '{'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:199:1]
 196 |       </div>
 197 |       </div>
 198 |       
 199 |       {/* Badge de posiciÃ³n grande */}
     :       ^
 200 |       <div className="flex items-center justify-center">
 201 |         <Badge variant={getPositionBadgeVariant(position)} className="text-2xl px-6 py-2">
 202 |           #{position}
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expected ',', got '{'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:199:1]
 196 |       </div>
 197 |       </div>
 198 |       
 199 |       {/* Badge de posiciÃ³n grande */}
     :       ^
 200 |       <div className="flex items-center justify-center">
 201 |         <Badge variant={getPositionBadgeVariant(position)} className="text-2xl px-6 py-2">
 202 |           #{position}
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expected ',', got '{'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:199:1]
 196 |       </div>
 197 |       </div>
 198 |       
 199 |       {/* Badge de posiciÃ³n grande */}
     :       ^
 200 |       <div className="flex items-center justify-center">
 201 |         <Badge variant={getPositionBadgeVariant(position)} className="text-2xl px-6 py-2">
 202 |           #{position}
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expected ',', got '{'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:199:1]
 196 |       </div>
 197 |       </div>
 198 |       
 199 |       {/* Badge de posiciÃ³n grande */}
     :       ^
 200 |       <div className="flex items-center justify-center">
 201 |         <Badge variant={getPositionBadgeVariant(position)} className="text-2xl px-6 py-2">
 202 |           #{position}
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expected ',', got '{'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:199:1]
 196 |       </div>
 197 |       </div>
 198 |       
 199 |       {/* Badge de posiciÃ³n grande */}
     :       ^
 200 |       <div className="flex items-center justify-center">
 201 |         <Badge variant={getPositionBadgeVariant(position)} className="text-2xl px-6 py-2">
 202 |           #{position}
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expected ',', got '{'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:199:1]
 196 |       </div>
 197 |       </div>
 198 |       
 199 |       {/* Badge de posiciÃ³n grande */}
     :       ^
 200 |       <div className="flex items-center justify-center">
 201 |         <Badge variant={getPositionBadgeVariant(position)} className="text-2xl px-6 py-2">
 202 |           #{position}
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â¨¯ ./src/components/citas/StoreRankingCard.tsx
Error:   x Expected ',', got '{'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/components/citas/StoreRankingCard.tsx:199:1]
 196 |       </div>
 197 |       </div>
 198 |       
 199 |       {/* Badge de posiciÃ³n grande */}
     :       ^
 200 |       <div className="flex items-center justify-center">
 201 |         <Badge variant={getPositionBadgeVariant(position)} className="text-2xl px-6 py-2">
 202 |           #{position}
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/components/citas/StoreRankingCard.tsx
./src/app/(dashboard)/citas/comparativas/tienda-view.tsx
./src/app/(dashboard)/citas/comparativas/HistoricalComparativesSection.tsx
./src/app/(dashboard)/citas/page.tsx
â—‹ Compiling /_error ...
 GET /citas 500 in 7.6s (compile: 7.0s, proxy.ts: 454ms, render: 92ms)
 GET /citas 500 in 1223ms (compile: 977ms, proxy.ts: 163ms, render: 83ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 3.6s (compile: 533ms, proxy.ts: 455ms, render: 2.6s)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 1036ms (compile: 7ms, proxy.ts: 979ms, render: 50ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/acuity/stats ...
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:15:12.560Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:15:12.564Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:15:12.566Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:15:12.567Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:15:12.574Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:15:12.606Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 5.4s (compile: 4.2s, proxy.ts: 601ms, render: 656ms)
 GET /api/acuity/stats?type=monthly&months=12 200 in 5.4s (compile: 4.1s, proxy.ts: 633ms, render: 659ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 5.5s (compile: 4.6s, proxy.ts: 138ms, render: 721ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 5.6s (compile: 3.8s, proxy.ts: 957ms, render: 799ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 5.6s (compile: 4.1s, proxy.ts: 636ms, render: 839ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=occupation&days=21 200 in 5.6s (compile: 3.8s, proxy.ts: 958ms, render: 855ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T16:15:13.050Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T16:15:13.073Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:15:13.109Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:15:13.171Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 332ms (compile: 6ms, proxy.ts: 135ms, render: 191ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:15:13.199Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 362ms (compile: 7ms, proxy.ts: 96ms, render: 258ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 295ms (compile: 1164Âµs, proxy.ts: 97ms, render: 197ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:15:13.245Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 263ms (compile: 1320Âµs, proxy.ts: 90ms, render: 172ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 284ms (compile: 2ms, proxy.ts: 88ms, render: 194ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:15:13.372Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:15:13.386Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 355ms (compile: 3ms, proxy.ts: 105ms, render: 248ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T16:15:13.405Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T16:15:13.439Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 269ms (compile: 1604Âµs, proxy.ts: 93ms, render: 175ms)
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 282ms (compile: 1297Âµs, proxy.ts: 83ms, render: 197ms)
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 398ms (compile: 1712Âµs, proxy.ts: 103ms, render: 293ms)
 GET /api/acuity/stats?type=occupation&days=21 200 in 423ms (compile: 1074Âµs, proxy.ts: 81ms, render: 340ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 2.7s (compile: 2.1s, proxy.ts: 272ms, render: 333ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 2.8s (compile: 2.1s, proxy.ts: 273ms, render: 432ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 2.8s (compile: 1553ms, proxy.ts: 792ms, render: 450ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, grouping: monthly
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 2.9s (compile: 2.1s, proxy.ts: 275ms, render: 544ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 253ms (compile: 1328Âµs, proxy.ts: 81ms, render: 170ms)
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 337ms (compile: 2ms, proxy.ts: 78ms, render: 258ms)
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 399ms (compile: 1282Âµs, proxy.ts: 80ms, render: 317ms)
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 773ms (compile: 62ms, proxy.ts: 164ms, render: 547ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 323ms (compile: 4ms, proxy.ts: 100ms, render: 218ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 349ms (compile: 2ms, proxy.ts: 103ms, render: 244ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 1212ms (compile: 910ms, proxy.ts: 90ms, render: 212ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 935ms (compile: 549ms, proxy.ts: 151ms, render: 234ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 963ms (compile: 550ms, proxy.ts: 167ms, render: 246ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 1300ms (compile: 907ms, proxy.ts: 146ms, render: 247ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/citas/historical?year=2024 200 in 1316ms (compile: 932ms, proxy.ts: 122ms, render: 262ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 263ms (compile: 1347Âµs, proxy.ts: 99ms, render: 162ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 1567ms (compile: 910ms, proxy.ts: 143ms, render: 514ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 318ms (compile: 939Âµs, proxy.ts: 83ms, render: 234ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 304ms (compile: 993Âµs, proxy.ts: 88ms, render: 215ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 314ms (compile: 1140Âµs, proxy.ts: 80ms, render: 233ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: annual
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 258ms (compile: 4ms, proxy.ts: 89ms, render: 165ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 287ms (compile: 1436Âµs, proxy.ts: 77ms, render: 208ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 349ms (compile: 12ms, proxy.ts: 103ms, render: 234ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: monthly
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 253ms (compile: 1286Âµs, proxy.ts: 84ms, render: 167ms)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=monthly 200 in 330ms (compile: 9ms, proxy.ts: 93ms, render: 227ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 261ms (compile: 1984Âµs, proxy.ts: 80ms, render: 179ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 611ms (compile: 1012Âµs, proxy.ts: 79ms, render: 531ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023,2022,2021&month=1&storeCity=Madrid 200 in 622ms (compile: 2ms, proxy.ts: 89ms, render: 530ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 273ms (compile: 3ms, proxy.ts: 84ms, render: 186ms)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 604ms (compile: 1415Âµs, proxy.ts: 100ms, render: 503ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 330ms (compile: 3ms, proxy.ts: 101ms, render: 226ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 306ms (compile: 3ms, proxy.ts: 84ms, render: 218ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Fetching data for years: 2024, grouping: annual
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: monthly
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, month: 1, store: Madrid
[By Store API] Success - Retrieved data for 8 stores
 GET /api/citas/historical/by-store?years=2024&grouping=annual 200 in 666ms (compile: 11ms, proxy.ts: 430ms, render: 226ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 680ms (compile: 13ms, proxy.ts: 427ms, render: 240ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=monthly 200 in 690ms (compile: 2ms, proxy.ts: 464ms, render: 224ms)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023,2022,2021&month=1&storeCity=Madrid 200 in 1129ms (compile: 4ms, proxy.ts: 511ms, render: 613ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 283ms (compile: 5ms, proxy.ts: 85ms, render: 194ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 7.5s (compile: 2.2s, proxy.ts: 4.9s, render: 295ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 7.5s (compile: 2.2s, proxy.ts: 4.9s, render: 302ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 7.5s (compile: 2.2s, proxy.ts: 4.9s, render: 339ms)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
 GET /api/citas/historical?year=2024 200 in 7.5s (compile: 2.2s, proxy.ts: 4.9s, render: 363ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 7.5s (compile: 2.2s, proxy.ts: 4.9s, render: 374ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 10.1s (compile: 2.2s, proxy.ts: 4.9s, render: 3.0s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
 GET /citas 200 in 3.1s (compile: 2.1s, proxy.ts: 97ms, render: 816ms)
[By Store API] Fetching data for years: 2025, grouping: annual
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 3.1s (compile: 1320ms, proxy.ts: 1123ms, render: 662ms)
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 3.5s (compile: 966ms, proxy.ts: 1478ms, render: 1029ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 3.9s (compile: 25ms, proxy.ts: 2.9s, render: 1017ms)
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 1268ms (compile: 163ms, proxy.ts: 893ms, render: 211ms)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 2.5s (compile: 166ms, proxy.ts: 874ms, render: 1491ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 2.9s (compile: 2.4s, proxy.ts: 330ms, render: 236ms)
 GET /citas 200 in 226ms (compile: 37ms, proxy.ts: 150ms, render: 39ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 1581ms (compile: 33ms, proxy.ts: 571ms, render: 977ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 581ms (compile: 4ms, proxy.ts: 131ms, render: 446ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
 GET /api/citas/historical?year=2024 200 in 995ms (compile: 72ms, proxy.ts: 504ms, render: 420ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 1137ms (compile: 30ms, proxy.ts: 495ms, render: 611ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 1150ms (compile: 18ms, proxy.ts: 507ms, render: 624ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 1198ms (compile: 34ms, proxy.ts: 489ms, render: 674ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 1230ms (compile: 29ms, proxy.ts: 497ms, render: 704ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2025, grouping: annual
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 331ms (compile: 1767Âµs, proxy.ts: 83ms, render: 246ms)
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 278ms (compile: 2ms, proxy.ts: 82ms, render: 193ms)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 1424ms (compile: 67ms, proxy.ts: 503ms, render: 854ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 288ms (compile: 4ms, proxy.ts: 79ms, render: 205ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 302ms (compile: 1381Âµs, proxy.ts: 89ms, render: 212ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 355ms (compile: 2ms, proxy.ts: 101ms, render: 252ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 272ms (compile: 4ms, proxy.ts: 81ms, render: 187ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 276ms (compile: 2ms, proxy.ts: 92ms, render: 181ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 404ms (compile: 2ms, proxy.ts: 89ms, render: 312ms)
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 418ms (compile: 2ms, proxy.ts: 103ms, render: 313ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 339ms (compile: 5ms, proxy.ts: 93ms, render: 241ms)
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 729ms (compile: 2ms, proxy.ts: 93ms, render: 633ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 298ms (compile: 1969Âµs, proxy.ts: 80ms, render: 216ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 344ms (compile: 3ms, proxy.ts: 85ms, render: 256ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 342ms (compile: 31ms, proxy.ts: 104ms, render: 206ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 634ms (compile: 1773Âµs, proxy.ts: 97ms, render: 536ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 315ms (compile: 2ms, proxy.ts: 96ms, render: 216ms)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 682ms (compile: 4ms, proxy.ts: 97ms, render: 581ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: monthly
[By Store API] Fetching data for years: 2025, grouping: monthly
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, month: 1, store: Sevilla
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 288ms (compile: 2ms, proxy.ts: 120ms, render: 166ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=monthly 200 in 290ms (compile: 3ms, proxy.ts: 93ms, render: 193ms)
[Historical Compare API] Year 2025: 478 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 325ms (compile: 6ms, proxy.ts: 115ms, render: 203ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 369ms (compile: 1759Âµs, proxy.ts: 142ms, render: 226ms)
[Historical Compare API] Year 2024: 422 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 284 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[Historical Compare API] Year 2022: 0 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 279ms (compile: 1763Âµs, proxy.ts: 75ms, render: 202ms)
[Historical Compare API] Year 2021: 0 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023,2022,2021&month=1&storeCity=Sevilla 200 in 662ms (compile: 5ms, proxy.ts: 107ms, render: 550ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 377ms (compile: 5ms, proxy.ts: 172ms, render: 200ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, month: 1, store: MÃ¡laga
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: monthly
[Historical Compare API] Year 2025: 186 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 275ms (compile: 11ms, proxy.ts: 98ms, render: 166ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 287ms (compile: 8ms, proxy.ts: 107ms, render: 171ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 331ms (compile: 1379Âµs, proxy.ts: 132ms, render: 198ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=monthly 200 in 347ms (compile: 8ms, proxy.ts: 108ms, render: 231ms)
[Historical Compare API] Year 2024: 127 appointments found (via RPC)
[Historical Compare API] Year 2023: 28 appointments found (via RPC)
[Historical Compare API] Year 2022: 0 appointments found (via RPC)
[Historical Compare API] Year 2021: 0 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023,2022,2021&month=1&storeCity=M%C3%A1laga 200 in 651ms (compile: 6ms, proxy.ts: 94ms, render: 552ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 322ms (compile: 2ms, proxy.ts: 93ms, render: 227ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: monthly
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, month: 1, store: Barcelona
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 332ms (compile: 5ms, proxy.ts: 169ms, render: 158ms)
[Historical Compare API] Year 2025: 129 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 374ms (compile: 7ms, proxy.ts: 149ms, render: 217ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=monthly 200 in 388ms (compile: 5ms, proxy.ts: 169ms, render: 214ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 421ms (compile: 1735Âµs, proxy.ts: 186ms, render: 233ms)
[Historical Compare API] Year 2024: 24 appointments found (via RPC)
[Historical Compare API] Year 2023: 36 appointments found (via RPC)
[Historical Compare API] Year 2022: 0 appointments found (via RPC)
[Historical Compare API] Year 2021: 0 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023,2022,2021&month=1&storeCity=Barcelona 200 in 717ms (compile: 9ms, proxy.ts: 170ms, render: 539ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 343ms (compile: 1994Âµs, proxy.ts: 98ms, render: 243ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2022, grouping: monthly
[By Store API] Success - Retrieved data for 13 stores
 GET /api/citas/historical/by-store?years=2022&grouping=monthly 200 in 381ms (compile: 5ms, proxy.ts: 154ms, render: 222ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2023, grouping: monthly
[By Store API] Success - Retrieved data for 6 stores
 GET /api/citas/historical/by-store?years=2023&grouping=monthly 200 in 347ms (compile: 7ms, proxy.ts: 150ms, render: 191ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2024, grouping: monthly
[By Store API] Success - Retrieved data for 8 stores
 GET /api/citas/historical/by-store?years=2024&grouping=monthly 200 in 374ms (compile: 4ms, proxy.ts: 150ms, render: 219ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 403ms (compile: 8ms, proxy.ts: 145ms, render: 249ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 509ms (compile: 43ms, proxy.ts: 178ms, render: 289ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 353ms (compile: 1757Âµs, proxy.ts: 86ms, render: 265ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 1830ms (compile: 55ms, proxy.ts: 283ms, render: 1492ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 704ms (compile: 366ms, proxy.ts: 297ms, render: 42ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 472ms (compile: 56ms, proxy.ts: 377ms, render: 39ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 1028ms (compile: 509ms, proxy.ts: 310ms, render: 209ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 201ms (compile: 4ms, proxy.ts: 148ms, render: 49ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 504ms (compile: 57ms, proxy.ts: 312ms, render: 135ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 167ms (compile: 5ms, proxy.ts: 141ms, render: 21ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 309ms (compile: 8ms, proxy.ts: 273ms, render: 27ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 151ms (compile: 4ms, proxy.ts: 134ms, render: 13ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 235ms (compile: 5ms, proxy.ts: 180ms, render: 50ms)
ğŸ” Middleware Debug: { url: '/calendario', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /calendario 200 in 303ms (compile: 36ms, proxy.ts: 182ms, render: 85ms)
ğŸ” Middleware Debug: {
  url: '/api/calendar/events',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: { url: '/calendario', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/calendar/events ...
 GET /calendario 200 in 3.9s (compile: 3.7s, proxy.ts: 146ms, render: 95ms)
 GET /api/calendar/events?year=2026 200 in 4.2s (compile: 3.7s, proxy.ts: 109ms, render: 335ms)
ğŸ” Middleware Debug: {
  url: '/api/calendar/events',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/calendar/events?year=2026 200 in 345ms (compile: 12ms, proxy.ts: 119ms, render: 214ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 257ms (compile: 41ms, proxy.ts: 199ms, render: 17ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/acuity/stats ...
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:30:05.927Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:30:05.931Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:30:05.933Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:30:05.946Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:30:05.963Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:30:06.043Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 4.2s (compile: 3.8s, proxy.ts: 106ms, render: 263ms)
 GET /api/acuity/stats?type=monthly&months=12 200 in 4.2s (compile: 3.2s, proxy.ts: 709ms, render: 279ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 4.2s (compile: 2.9s, proxy.ts: 955ms, render: 326ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 4.2s (compile: 3.0s, proxy.ts: 867ms, render: 345ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 4.3s (compile: 3.2s, proxy.ts: 715ms, render: 379ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=occupation&days=21 200 in 4.4s (compile: 3.2s, proxy.ts: 703ms, render: 470ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T16:30:06.321Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 412ms (compile: 1873Âµs, proxy.ts: 106ms, render: 304ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:30:07.587Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[By Store API] Fetching data for years: 2025, grouping: monthly
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T16:30:07.606Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 1125ms (compile: 765ms, proxy.ts: 179ms, render: 181ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 1411ms (compile: 996ms, proxy.ts: 192ms, render: 223ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 1512ms (compile: 1193ms, proxy.ts: 90ms, render: 229ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 1586ms (compile: 1231ms, proxy.ts: 94ms, render: 261ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 1690ms (compile: 1250ms, proxy.ts: 127ms, render: 312ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:30:07.872Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:30:07.912Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:30:07.916Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:30:07.934Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
 GET /api/acuity/stats?type=monthly&months=12 200 in 274ms (compile: 1940Âµs, proxy.ts: 90ms, render: 182ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 294ms (compile: 12ms, proxy.ts: 100ms, render: 182ms)
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:30:08.050Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 1897ms (compile: 1262ms, proxy.ts: 80ms, render: 555ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 372ms (compile: 1404Âµs, proxy.ts: 103ms, render: 268ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 376ms (compile: 2ms, proxy.ts: 83ms, render: 291ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T16:30:08.186Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 322ms (compile: 15ms, proxy.ts: 96ms, render: 211ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T16:30:08.308Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=occupation&days=21 200 in 507ms (compile: 10ms, proxy.ts: 124ms, render: 373ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 265ms (compile: 3ms, proxy.ts: 95ms, render: 166ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 360ms (compile: 1265Âµs, proxy.ts: 150ms, render: 209ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 271ms (compile: 2ms, proxy.ts: 74ms, render: 194ms)
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 314ms (compile: 1312Âµs, proxy.ts: 86ms, render: 227ms)
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 567ms (compile: 1879Âµs, proxy.ts: 85ms, render: 480ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 4.0s (compile: 760ms, proxy.ts: 139ms, render: 3.1s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 6.9s (compile: 14ms, proxy.ts: 1260ms, render: 5.7s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 306ms (compile: 100ms, proxy.ts: 171ms, render: 36ms)
 GET /api/citas/historical?year=2024 200 in 4.8s (compile: 4.3s, proxy.ts: 144ms, render: 352ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 1783ms (compile: 1378ms, proxy.ts: 91ms, render: 314ms)
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 1950ms (compile: 1359ms, proxy.ts: 110ms, render: 481ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 298ms (compile: 54ms, proxy.ts: 212ms, render: 32ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 149ms (compile: 6ms, proxy.ts: 106ms, render: 37ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 171ms (compile: 2ms, proxy.ts: 140ms, render: 29ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 179ms (compile: 4ms, proxy.ts: 152ms, render: 23ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 220ms (compile: 6ms, proxy.ts: 185ms, render: 30ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022&stores=all&patternType=all 200 in 498ms (compile: 8ms, proxy.ts: 161ms, render: 329ms)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022&stores=all&insightTypes=all 200 in 519ms (compile: 1951Âµs, proxy.ts: 241ms, render: 277ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022,2021&stores=all&patternType=all 200 in 336ms (compile: 2ms, proxy.ts: 83ms, render: 251ms)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022,2021&stores=all&insightTypes=all 200 in 343ms (compile: 1410Âµs, proxy.ts: 90ms, render: 252ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/insights?years=2025&stores=all&insightTypes=all 200 in 922ms (compile: 6ms, proxy.ts: 640ms, render: 277ms)
 GET /api/citas/historical/patterns?years=2025&stores=all&patternType=all 200 in 962ms (compile: 24ms, proxy.ts: 642ms, render: 296ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022,2021&stores=all&patternType=all 200 in 454ms (compile: 12ms, proxy.ts: 164ms, render: 278ms)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022,2021&stores=all&insightTypes=all 200 in 497ms (compile: 34ms, proxy.ts: 162ms, render: 300ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025&stores=all&patternType=all 200 in 456ms (compile: 7ms, proxy.ts: 149ms, render: 299ms)
 GET /api/citas/historical/insights?years=2025&stores=all&insightTypes=all 200 in 870ms (compile: 1549Âµs, proxy.ts: 176ms, render: 692ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/insights?years=2025,2024,2023,2022,2021&stores=all&insightTypes=all 200 in 447ms (compile: 2ms, proxy.ts: 89ms, render: 356ms)
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022,2021&stores=all&patternType=all 200 in 598ms (compile: 4ms, proxy.ts: 166ms, render: 429ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/insights?years=2025&stores=all&insightTypes=all 200 in 427ms (compile: 8ms, proxy.ts: 106ms, render: 314ms)
 GET /api/citas/historical/patterns?years=2025&stores=all&patternType=all 200 in 454ms (compile: 2ms, proxy.ts: 191ms, render: 261ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022,2021&stores=all&patternType=all 200 in 368ms (compile: 9ms, proxy.ts: 117ms, render: 242ms)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022,2021&stores=all&insightTypes=all 200 in 374ms (compile: 7ms, proxy.ts: 113ms, render: 254ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 2.4s (compile: 54ms, proxy.ts: 633ms, render: 1683ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:36:31.704Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:36:31.714Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:36:31.717Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:36:31.719Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:36:31.731Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:36:31.762Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 1322ms (compile: 125ms, proxy.ts: 653ms, render: 544ms)
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 1330ms (compile: 123ms, proxy.ts: 654ms, render: 553ms)
 GET /api/acuity/stats?type=monthly&months=12 200 in 1369ms (compile: 29ms, proxy.ts: 777ms, render: 563ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 1407ms (compile: 92ms, proxy.ts: 650ms, render: 665ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 1506ms (compile: 171ms, proxy.ts: 571ms, render: 764ms)
 GET /api/acuity/stats?type=occupation&days=21 200 in 1510ms (compile: 167ms, proxy.ts: 574ms, render: 768ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T16:36:32.389Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T16:36:32.415Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:36:32.420Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:36:32.432Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 259ms (compile: 6ms, proxy.ts: 82ms, render: 172ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 333ms (compile: 7ms, proxy.ts: 106ms, render: 219ms)
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 345ms (compile: 1777Âµs, proxy.ts: 94ms, render: 249ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 378ms (compile: 14ms, proxy.ts: 103ms, render: 261ms)
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:36:32.596Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:36:32.618Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=monthly&months=12 200 in 324ms (compile: 22ms, proxy.ts: 82ms, render: 219ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:36:32.746Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T16:36:32.748Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T16:36:32.754Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 438ms (compile: 2ms, proxy.ts: 102ms, render: 334ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T16:36:32.819Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 302ms (compile: 1342Âµs, proxy.ts: 82ms, render: 218ms)
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 365ms (compile: 1637Âµs, proxy.ts: 105ms, render: 258ms)
 GET /api/acuity/stats?type=occupation&days=21 200 in 426ms (compile: 1741Âµs, proxy.ts: 79ms, render: 345ms)
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 462ms (compile: 1053Âµs, proxy.ts: 117ms, render: 344ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 3.0s (compile: 75ms, proxy.ts: 1231ms, render: 1743ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/citas/historical?year=2024 200 in 2000ms (compile: 30ms, proxy.ts: 989ms, render: 980ms)
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 3.2s (compile: 817ms, proxy.ts: 1232ms, render: 1138ms)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 3.2s (compile: 78ms, proxy.ts: 1227ms, render: 1889ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 3.7s (compile: 887ms, proxy.ts: 1234ms, render: 1543ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 581ms (compile: 3ms, proxy.ts: 222ms, render: 355ms)
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 1062ms (compile: 7ms, proxy.ts: 461ms, render: 594ms)
 GET /api/citas/historical?year=2024 200 in 1085ms (compile: 31ms, proxy.ts: 298ms, render: 756ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 1186ms (compile: 34ms, proxy.ts: 297ms, render: 856ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 1210ms (compile: 30ms, proxy.ts: 295ms, render: 885ms)
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 1185ms (compile: 11ms, proxy.ts: 663ms, render: 510ms)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 804ms (compile: 6ms, proxy.ts: 295ms, render: 503ms)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 1879ms (compile: 7ms, proxy.ts: 662ms, render: 1210ms)
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 1147ms (compile: 318ms, proxy.ts: 291ms, render: 538ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022&stores=all&patternType=all 200 in 579ms (compile: 13ms, proxy.ts: 263ms, render: 304ms)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022&stores=all&insightTypes=all 200 in 710ms (compile: 1549Âµs, proxy.ts: 314ms, render: 395ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022,2021&stores=all&patternType=all 200 in 476ms (compile: 6ms, proxy.ts: 127ms, render: 343ms)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022,2021&stores=all&insightTypes=all 200 in 494ms (compile: 8ms, proxy.ts: 128ms, render: 358ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025&stores=all&patternType=all 200 in 1844ms (compile: 32ms, proxy.ts: 849ms, render: 964ms)
 GET /api/citas/historical/insights?years=2025&stores=all&insightTypes=all 200 in 1851ms (compile: 20ms, proxy.ts: 846ms, render: 985ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/insights?years=2025,2024,2023,2022,2021&stores=all&insightTypes=all 200 in 642ms (compile: 8ms, proxy.ts: 219ms, render: 416ms)
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022,2021&stores=all&patternType=all 200 in 752ms (compile: 7ms, proxy.ts: 327ms, render: 418ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 837ms (compile: 428ms, proxy.ts: 321ms, render: 88ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 201ms (compile: 5ms, proxy.ts: 177ms, render: 19ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 175ms (compile: 4ms, proxy.ts: 148ms, render: 23ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 173ms (compile: 4ms, proxy.ts: 145ms, render: 24ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 172ms (compile: 4ms, proxy.ts: 145ms, render: 23ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: monthly
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 2.4s (compile: 1704ms, proxy.ts: 193ms, render: 508ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 2.4s (compile: 1709ms, proxy.ts: 188ms, render: 522ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 2.4s (compile: 1705ms, proxy.ts: 192ms, render: 527ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: monthly
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 367ms (compile: 4ms, proxy.ts: 95ms, render: 268ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 412ms (compile: 7ms, proxy.ts: 110ms, render: 295ms)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 436ms (compile: 8ms, proxy.ts: 109ms, render: 320ms)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 3.0s (compile: 1795ms, proxy.ts: 102ms, render: 1098ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 725ms (compile: 1616Âµs, proxy.ts: 85ms, render: 638ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 1059ms (compile: 665ms, proxy.ts: 102ms, render: 291ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 2.2s (compile: 1959Âµs, proxy.ts: 90ms, render: 2.1s)
â—‹ Compiling /api/citas/historical/insights ...
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 3.0s (compile: 164ms, proxy.ts: 2.7s, render: 75ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 269ms (compile: 46ms, proxy.ts: 157ms, render: 66ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 1213ms (compile: 268ms, proxy.ts: 812ms, render: 133ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 351ms (compile: 59ms, proxy.ts: 239ms, render: 52ms)
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 45s (compile: 13.0s, proxy.ts: 136ms, render: 32.2s)
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 46s (compile: 13.0s, proxy.ts: 135ms, render: 33.0s)
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 23.4s (compile: 2.1s, proxy.ts: 344ms, render: 21.0s)
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 24.0s (compile: 2.1s, proxy.ts: 342ms, render: 21.5s)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 288ms (compile: 61ms, proxy.ts: 185ms, render: 41ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 401ms (compile: 160ms, proxy.ts: 177ms, render: 64ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 221ms (compile: 47ms, proxy.ts: 148ms, render: 26ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 289ms (compile: 58ms, proxy.ts: 139ms, render: 92ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 328ms (compile: 167ms, proxy.ts: 134ms, render: 26ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/citas/historical/insights ...
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 349ms (compile: 80ms, proxy.ts: 170ms, render: 98ms)
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022&stores=all&patternType=all 200 in 24.5s (compile: 5.7s, proxy.ts: 108ms, render: 18.8s)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022&stores=all&insightTypes=all 200 in 25.2s (compile: 5.5s, proxy.ts: 240ms, render: 19.5s)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022,2021&stores=all&insightTypes=all 200 in 21.5s (compile: 1009ms, proxy.ts: 429ms, render: 20.0s)
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022,2021&stores=all&patternType=all 200 in 25.3s (compile: 1007ms, proxy.ts: 430ms, render: 23.9s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 13.7s (compile: 37ms, proxy.ts: 285ms, render: 13.4s)
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 14.9s (compile: 4ms, proxy.ts: 350ms, render: 14.5s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/insights?years=2025,2024,2023,2021&stores=all&insightTypes=all 200 in 14.9s (compile: 63ms, proxy.ts: 450ms, render: 14.4s)
 GET /api/citas/historical/patterns?years=2025,2024,2023,2021&stores=all&patternType=all 200 in 15.1s (compile: 17ms, proxy.ts: 449ms, render: 14.6s)
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022&stores=all&patternType=all 200 in 18.0s (compile: 333ms, proxy.ts: 1374ms, render: 16.3s)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022&stores=all&insightTypes=all 200 in 18.3s (compile: 379ms, proxy.ts: 1379ms, render: 16.6s)
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022,2021&stores=all&patternType=all 200 in 12.7s (compile: 6ms, proxy.ts: 1164ms, render: 11.6s)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022,2021&stores=all&insightTypes=all 200 in 12.2s (compile: 1883Âµs, proxy.ts: 146ms, render: 12.0s)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 775ms (compile: 293ms, proxy.ts: 436ms, render: 46ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 501ms (compile: 226ms, proxy.ts: 156ms, render: 118ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 263ms (compile: 74ms, proxy.ts: 161ms, render: 28ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 251ms (compile: 49ms, proxy.ts: 181ms, render: 21ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 382ms (compile: 74ms, proxy.ts: 215ms, render: 94ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 299ms (compile: 89ms, proxy.ts: 146ms, render: 64ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/citas/historical/compare ...
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[By Store API] Fetching data for years: 2025, grouping: monthly
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
 GET /api/citas/historical?year=2024 200 in 5.8s (compile: 4.7s, proxy.ts: 362ms, render: 791ms)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 5.8s (compile: 4.6s, proxy.ts: 384ms, render: 823ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 5.9s (compile: 4.6s, proxy.ts: 422ms, render: 829ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 6.0s (compile: 4.6s, proxy.ts: 424ms, render: 954ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 6.0s (compile: 4.6s, proxy.ts: 418ms, render: 964ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2025, grouping: annual
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 6.2s (compile: 4.4s, proxy.ts: 610ms, render: 1196ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 383ms (compile: 17ms, proxy.ts: 115ms, render: 252ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 378ms (compile: 16ms, proxy.ts: 109ms, render: 253ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 307ms (compile: 1530Âµs, proxy.ts: 88ms, render: 218ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 307ms (compile: 2ms, proxy.ts: 83ms, render: 222ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 509ms (compile: 25ms, proxy.ts: 108ms, render: 376ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 272ms (compile: 1561Âµs, proxy.ts: 94ms, render: 177ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 302ms (compile: 4ms, proxy.ts: 91ms, render: 206ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 268ms (compile: 1224Âµs, proxy.ts: 74ms, render: 193ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 298ms (compile: 4ms, proxy.ts: 94ms, render: 201ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: monthly
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, month: 1, store: Madrid
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=monthly 200 in 279ms (compile: 1044Âµs, proxy.ts: 81ms, render: 197ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 261ms (compile: 1277Âµs, proxy.ts: 84ms, render: 176ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 266ms (compile: 1409Âµs, proxy.ts: 91ms, render: 173ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 669ms (compile: 6ms, proxy.ts: 83ms, render: 580ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023,2022,2021&month=1&storeCity=Madrid 200 in 591ms (compile: 1333Âµs, proxy.ts: 89ms, render: 500ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 293ms (compile: 2ms, proxy.ts: 82ms, render: 208ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 297ms (compile: 6ms, proxy.ts: 89ms, render: 202ms)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 605ms (compile: 6ms, proxy.ts: 93ms, render: 506ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 298ms (compile: 2ms, proxy.ts: 103ms, render: 192ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 352ms (compile: 3ms, proxy.ts: 113ms, render: 236ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/citas/historical/patterns ...
 GET /api/citas/historical?year=2024 200 in 5.3s (compile: 4.7s, proxy.ts: 116ms, render: 440ms)
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 18.5s (compile: 4.7s, proxy.ts: 108ms, render: 13.6s)
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 18.8s (compile: 4.8s, proxy.ts: 84ms, render: 14.0s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 11.3s (compile: 6ms, proxy.ts: 101ms, render: 11.2s)
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 12.3s (compile: 3ms, proxy.ts: 120ms, render: 12.2s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/insights?years=2025,2024,2023,2022&stores=all&insightTypes=all 200 in 15.9s (compile: 1984Âµs, proxy.ts: 148ms, render: 15.7s)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022,2021&stores=all&insightTypes=all 200 in 33.6s (compile: 2ms, proxy.ts: 124ms, render: 33.5s)
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022&stores=all&patternType=all 200 in 35.7s (compile: 4ms, proxy.ts: 98ms, render: 35.6s)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 748ms (compile: 292ms, proxy.ts: 306ms, render: 150ms)
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022,2021&stores=all&patternType=all 200 in 40s (compile: 1882Âµs, proxy.ts: 81ms, render: 40.0s)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 390ms (compile: 143ms, proxy.ts: 206ms, render: 41ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 2.1s (compile: 10ms, proxy.ts: 210ms, render: 1836ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/acuity/stats ...
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:40:06.932Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:40:06.937Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:40:06.943Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:40:06.945Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:40:06.947Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:40:06.966Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 17.0s (compile: 14.2s, proxy.ts: 2.3s, render: 412ms)
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 17.0s (compile: 16.4s, proxy.ts: 137ms, render: 455ms)
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 17.1s (compile: 15.2s, proxy.ts: 1359ms, render: 496ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 17.1s (compile: 14.2s, proxy.ts: 2.3s, render: 548ms)
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 17.1s (compile: 15.1s, proxy.ts: 1476ms, render: 567ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=occupation&days=21 200 in 17.2s (compile: 15.1s, proxy.ts: 1443ms, render: 641ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T17:40:07.372Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T17:40:07.374Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 598ms (compile: 3ms, proxy.ts: 112ms, render: 482ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 735ms (compile: 4ms, proxy.ts: 164ms, render: 568ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/citas/historical ...
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[By Store API] Fetching data for years: 2025, grouping: monthly
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:40:14.712Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 7.0s (compile: 6.5s, proxy.ts: 131ms, render: 311ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 7.6s (compile: 7.1s, proxy.ts: 142ms, render: 336ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 7.5s (compile: 7.1s, proxy.ts: 84ms, render: 340ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/citas/historical?year=2024 200 in 7.0s (compile: 6.5s, proxy.ts: 138ms, render: 358ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 7.6s (compile: 7.1s, proxy.ts: 138ms, render: 379ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:40:14.985Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:40:15.003Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:40:15.004Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:40:15.054Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:40:15.056Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 249ms (compile: 1854Âµs, proxy.ts: 93ms, render: 154ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 264ms (compile: 1022Âµs, proxy.ts: 86ms, render: 177ms)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 337ms (compile: 979Âµs, proxy.ts: 82ms, render: 253ms)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 8.0s (compile: 7.2s, proxy.ts: 111ms, render: 705ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T17:40:15.254Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T17:40:15.297Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=occupation&days=21 200 in 459ms (compile: 1510Âµs, proxy.ts: 87ms, render: 371ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 276ms (compile: 3ms, proxy.ts: 92ms, render: 181ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 322ms (compile: 8ms, proxy.ts: 101ms, render: 213ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, grouping: monthly
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 322ms (compile: 990Âµs, proxy.ts: 93ms, render: 228ms)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 278ms (compile: 3ms, proxy.ts: 87ms, render: 188ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 285ms (compile: 3ms, proxy.ts: 82ms, render: 199ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 703ms (compile: 2ms, proxy.ts: 108ms, render: 593ms)
 GET /api/citas/historical?year=2024 200 in 498ms (compile: 1619Âµs, proxy.ts: 87ms, render: 409ms)
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 3.1s (compile: 1108Âµs, proxy.ts: 93ms, render: 3.0s)
â—‹ Compiling /api/citas/historical/insights ...
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 358ms (compile: 6ms, proxy.ts: 159ms, render: 193ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 378ms (compile: 7ms, proxy.ts: 177ms, render: 195ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 392ms (compile: 6ms, proxy.ts: 177ms, render: 209ms)
 GET /api/citas/historical?year=2024 200 in 397ms (compile: 5ms, proxy.ts: 176ms, render: 216ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 277ms (compile: 1292Âµs, proxy.ts: 91ms, render: 185ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 274ms (compile: 1200Âµs, proxy.ts: 90ms, render: 183ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 347ms (compile: 4ms, proxy.ts: 102ms, render: 241ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 269ms (compile: 1386Âµs, proxy.ts: 80ms, render: 187ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 613ms (compile: 8ms, proxy.ts: 93ms, render: 512ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/citas/historical?year=2024 200 in 331ms (compile: 1413Âµs, proxy.ts: 82ms, render: 247ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 309ms (compile: 5ms, proxy.ts: 102ms, render: 203ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 833ms (compile: 2ms, proxy.ts: 89ms, render: 743ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 942ms (compile: 2ms, proxy.ts: 91ms, render: 849ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: monthly
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 1606ms (compile: 745ms, proxy.ts: 563ms, render: 298ms)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 1756ms (compile: 1725Âµs, proxy.ts: 82ms, render: 1672ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 371ms (compile: 10ms, proxy.ts: 123ms, render: 238ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=monthly 200 in 386ms (compile: 5ms, proxy.ts: 109ms, render: 272ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 314ms (compile: 1828Âµs, proxy.ts: 134ms, render: 178ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 336ms (compile: 12ms, proxy.ts: 120ms, render: 204ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 290ms (compile: 1465Âµs, proxy.ts: 78ms, render: 210ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023,2022,2021&month=1&storeCity=Madrid 200 in 713ms (compile: 70ms, proxy.ts: 109ms, render: 535ms)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 664ms (compile: 10ms, proxy.ts: 122ms, render: 532ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 305ms (compile: 1203Âµs, proxy.ts: 99ms, render: 204ms)
 GET /api/citas/historical?year=2024 200 in 331ms (compile: 4ms, proxy.ts: 107ms, render: 219ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
 GET /api/citas/historical?year=2024 200 in 339ms (compile: 1132Âµs, proxy.ts: 107ms, render: 232ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 359ms (compile: 12ms, proxy.ts: 102ms, render: 245ms)
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 13.6s (compile: 3.6s, proxy.ts: 84ms, render: 10.0s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 14.0s (compile: 3.4s, proxy.ts: 110ms, render: 10.4s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 9.1s (compile: 4ms, proxy.ts: 110ms, render: 9.0s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 10.8s (compile: 1867Âµs, proxy.ts: 84ms, render: 10.7s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 11.2s (compile: 3ms, proxy.ts: 88ms, render: 11.1s)
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 9.7s (compile: 2ms, proxy.ts: 109ms, render: 9.6s)
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 9.8s (compile: 8ms, proxy.ts: 173ms, render: 9.6s)
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 10.2s (compile: 1868Âµs, proxy.ts: 259ms, render: 9.9s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 16.3s (compile: 44ms, proxy.ts: 213ms, render: 16.0s)
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 16.8s (compile: 39ms, proxy.ts: 245ms, render: 16.5s)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022&stores=all&insightTypes=all 200 in 19.9s (compile: 41ms, proxy.ts: 547ms, render: 19.3s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022&stores=all&patternType=all 200 in 20.3s (compile: 16ms, proxy.ts: 546ms, render: 19.8s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022,2021&stores=all&patternType=all 200 in 19.9s (compile: 2ms, proxy.ts: 118ms, render: 19.8s)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022,2021&stores=all&insightTypes=all 200 in 21.4s (compile: 4ms, proxy.ts: 164ms, render: 21.2s)
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022&stores=all&patternType=all 200 in 14.5s (compile: 2ms, proxy.ts: 89ms, render: 14.4s)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022&stores=all&insightTypes=all 200 in 16.3s (compile: 3ms, proxy.ts: 90ms, render: 16.2s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[By Store API] Fetching data for years: 2025, grouping: annual
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: monthly
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 813ms (compile: 10ms, proxy.ts: 292ms, render: 512ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 842ms (compile: 14ms, proxy.ts: 444ms, render: 384ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 855ms (compile: 14ms, proxy.ts: 443ms, render: 398ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 887ms (compile: 10ms, proxy.ts: 317ms, render: 559ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/citas/historical?year=2024 200 in 912ms (compile: 5ms, proxy.ts: 443ms, render: 464ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 273ms (compile: 1262Âµs, proxy.ts: 94ms, render: 178ms)
[By Store API] Fetching data for years: 2025, grouping: monthly
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 1192ms (compile: 19ms, proxy.ts: 443ms, render: 730ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 372ms (compile: 1213Âµs, proxy.ts: 100ms, render: 271ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 395ms (compile: 1326Âµs, proxy.ts: 93ms, render: 301ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: annual
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 457ms (compile: 1158Âµs, proxy.ts: 100ms, render: 356ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/citas/historical?year=2024 200 in 437ms (compile: 1471Âµs, proxy.ts: 86ms, render: 349ms)
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 299ms (compile: 1083Âµs, proxy.ts: 85ms, render: 213ms)
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: monthly
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 318ms (compile: 2ms, proxy.ts: 92ms, render: 224ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=monthly 200 in 346ms (compile: 15ms, proxy.ts: 88ms, render: 242ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: monthly
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 381ms (compile: 1963Âµs, proxy.ts: 112ms, render: 267ms)
[Historical Compare API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, month: 1, store: Madrid
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, grouping: annual
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=monthly 200 in 298ms (compile: 3ms, proxy.ts: 88ms, render: 206ms)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 643ms (compile: 3ms, proxy.ts: 94ms, render: 546ms)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=annual 200 in 301ms (compile: 4ms, proxy.ts: 134ms, render: 163ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 569ms (compile: 1314Âµs, proxy.ts: 74ms, render: 494ms)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2025,2024,2023,2022,2021&month=1&storeCity=Madrid 200 in 824ms (compile: 10ms, proxy.ts: 90ms, render: 724ms)
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1, store: Madrid
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[Historical Compare API] Year 2023: 476 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 500ms (compile: 170ms, proxy.ts: 115ms, render: 215ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2024: 548 appointments found (via RPC)
[Historical Compare API] Year 2025: 718 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1&storeCity=Madrid 200 in 1014ms (compile: 81ms, proxy.ts: 319ms, render: 615ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 321ms (compile: 1840Âµs, proxy.ts: 108ms, render: 211ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2025, 2024, 2023, 2022, 2021, grouping: annual
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2025,2024,2023,2022,2021&grouping=annual 200 in 277ms (compile: 1617Âµs, proxy.ts: 79ms, render: 196ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical?year=2024 200 in 13.4s (compile: 15ms, proxy.ts: 1894ms, render: 11.4s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 2.3s (compile: 1928ms, proxy.ts: 194ms, render: 144ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 140ms (compile: 3ms, proxy.ts: 128ms, render: 10ms)
 GET /api/citas/historical?year=2024 200 in 3.1s (compile: 2.0s, proxy.ts: 396ms, render: 644ms)
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 14.7s (compile: 2.1s, proxy.ts: 358ms, render: 12.3s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 15.1s (compile: 2.1s, proxy.ts: 361ms, render: 12.6s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/patterns?years=2025,2024,2023&stores=all&patternType=all 200 in 10.3s (compile: 3ms, proxy.ts: 99ms, render: 10.2s)
 GET /api/citas/historical/insights?years=2025,2024,2023&stores=all&insightTypes=all 200 in 17.2s (compile: 3ms, proxy.ts: 105ms, render: 17.1s)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/patterns',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/insights',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/citas/historical/insights?years=2025,2024,2023,2022&stores=all&insightTypes=all 200 in 15.3s (compile: 74ms, proxy.ts: 202ms, render: 15.0s)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 342ms (compile: 138ms, proxy.ts: 156ms, render: 48ms)
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022,2021&stores=all&patternType=all 200 in 21.2s (compile: 1450Âµs, proxy.ts: 94ms, render: 21.1s)
 GET /api/citas/historical/patterns?years=2025,2024,2023,2022&stores=all&patternType=all 200 in 24.4s (compile: 6ms, proxy.ts: 179ms, render: 24.2s)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 1168ms (compile: 246ms, proxy.ts: 778ms, render: 144ms)
 GET /api/citas/historical/insights?years=2025,2024,2023,2022,2021&stores=all&insightTypes=all 200 in 28.9s (compile: 1661Âµs, proxy.ts: 118ms, render: 28.8s)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 929ms (compile: 325ms, proxy.ts: 410ms, render: 194ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 336ms (compile: 113ms, proxy.ts: 181ms, render: 42ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 242ms (compile: 62ms, proxy.ts: 154ms, render: 26ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 347ms (compile: 119ms, proxy.ts: 195ms, render: 34ms)
ğŸ” Middleware Debug: {
  url: '/citas/clubs/madrid',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /citas/clubs/[storeName] ...
 GET /citas/clubs/madrid 200 in 17.8s (compile: 17.5s, proxy.ts: 252ms, render: 53ms)
ğŸ” Middleware Debug: {
  url: '/citas/clubs/madrid',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas/clubs/madrid 200 in 177ms (compile: 10ms, proxy.ts: 146ms, render: 20ms)
ğŸ” Middleware Debug: {
  url: '/citas/clubs/madrid',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas/clubs/madrid 200 in 155ms (compile: 5ms, proxy.ts: 138ms, render: 13ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/acuity/stats ...
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:49:57.081Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:49:57.092Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:49:57.093Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:49:57.098Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:49:57.121Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:49:57.126Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 7.9s (compile: 7.4s, proxy.ts: 199ms, render: 330ms)
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 7.9s (compile: 7.4s, proxy.ts: 200ms, render: 366ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations&startDate=2026-01-09 200 in 8.0s (compile: 7.4s, proxy.ts: 199ms, render: 402ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=365&startDate=2026-01-09 200 in 8.0s (compile: 7.4s, proxy.ts: 122ms, render: 453ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=365&startDate=2026-01-09 200 in 8.1s (compile: 6.7s, proxy.ts: 864ms, render: 531ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:49:57.499Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=occupation&days=365&startDate=2026-01-09 200 in 8.1s (compile: 7.4s, proxy.ts: 200ms, render: 568ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 307ms (compile: 2ms, proxy.ts: 117ms, render: 188ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:49:57.628Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 459ms (compile: 29ms, proxy.ts: 134ms, render: 296ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'availability',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:49:59.106Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:49:59.110Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:49:59.126Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:49:59.127Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations&startDate=2026-01-09 200 in 1810ms (compile: 1498ms, proxy.ts: 106ms, render: 206ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Appointments] Total appointments before filtering: 507
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  '- The Bundclub Madrid -',
  'The Bundclub Sevilla',
  'The Bundclub Madrid + Solo quiero informarme',
  'The Bundclub CDMX (Polanco)'
]
[Acuity Appointments] Filtered appointments: 507 -> 218
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2025-01-09 200 in 1418ms (compile: 971ms, proxy.ts: 218ms, render: 230ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 1906ms (compile: 1531ms, proxy.ts: 126ms, render: 248ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=365&startDate=2026-01-09 200 in 1884ms (compile: 1401ms, proxy.ts: 120ms, render: 363ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=365&startDate=2026-01-09 200 in 1862ms (compile: 1369ms, proxy.ts: 116ms, render: 376ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=occupation&days=365&startDate=2026-01-09 200 in 1839ms (compile: 1229ms, proxy.ts: 171ms, render: 439ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Appointments] Total appointments before filtering: 304
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  '- The Bundclub Madrid -',
  'The Bundclub Sevilla',
  'The Bundclub Murcia',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 304 -> 145
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2025-12-01&endDate=2025-12-31 200 in 305ms (compile: 2ms, proxy.ts: 121ms, render: 182ms)
[Acuity Appointments] Total appointments before filtering: 5
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Sevilla',
  'The Bundclub Madrid',
  'The Bundclub MÃ¡laga'
]
[Acuity Appointments] Filtered appointments: 5 -> 3
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-02-01&endDate=2026-02-28 200 in 338ms (compile: 13ms, proxy.ts: 94ms, render: 231ms)
[Acuity Appointments] Total appointments before filtering: 1
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [ '- The Bundclub Zaragoza -' ]
[Acuity Appointments] Filtered appointments: 1 -> 0
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-04-01&endDate=2026-04-30 200 in 326ms (compile: 2ms, proxy.ts: 112ms, render: 213ms)
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 279ms (compile: 1334Âµs, proxy.ts: 104ms, render: 174ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 268ms (compile: 1582Âµs, proxy.ts: 87ms, render: 179ms)
âš  Server is approaching the used memory threshold, restarting...
â–² Next.js 16.1.1 (webpack)
- Local:         http://localhost:3000
- Network:       http://192.168.0.244:3000
- Environments: .env.local

âœ“ Starting...
âš  The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
âœ“ Ready in 1830ms
ğŸ” Middleware Debug: {
  url: '/citas/clubs/madrid',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /citas/clubs/[storeName] ...
 GET /citas/clubs/madrid 200 in 4.7s (compile: 4.1s, proxy.ts: 256ms, render: 376ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:50:10.540Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:50:10.545Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:50:10.547Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:50:10.550Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:50:10.555Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:50:10.618Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 1781ms (compile: 1413ms, proxy.ts: 160ms, render: 208ms)
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations&startDate=2026-01-09 200 in 1796ms (compile: 1381ms, proxy.ts: 192ms, render: 223ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=365&startDate=2026-01-09 200 in 1923ms (compile: 1414ms, proxy.ts: 164ms, render: 346ms)
 GET /api/acuity/stats?type=monthly&months=12 200 in 1934ms (compile: 1412ms, proxy.ts: 165ms, render: 356ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=365&startDate=2026-01-09 200 in 1967ms (compile: 1416ms, proxy.ts: 162ms, render: 390ms)
 GET /api/acuity/stats?type=occupation&days=365&startDate=2026-01-09 200 in 1985ms (compile: 1132ms, proxy.ts: 445ms, render: 407ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:50:11.398Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:50:11.403Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:50:11.408Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:50:11.430Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations&startDate=2026-01-09 200 in 703ms (compile: 428ms, proxy.ts: 92ms, render: 184ms)
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:50:11.507Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 855ms (compile: 561ms, proxy.ts: 91ms, render: 202ms)
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 862ms (compile: 572ms, proxy.ts: 81ms, render: 209ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=365&startDate=2026-01-09 200 in 770ms (compile: 334ms, proxy.ts: 186ms, render: 250ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=365&startDate=2026-01-09 200 in 763ms (compile: 333ms, proxy.ts: 111ms, render: 319ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:50:11.666Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 850ms (compile: 333ms, proxy.ts: 156ms, render: 360ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Appointments] Total appointments before filtering: 304
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  '- The Bundclub Madrid -',
  'The Bundclub Sevilla',
  'The Bundclub Murcia',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 304 -> 145
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2025-12-01&endDate=2025-12-31 200 in 235ms (compile: 4ms, proxy.ts: 86ms, render: 145ms)
[Acuity Appointments] Total appointments before filtering: 5
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Sevilla',
  'The Bundclub Madrid',
  'The Bundclub MÃ¡laga'
]
[Acuity Appointments] Filtered appointments: 5 -> 3
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-02-01&endDate=2026-02-28 200 in 226ms (compile: 1171Âµs, proxy.ts: 78ms, render: 147ms)
[Acuity Appointments] Total appointments before filtering: 507
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  '- The Bundclub Madrid -',
  'The Bundclub Sevilla',
  'The Bundclub Madrid + Solo quiero informarme',
  'The Bundclub CDMX (Polanco)'
]
[Acuity Appointments] Filtered appointments: 507 -> 218
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2025-01-09 200 in 296ms (compile: 2ms, proxy.ts: 97ms, render: 197ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Appointments] Total appointments before filtering: 1
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [ '- The Bundclub Zaragoza -' ]
[Acuity Appointments] Filtered appointments: 1 -> 0
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-04-01&endDate=2026-04-30 200 in 251ms (compile: 1657Âµs, proxy.ts: 74ms, render: 175ms)
 GET /api/acuity/stats?type=occupation&days=365&startDate=2026-01-09 200 in 406ms (compile: 1846Âµs, proxy.ts: 87ms, render: 317ms)
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 443ms (compile: 3ms, proxy.ts: 179ms, render: 261ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Appointments] Total appointments before filtering: 507
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  '- The Bundclub Madrid -',
  'The Bundclub Sevilla',
  'The Bundclub Madrid + Solo quiero informarme',
  'The Bundclub CDMX (Polanco)'
]
[Acuity Appointments] Filtered appointments: 507 -> 218
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2025-01-09 200 in 231ms (compile: 1389Âµs, proxy.ts: 79ms, render: 151ms)
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 273ms (compile: 18ms, proxy.ts: 80ms, render: 175ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Appointments] Total appointments before filtering: 304
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  '- The Bundclub Madrid -',
  'The Bundclub Sevilla',
  'The Bundclub Murcia',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 304 -> 145
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2025-12-01&endDate=2025-12-31 200 in 242ms (compile: 1363Âµs, proxy.ts: 84ms, render: 157ms)
[Acuity Appointments] Total appointments before filtering: 5
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Sevilla',
  'The Bundclub Madrid',
  'The Bundclub MÃ¡laga'
]
[Acuity Appointments] Filtered appointments: 5 -> 3
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-02-01&endDate=2026-02-28 200 in 246ms (compile: 3ms, proxy.ts: 90ms, render: 153ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Appointments] Total appointments before filtering: 1
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [ '- The Bundclub Zaragoza -' ]
[Acuity Appointments] Filtered appointments: 1 -> 0
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-04-01&endDate=2026-04-30 200 in 354ms (compile: 2ms, proxy.ts: 88ms, render: 263ms)
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 255ms (compile: 1955Âµs, proxy.ts: 93ms, render: 160ms)
ğŸ” Middleware Debug: {
  url: '/citas/clubs/madrid',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas/clubs/madrid 200 in 459ms (compile: 145ms, proxy.ts: 254ms, render: 60ms)
ğŸ” Middleware Debug: {
  url: '/citas/clubs/madrid',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas/clubs/madrid 200 in 349ms (compile: 120ms, proxy.ts: 176ms, render: 52ms)
ğŸ” Middleware Debug: {
  url: '/citas/clubs/madrid',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas/clubs/madrid 200 in 288ms (compile: 74ms, proxy.ts: 118ms, render: 96ms)
ğŸ” Middleware Debug: {
  url: '/citas/clubs/madrid',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas/clubs/madrid 200 in 492ms (compile: 8ms, proxy.ts: 94ms, render: 390ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:52:35.889Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:52:35.897Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:52:35.903Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:52:35.913Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:52:35.919Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 2.3s (compile: 1953ms, proxy.ts: 160ms, render: 227ms)
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations&startDate=2026-01-09 200 in 2.3s (compile: 1970ms, proxy.ts: 143ms, render: 229ms)
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 2.3s (compile: 1956ms, proxy.ts: 157ms, render: 234ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=365&startDate=2026-01-09 200 in 2.4s (compile: 2.0s, proxy.ts: 99ms, render: 316ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=365&startDate=2026-01-09 200 in 2.5s (compile: 1916ms, proxy.ts: 197ms, render: 371ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=occupation&days=365&startDate=2026-01-09 200 in 2.5s (compile: 1955ms, proxy.ts: 158ms, render: 415ms)
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:52:36.242Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:52:36.275Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:52:36.310Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations&startDate=2026-01-09 200 in 296ms (compile: 3ms, proxy.ts: 107ms, render: 186ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'availability',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:52:36.361Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 339ms (compile: 3ms, proxy.ts: 137ms, render: 198ms)
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 345ms (compile: 4ms, proxy.ts: 138ms, render: 203ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:52:36.436Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=365&startDate=2026-01-09 200 in 334ms (compile: 18ms, proxy.ts: 94ms, render: 222ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=365&startDate=2026-01-09 200 in 405ms (compile: 14ms, proxy.ts: 97ms, render: 294ms)
[Acuity Appointments] Total appointments before filtering: 507
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  '- The Bundclub Madrid -',
  'The Bundclub Sevilla',
  'The Bundclub Madrid + Solo quiero informarme',
  'The Bundclub CDMX (Polanco)'
]
[Acuity Appointments] Filtered appointments: 507 -> 218
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2025-01-09 200 in 249ms (compile: 1623Âµs, proxy.ts: 80ms, render: 168ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Appointments] Total appointments before filtering: 5
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Sevilla',
  'The Bundclub Madrid',
  'The Bundclub MÃ¡laga'
]
[Acuity Appointments] Filtered appointments: 5 -> 3
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-02-01&endDate=2026-02-28 200 in 257ms (compile: 1376Âµs, proxy.ts: 86ms, render: 170ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Appointments] Total appointments before filtering: 1
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [ '- The Bundclub Zaragoza -' ]
[Acuity Appointments] Filtered appointments: 1 -> 0
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-04-01&endDate=2026-04-30 200 in 428ms (compile: 1535Âµs, proxy.ts: 74ms, render: 352ms)
 GET /api/acuity/stats?type=occupation&days=365&startDate=2026-01-09 200 in 674ms (compile: 1338Âµs, proxy.ts: 138ms, render: 534ms)
[Acuity Appointments] Total appointments before filtering: 304
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  '- The Bundclub Madrid -',
  'The Bundclub Sevilla',
  'The Bundclub Murcia',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 304 -> 145
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2025-12-01&endDate=2025-12-31 200 in 545ms (compile: 1405Âµs, proxy.ts: 126ms, render: 418ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 534ms (compile: 77ms, proxy.ts: 270ms, render: 187ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Appointments] Total appointments before filtering: 5
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Sevilla',
  'The Bundclub Madrid',
  'The Bundclub MÃ¡laga'
]
[Acuity Appointments] Filtered appointments: 5 -> 3
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-02-01&endDate=2026-02-28 200 in 285ms (compile: 6ms, proxy.ts: 120ms, render: 158ms)
[Acuity Appointments] Total appointments before filtering: 507
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  '- The Bundclub Madrid -',
  'The Bundclub Sevilla',
  'The Bundclub Madrid + Solo quiero informarme',
  'The Bundclub CDMX (Polanco)'
]
[Acuity Appointments] Filtered appointments: 507 -> 218
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2025-01-09 200 in 315ms (compile: 5ms, proxy.ts: 142ms, render: 168ms)
[Acuity Appointments] Total appointments before filtering: 304
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  '- The Bundclub Madrid -',
  'The Bundclub Sevilla',
  'The Bundclub Murcia',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 304 -> 145
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2025-12-01&endDate=2025-12-31 200 in 316ms (compile: 3ms, proxy.ts: 119ms, render: 194ms)
[Acuity Appointments] Total appointments before filtering: 1
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [ '- The Bundclub Zaragoza -' ]
[Acuity Appointments] Filtered appointments: 1 -> 0
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-04-01&endDate=2026-04-30 200 in 346ms (compile: 2ms, proxy.ts: 107ms, render: 236ms)
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 241ms (compile: 3ms, proxy.ts: 85ms, render: 153ms)
ğŸ” Middleware Debug: {
  url: '/citas/clubs/madrid',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas/clubs/madrid 200 in 383ms (compile: 116ms, proxy.ts: 135ms, render: 132ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 3.2s (compile: 2.8s, proxy.ts: 286ms, render: 35ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:05.161Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:05.164Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:05.306Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:05.311Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:05.324Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:05.349Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 980ms (compile: 64ms, proxy.ts: 230ms, render: 685ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 996ms (compile: 67ms, proxy.ts: 228ms, render: 702ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T17:53:05.776Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T17:53:05.803Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 1780ms (compile: 35ms, proxy.ts: 627ms, render: 1118ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 1828ms (compile: 32ms, proxy.ts: 631ms, render: 1165ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 2.1s (compile: 1592Âµs, proxy.ts: 96ms, render: 1970ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 2.2s (compile: 1908Âµs, proxy.ts: 124ms, render: 2.1s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=occupation&days=21 200 in 3.4s (compile: 33ms, proxy.ts: 630ms, render: 2.7s)
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 3.4s (compile: 34ms, proxy.ts: 629ms, render: 2.8s)
â¨¯ ./src/app/(dashboard)/citas/clubs/[storeName]/page.tsx
Error:   x Expected '</', got 'jsx text (
  |     )'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/app/(dashboard)/citas/clubs/[storeName]/page.tsx:877:1]
 874 |                 </CardContent>
 875 |               </Card>
 876 |             )}
 877 | ,->       </div>
 878 | `->     </div>
 879 |       )
 880 |     }
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/app/(dashboard)/citas/clubs/[storeName]/page.tsx
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â¨¯ ./src/app/(dashboard)/citas/clubs/[storeName]/page.tsx
Error:   x Expected '</', got 'jsx text (
  |     )'
     ,-[/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/src/app/(dashboard)/citas/clubs/[storeName]/page.tsx:877:1]
 874 |                 </CardContent>
 875 |               </Card>
 876 |             )}
 877 | ,->       </div>
 878 | `->     </div>
 879 |       )
 880 |     }
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/app/(dashboard)/citas/clubs/[storeName]/page.tsx
 GET /api/acuity/stats?type=monthly&months=12 500 in 8.2s (compile: 6.8s, proxy.ts: 1228ms, render: 131ms)
 GET /api/acuity/stats?type=upcoming&days=21 500 in 6.9s (compile: 6.6s, proxy.ts: 148ms, render: 129ms)
 GET /api/acuity/stats?type=daily&year=2026&month=1 500 in 8.1s (compile: 6.8s, proxy.ts: 1180ms, render: 129ms)
 GET /api/acuity/stats?type=cancellations 500 in 6.7s (compile: 6.3s, proxy.ts: 270ms, render: 129ms)
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 500 in 6.5s (compile: 6.2s, proxy.ts: 211ms, render: 128ms)
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 500 in 6.5s (compile: 6.2s, proxy.ts: 222ms, render: 128ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=occupation&days=21 500 in 159ms (compile: 10ms, proxy.ts: 141ms, render: 8ms)
âš  Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 500 in 194ms (compile: 20ms, proxy.ts: 158ms, render: 17ms)
 GET /api/acuity/stats?type=availability&days=21 500 in 197ms (compile: 10ms, proxy.ts: 170ms, render: 17ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 500 in 125ms (compile: 15ms, proxy.ts: 90ms, render: 19ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 500 in 161ms (compile: 10ms, proxy.ts: 146ms, render: 5ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 500 in 123ms (compile: 19ms, proxy.ts: 98ms, render: 6ms)
â—‹ Compiling /_error ...
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/.next/dev/cache/webpack/client-development-fallback/1.pack.gz_' -> '/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/.next/dev/cache/webpack/client-development-fallback/1.pack.gz'
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/.next/dev/cache/webpack/client-development-fallback/1.pack.gz_' -> '/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/.next/dev/cache/webpack/client-development-fallback/1.pack.gz'
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/.next/dev/cache/webpack/client-development-fallback/0.pack.gz_' -> '/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/.next/dev/cache/webpack/client-development-fallback/0.pack.gz'
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/.next/dev/cache/webpack/client-development-fallback/1.pack.gz_' -> '/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/.next/dev/cache/webpack/client-development-fallback/1.pack.gz'
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/.next/dev/cache/webpack/client-development-fallback/0.pack.gz_' -> '/Users/juanfabianidelaiglesia/Downloads/2Âº BUSINESS/BUND-Analytics/.next/dev/cache/webpack/client-development-fallback/0.pack.gz'
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 648ms (compile: 155ms, proxy.ts: 171ms, render: 322ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:47.684Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:47.687Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:47.689Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:47.690Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:47.692Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:47.697Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 553ms (compile: 8ms, proxy.ts: 190ms, render: 355ms)
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 560ms (compile: 53ms, proxy.ts: 117ms, render: 389ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 574ms (compile: 7ms, proxy.ts: 191ms, render: 376ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 672ms (compile: 5ms, proxy.ts: 193ms, render: 474ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 691ms (compile: 6ms, proxy.ts: 192ms, render: 493ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T17:53:48.150Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T17:53:48.156Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:48.191Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=occupation&days=21 200 in 800ms (compile: 8ms, proxy.ts: 190ms, render: 602ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:48.257Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:48.274Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 298ms (compile: 8ms, proxy.ts: 110ms, render: 180ms)
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 317ms (compile: 5ms, proxy.ts: 91ms, render: 220ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 263ms (compile: 1502Âµs, proxy.ts: 95ms, render: 167ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 254ms (compile: 3ms, proxy.ts: 83ms, render: 168ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:48.412Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:48.452Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:53:48.460Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T17:53:48.510Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 375ms (compile: 8ms, proxy.ts: 103ms, render: 263ms)
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 276ms (compile: 1623Âµs, proxy.ts: 84ms, render: 190ms)
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 410ms (compile: 3ms, proxy.ts: 83ms, render: 324ms)
 GET /api/acuity/stats?type=occupation&days=21 200 in 730ms (compile: 1854Âµs, proxy.ts: 92ms, render: 636ms)
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 3.7s (compile: 3ms, proxy.ts: 89ms, render: 3.6s)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T17:53:51.873Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 352ms (compile: 31ms, proxy.ts: 97ms, render: 225ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 331ms (compile: 78ms, proxy.ts: 228ms, render: 25ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 260ms (compile: 90ms, proxy.ts: 150ms, render: 19ms)
ğŸ” Middleware Debug: {
  url: '/citas/clubs/madrid',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas/clubs/madrid 200 in 222ms (compile: 34ms, proxy.ts: 147ms, render: 41ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:54:59.330Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:54:59.356Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:54:59.368Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:54:59.369Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:54:59.376Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 807ms (compile: 4ms, proxy.ts: 230ms, render: 573ms)
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations&startDate=2026-01-09 200 in 943ms (compile: 6ms, proxy.ts: 228ms, render: 709ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=365&startDate=2026-01-09 200 in 1349ms (compile: 6ms, proxy.ts: 232ms, render: 1111ms)
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=365&startDate=2026-01-09 200 in 1373ms (compile: 103ms, proxy.ts: 105ms, render: 1165ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=occupation&days=365&startDate=2026-01-09 200 in 1485ms (compile: 7ms, proxy.ts: 231ms, render: 1248ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'availability',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:00.929Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:00.939Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:00.942Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:00.951Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 365,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2027-01-09T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2027-01-09',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:00.954Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 1075ms (compile: 541ms, proxy.ts: 337ms, render: 197ms)
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 2.0s (compile: 1606ms, proxy.ts: 229ms, render: 200ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations&startDate=2026-01-09 200 in 990ms (compile: 424ms, proxy.ts: 345ms, render: 221ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=365&startDate=2026-01-09 200 in 714ms (compile: 338ms, proxy.ts: 102ms, render: 274ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=365&startDate=2026-01-09 200 in 739ms (compile: 337ms, proxy.ts: 103ms, render: 299ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=occupation&days=365&startDate=2026-01-09 200 in 764ms (compile: 224ms, proxy.ts: 105ms, render: 435ms)
[Acuity Appointments] Total appointments before filtering: 304
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  '- The Bundclub Madrid -',
  'The Bundclub Sevilla',
  'The Bundclub Murcia',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 304 -> 145
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2025-12-01&endDate=2025-12-31 200 in 257ms (compile: 1826Âµs, proxy.ts: 84ms, render: 172ms)
[Acuity Appointments] Total appointments before filtering: 507
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  '- The Bundclub Madrid -',
  'The Bundclub Sevilla',
  'The Bundclub Madrid + Solo quiero informarme',
  'The Bundclub CDMX (Polanco)'
]
[Acuity Appointments] Filtered appointments: 507 -> 218
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2025-01-09 200 in 259ms (compile: 2ms, proxy.ts: 83ms, render: 174ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Appointments] Total appointments before filtering: 5
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Sevilla',
  'The Bundclub Madrid',
  'The Bundclub MÃ¡laga'
]
[Acuity Appointments] Filtered appointments: 5 -> 3
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-02-01&endDate=2026-02-28 200 in 271ms (compile: 1514Âµs, proxy.ts: 87ms, render: 182ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Appointments] Total appointments before filtering: 1
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [ '- The Bundclub Zaragoza -' ]
[Acuity Appointments] Filtered appointments: 1 -> 0
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-04-01&endDate=2026-04-30 200 in 265ms (compile: 8ms, proxy.ts: 88ms, render: 170ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 269ms (compile: 2ms, proxy.ts: 92ms, render: 174ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Appointments] Total appointments before filtering: 507
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  '- The Bundclub Madrid -',
  'The Bundclub Sevilla',
  'The Bundclub Madrid + Solo quiero informarme',
  'The Bundclub CDMX (Polanco)'
]
[Acuity Appointments] Filtered appointments: 507 -> 218
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2025-01-09 200 in 276ms (compile: 10ms, proxy.ts: 84ms, render: 182ms)
[Acuity Appointments] Total appointments before filtering: 5
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Sevilla',
  'The Bundclub Madrid',
  'The Bundclub MÃ¡laga'
]
[Acuity Appointments] Filtered appointments: 5 -> 3
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-02-01&endDate=2026-02-28 200 in 247ms (compile: 1916Âµs, proxy.ts: 78ms, render: 167ms)
[Acuity Appointments] Total appointments before filtering: 304
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  '- The Bundclub Madrid -',
  'The Bundclub Sevilla',
  'The Bundclub Murcia',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 304 -> 145
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2025-12-01&endDate=2025-12-31 200 in 283ms (compile: 5ms, proxy.ts: 96ms, render: 181ms)
[Acuity Appointments] Total appointments before filtering: 1
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [ '- The Bundclub Zaragoza -' ]
[Acuity Appointments] Filtered appointments: 1 -> 0
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-04-01&endDate=2026-04-30 200 in 282ms (compile: 9ms, proxy.ts: 110ms, render: 163ms)
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 268ms (compile: 4ms, proxy.ts: 91ms, render: 173ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/appointments',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Appointments] Total appointments before filtering: 699
[Acuity Appointments] Filtering by store: "The Bundclub Madrid" (normalized: "The Bundclub Madrid")
[Acuity Appointments] Unique store names in data: [
  'The Bundclub Madrid',
  'The Bundclub Madrid + AÃ±adir 1 persona mÃ¡s',
  'The Bundclub Sevilla',
  'The Bundclub Sevilla + Solo quiero informarme',
  'The Bundclub Barcelona'
]
[Acuity Appointments] Filtered appointments: 699 -> 262
 GET /api/acuity/appointments?store=The%20Bundclub%20Madrid&startDate=2026-01-01&endDate=2026-01-31 200 in 290ms (compile: 1710Âµs, proxy.ts: 95ms, render: 194ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 202ms (compile: 47ms, proxy.ts: 135ms, render: 20ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:28.337Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:28.352Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:28.365Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:28.374Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:28.375Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:28.380Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 280ms (compile: 12ms, proxy.ts: 92ms, render: 176ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 288ms (compile: 1556Âµs, proxy.ts: 132ms, render: 155ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 324ms (compile: 2ms, proxy.ts: 151ms, render: 171ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 386ms (compile: 3ms, proxy.ts: 138ms, render: 245ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T17:55:28.580Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T17:55:28.581Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 450ms (compile: 1243Âµs, proxy.ts: 150ms, render: 299ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:28.626Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=occupation&days=21 200 in 494ms (compile: 1088Âµs, proxy.ts: 140ms, render: 354ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:28.688Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 260ms (compile: 1581Âµs, proxy.ts: 74ms, render: 184ms)
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 231ms (compile: 1460Âµs, proxy.ts: 80ms, render: 150ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 326ms (compile: 1368Âµs, proxy.ts: 76ms, render: 248ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=monthly&months=12 200 in 246ms (compile: 1168Âµs, proxy.ts: 79ms, render: 166ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:28.832Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:28.844Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:28.863Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T17:55:28.904Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T17:55:29.163Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T17:55:29.264Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 778ms (compile: 1907Âµs, proxy.ts: 119ms, render: 658ms)
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 629ms (compile: 38ms, proxy.ts: 104ms, render: 487ms)
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 697ms (compile: 4ms, proxy.ts: 78ms, render: 615ms)
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 762ms (compile: 2ms, proxy.ts: 75ms, render: 684ms)
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 634ms (compile: 153ms, proxy.ts: 92ms, render: 389ms)
 GET /api/acuity/stats?type=occupation&days=21 200 in 806ms (compile: 1988Âµs, proxy.ts: 81ms, render: 723ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[By Store API] Fetching data for years: 2025, grouping: monthly
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 1791ms (compile: 1191ms, proxy.ts: 252ms, render: 347ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 1905ms (compile: 1178ms, proxy.ts: 264ms, render: 463ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 1969ms (compile: 1182ms, proxy.ts: 260ms, render: 527ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Fetching data for years: 2025, grouping: monthly
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 2.0s (compile: 1153ms, proxy.ts: 291ms, render: 599ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 321ms (compile: 1657Âµs, proxy.ts: 96ms, render: 223ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 290ms (compile: 1139Âµs, proxy.ts: 89ms, render: 200ms)
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 358ms (compile: 3ms, proxy.ts: 101ms, render: 254ms)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 630ms (compile: 2ms, proxy.ts: 79ms, render: 549ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 399ms (compile: 118ms, proxy.ts: 218ms, render: 63ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 423ms (compile: 193ms, proxy.ts: 205ms, render: 25ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/monthly-breakdown',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Monthly Breakdown API] Fetching data for years: 2025
[Monthly Breakdown API] Success - Retrieved monthly data for 1 years
 GET /api/citas/historical/monthly-breakdown?years=2025 200 in 3.2s (compile: 2.8s, proxy.ts: 143ms, render: 284ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/monthly-breakdown',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/monthly-breakdown',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/monthly-breakdown',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/monthly-breakdown',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Monthly Breakdown API] Fetching data for years: 2024
[Monthly Breakdown API] Fetching data for years: 2023
[Monthly Breakdown API] Fetching data for years: 2021
[Monthly Breakdown API] Fetching data for years: 2022
[Monthly Breakdown API] Success - Retrieved monthly data for 1 years
 GET /api/citas/historical/monthly-breakdown?years=2021 200 in 382ms (compile: 19ms, proxy.ts: 155ms, render: 208ms)
[Monthly Breakdown API] Success - Retrieved monthly data for 1 years
 GET /api/citas/historical/monthly-breakdown?years=2022 200 in 397ms (compile: 9ms, proxy.ts: 171ms, render: 217ms)
[Monthly Breakdown API] Success - Retrieved monthly data for 1 years
 GET /api/citas/historical/monthly-breakdown?years=2024 200 in 398ms (compile: 5ms, proxy.ts: 152ms, render: 241ms)
[Monthly Breakdown API] Success - Retrieved monthly data for 1 years
 GET /api/citas/historical/monthly-breakdown?years=2023 200 in 406ms (compile: 8ms, proxy.ts: 172ms, render: 226ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 263ms (compile: 73ms, proxy.ts: 149ms, render: 41ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 222ms (compile: 45ms, proxy.ts: 132ms, render: 44ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 500ms (compile: 298ms, proxy.ts: 163ms, render: 40ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 1006ms (compile: 621ms, proxy.ts: 356ms, render: 30ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 218ms (compile: 10ms, proxy.ts: 180ms, render: 28ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 166ms (compile: 5ms, proxy.ts: 134ms, render: 28ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 197ms (compile: 7ms, proxy.ts: 160ms, render: 31ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 459ms (compile: 3ms, proxy.ts: 442ms, render: 15ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 171ms (compile: 3ms, proxy.ts: 155ms, render: 13ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 164ms (compile: 3ms, proxy.ts: 144ms, render: 17ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 704ms (compile: 209ms, proxy.ts: 417ms, render: 78ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 2.3s (compile: 42ms, proxy.ts: 1354ms, render: 880ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T18:26:16.584Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T18:26:16.588Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T18:26:16.594Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T18:26:16.596Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T18:26:16.599Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 4.1s (compile: 2.3s, proxy.ts: 1228ms, render: 514ms)
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 4.1s (compile: 2.3s, proxy.ts: 1264ms, render: 518ms)
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 4.1s (compile: 2.7s, proxy.ts: 822ms, render: 521ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 4.1s (compile: 2.3s, proxy.ts: 1267ms, render: 549ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 4.5s (compile: 2.3s, proxy.ts: 1266ms, render: 946ms)
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T18:26:17.414Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T18:26:17.488Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T18:26:17.490Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 548ms (compile: 5ms, proxy.ts: 367ms, render: 175ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T18:26:17.792Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 840ms (compile: 6ms, proxy.ts: 406ms, render: 428ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T18:26:17.880Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T18:26:17.901Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
 GET /api/acuity/stats?type=occupation&days=21 200 in 5.0s (compile: 2.8s, proxy.ts: 793ms, render: 1452ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 1014ms (compile: 1448Âµs, proxy.ts: 515ms, render: 497ms)
[Acuity Stats] Found 83 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 585ms (compile: 5ms, proxy.ts: 378ms, render: 202ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=monthly&months=12 200 in 1031ms (compile: 4ms, proxy.ts: 804ms, render: 223ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T18:26:18.125Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-09T18:26:18.227Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T18:26:18.297Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Stats Availability] Found 734 total employee availability records
[Stats Availability] Found 718 valid employee availability records (with calendar_id)
[Stats Availability] Found 87 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 30
[Stats Availability] Calendar Name to Store map size: 30
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 486ms (compile: 19ms, proxy.ts: 179ms, render: 289ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-09T18:26:18.318Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Found 137 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 416ms (compile: 2ms, proxy.ts: 212ms, render: 202ms)
[Acuity Stats] Found 479 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1612279748,
  datetime: '2026-01-15T19:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'AdriÃ¡n SÃ¡nchez'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 474ms (compile: 12ms, proxy.ts: 194ms, render: 269ms)
 GET /api/acuity/stats?type=occupation&days=21 200 in 536ms (compile: 1946Âµs, proxy.ts: 172ms, render: 363ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-08T23:00:00.000Z',
  endDateStr: '2026-01-30T22:59:59.999Z',
  futureEndDateStr: '2027-01-09T22:59:59.999Z',
  startDateStrOnly: '2026-01-09',
  endDateStrOnly: '2026-01-30',
  futureEndDateStrOnly: '2027-01-09',
  category: null,
  calendar: null,
  todayISO: '2026-01-09T18:26:21.425Z',
  todayStartISO: '2026-01-08T23:00:00.000Z'
}
[Acuity Stats] Found 459 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611793718,
  datetime: '2026-01-14T13:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Andrea HernÃ¡ndez'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 3.8s (compile: 41ms, proxy.ts: 3.5s, render: 285ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 1367ms (compile: 444ms, proxy.ts: 831ms, render: 92ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 221ms (compile: 3ms, proxy.ts: 198ms, render: 20ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling / ...
 GET / 200 in 5.4s (compile: 5.2s, proxy.ts: 219ms, render: 44ms)
ğŸ” Middleware Debug: { url: '/api/dashboard', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Dashboard] Raw availability data: {
  count: 18,
  sample: [
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'mediciÃ³n',
      booked: 11,
      available: 0,
      total: 10
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'mediciÃ³n',
      booked: 4,
      available: 2,
      total: 6
    },
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'fitting',
      booked: 1,
      available: 0,
      total: 1
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'fitting',
      booked: 0,
      available: 3,
      total: 3
    },
    {
      store_name: 'The Bundclub Bilbao',
      normalized: 'Bilbao',
      category: 'fitting',
      booked: 0,
      available: 6,
      total: 6
    }
  ]
}
[Dashboard] Store map after processing: {
  storesInMap: [
    'Sevilla', 'Barcelona',
    'Bilbao',  'Murcia',
    'Madrid',  'Valencia',
    'Cdmx',    'Zaragoza',
    'MÃ¡laga'
  ],
  orderedStores: [
    'Madrid',   'Sevilla',
    'MÃ¡laga',   'Barcelona',
    'Murcia',   'Cdmx',
    'Bilbao',   'Zaragoza',
    'Valencia'
  ]
}
[Dashboard] Store occupation data: {
  today: '2026-01-10',
  storesFound: 9,
  stores: [
    {
      name: 'Madrid',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Sevilla',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'MÃ¡laga',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Barcelona',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Murcia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Cdmx',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Bilbao',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Zaragoza',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Valencia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    }
  ]
}
[Dashboard] Investment data: {
  totalAdsRecords: 1000,
  uniqueDates: 12,
  sampleDates: [
    [ '2025-12-23', 0 ],
    [ '2025-12-18', 0 ],
    [ '2025-12-16', 0 ],
    [ '2025-12-26', 0 ],
    [ '2025-12-22', 0 ]
  ]
}
 GET /api/dashboard 200 in 3.2s (compile: 1200ms, proxy.ts: 207ms, render: 1755ms)
ğŸ” Middleware Debug: { url: '/api/dashboard', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Dashboard] Raw availability data: {
  count: 18,
  sample: [
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'mediciÃ³n',
      booked: 11,
      available: 0,
      total: 10
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'mediciÃ³n',
      booked: 4,
      available: 2,
      total: 6
    },
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'fitting',
      booked: 1,
      available: 0,
      total: 1
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'fitting',
      booked: 0,
      available: 3,
      total: 3
    },
    {
      store_name: 'The Bundclub Bilbao',
      normalized: 'Bilbao',
      category: 'fitting',
      booked: 0,
      available: 6,
      total: 6
    }
  ]
}
[Dashboard] Store map after processing: {
  storesInMap: [
    'Sevilla', 'Barcelona',
    'Bilbao',  'Murcia',
    'Madrid',  'Valencia',
    'Cdmx',    'Zaragoza',
    'MÃ¡laga'
  ],
  orderedStores: [
    'Madrid',   'Sevilla',
    'MÃ¡laga',   'Barcelona',
    'Murcia',   'Cdmx',
    'Bilbao',   'Zaragoza',
    'Valencia'
  ]
}
[Dashboard] Store occupation data: {
  today: '2026-01-10',
  storesFound: 9,
  stores: [
    {
      name: 'Madrid',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Sevilla',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'MÃ¡laga',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Barcelona',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Murcia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Cdmx',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Bilbao',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Zaragoza',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Valencia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    }
  ]
}
[Dashboard] Investment data: {
  totalAdsRecords: 1000,
  uniqueDates: 12,
  sampleDates: [
    [ '2025-12-23', 0 ],
    [ '2025-12-18', 0 ],
    [ '2025-12-16', 0 ],
    [ '2025-12-26', 0 ],
    [ '2025-12-22', 0 ]
  ]
}
 GET /api/dashboard 200 in 1501ms (compile: 7ms, proxy.ts: 104ms, render: 1390ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 610ms (compile: 147ms, proxy.ts: 384ms, render: 78ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 657ms (compile: 200ms, proxy.ts: 431ms, render: 26ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 290ms (compile: 18ms, proxy.ts: 120ms, render: 151ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 163ms (compile: 3ms, proxy.ts: 147ms, render: 13ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 163ms (compile: 12ms, proxy.ts: 89ms, render: 62ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 227ms (compile: 55ms, proxy.ts: 144ms, render: 28ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 295ms (compile: 149ms, proxy.ts: 122ms, render: 24ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 201ms (compile: 3ms, proxy.ts: 177ms, render: 21ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 187ms (compile: 4ms, proxy.ts: 157ms, render: 26ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 459ms (compile: 13ms, proxy.ts: 407ms, render: 39ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 119ms (compile: 2ms, proxy.ts: 105ms, render: 12ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 532ms (compile: 9ms, proxy.ts: 504ms, render: 19ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 215ms (compile: 8ms, proxy.ts: 143ms, render: 64ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 217ms (compile: 3ms, proxy.ts: 180ms, render: 33ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 132ms (compile: 2ms, proxy.ts: 102ms, render: 27ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 199ms (compile: 4ms, proxy.ts: 166ms, render: 30ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 173ms (compile: 7ms, proxy.ts: 149ms, render: 17ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 186ms (compile: 11ms, proxy.ts: 128ms, render: 47ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 133ms (compile: 4ms, proxy.ts: 113ms, render: 15ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 186ms (compile: 5ms, proxy.ts: 115ms, render: 66ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 162ms (compile: 5ms, proxy.ts: 138ms, render: 19ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 177ms (compile: 22ms, proxy.ts: 119ms, render: 36ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 731ms (compile: 48ms, proxy.ts: 502ms, render: 181ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 135ms (compile: 6ms, proxy.ts: 108ms, render: 22ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 225ms (compile: 7ms, proxy.ts: 156ms, render: 63ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 167ms (compile: 3ms, proxy.ts: 143ms, render: 21ms)
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 362ms (compile: 50ms, proxy.ts: 261ms, render: 52ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:17.713Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:17.717Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:17.734Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:17.738Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:17.742Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:17.820Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 2.2s (compile: 1475ms, proxy.ts: 267ms, render: 505ms)
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 2.4s (compile: 1599ms, proxy.ts: 142ms, render: 648ms)
[Acuity Stats] Found 100 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 2.4s (compile: 1560ms, proxy.ts: 177ms, render: 674ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 470 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1610636740,
  datetime: '2026-01-20T12:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'Ignacio FernÃ¡ndez de Cuevas'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 2.8s (compile: 944ms, proxy.ts: 798ms, render: 1020ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Stats Availability] Found 742 total employee availability records
[Stats Availability] Found 728 valid employee availability records (with calendar_id)
[Stats Availability] Found 90 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 31
[Stats Availability] Calendar Name to Store map size: 31
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 2.8s (compile: 1560ms, proxy.ts: 181ms, render: 1059ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-10T18:04:18.692Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=occupation&days=21 200 in 2.9s (compile: 1293ms, proxy.ts: 449ms, render: 1120ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-10T18:04:18.809Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:18.830Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 528 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1610636740,
  datetime: '2026-01-20T12:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'Ignacio FernÃ¡ndez de Cuevas'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 645ms (compile: 54ms, proxy.ts: 264ms, render: 327ms)
 GET /api/acuity/stats?type=monthly&months=12 200 in 616ms (compile: 38ms, proxy.ts: 394ms, render: 184ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:18.928Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:18.940Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:18.943Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Found 148 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 693ms (compile: 36ms, proxy.ts: 376ms, render: 280ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 100 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 335ms (compile: 5ms, proxy.ts: 153ms, render: 176ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 352ms (compile: 4ms, proxy.ts: 166ms, render: 182ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:19.084Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:19.104Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 470 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1610636740,
  datetime: '2026-01-20T12:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'Ignacio FernÃ¡ndez de Cuevas'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 402ms (compile: 5ms, proxy.ts: 106ms, render: 291ms)
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-10T18:04:19.160Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-10T18:04:19.204Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Found 528 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1610636740,
  datetime: '2026-01-20T12:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'Ignacio FernÃ¡ndez de Cuevas'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 351ms (compile: 2ms, proxy.ts: 96ms, render: 253ms)
[Acuity Stats] Found 148 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 308ms (compile: 1662Âµs, proxy.ts: 93ms, render: 213ms)
[Stats Availability] Found 742 total employee availability records
[Stats Availability] Found 728 valid employee availability records (with calendar_id)
[Stats Availability] Found 90 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 31
[Stats Availability] Calendar Name to Store map size: 31
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 422ms (compile: 1959Âµs, proxy.ts: 90ms, render: 330ms)
 GET /api/acuity/stats?type=occupation&days=21 200 in 443ms (compile: 2ms, proxy.ts: 87ms, render: 354ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 218ms (compile: 56ms, proxy.ts: 115ms, render: 46ms)
ğŸ” Middleware Debug: { url: '/api/dashboard', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 167ms (compile: 29ms, proxy.ts: 121ms, render: 17ms)
[Dashboard] Raw occupation data: {
  source: 'availability_by_store',
  count: 18,
  sample: [
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'mediciÃ³n',
      booked: 11,
      total: 10,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'mediciÃ³n',
      booked: 4,
      total: 6,
      available: 2
    },
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'fitting',
      booked: 1,
      total: 1,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'fitting',
      booked: 0,
      total: 3,
      available: 3
    },
    {
      store_name: 'The Bundclub Bilbao',
      normalized: 'Bilbao',
      category: 'fitting',
      booked: 0,
      total: 6,
      available: 6
    }
  ]
}
[Dashboard] Store map after processing: {
  dataSource: 'availability_by_store',
  storesInMap: [
    'Sevilla', 'Barcelona',
    'Bilbao',  'Murcia',
    'Madrid',  'Valencia',
    'Cdmx',    'Zaragoza',
    'MÃ¡laga'
  ],
  orderedStores: [
    'Madrid',   'Sevilla',
    'MÃ¡laga',   'Barcelona',
    'Murcia',   'Cdmx',
    'Bilbao',   'Zaragoza',
    'Valencia'
  ]
}
[Dashboard] Store occupation data: {
  today: '2026-01-10',
  storesFound: 9,
  stores: [
    {
      name: 'Madrid',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Sevilla',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'MÃ¡laga',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Barcelona',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Murcia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Cdmx',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Bilbao',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Zaragoza',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Valencia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    }
  ]
}
[Dashboard] Investment data: {
  totalAdsRecords: 1000,
  uniqueDates: 12,
  sampleDates: [
    [ '2025-12-23', 0 ],
    [ '2025-12-18', 0 ],
    [ '2025-12-16', 0 ],
    [ '2025-12-26', 0 ],
    [ '2025-12-22', 0 ]
  ]
}
 GET /api/dashboard 200 in 1831ms (compile: 619ms, proxy.ts: 88ms, render: 1123ms)
ğŸ” Middleware Debug: { url: '/api/dashboard', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Dashboard] Raw occupation data: {
  source: 'availability_by_store',
  count: 18,
  sample: [
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'mediciÃ³n',
      booked: 11,
      total: 10,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'mediciÃ³n',
      booked: 4,
      total: 6,
      available: 2
    },
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'fitting',
      booked: 1,
      total: 1,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'fitting',
      booked: 0,
      total: 3,
      available: 3
    },
    {
      store_name: 'The Bundclub Bilbao',
      normalized: 'Bilbao',
      category: 'fitting',
      booked: 0,
      total: 6,
      available: 6
    }
  ]
}
[Dashboard] Store map after processing: {
  dataSource: 'availability_by_store',
  storesInMap: [
    'Sevilla', 'Barcelona',
    'Bilbao',  'Murcia',
    'Madrid',  'Valencia',
    'Cdmx',    'Zaragoza',
    'MÃ¡laga'
  ],
  orderedStores: [
    'Madrid',   'Sevilla',
    'MÃ¡laga',   'Barcelona',
    'Murcia',   'Cdmx',
    'Bilbao',   'Zaragoza',
    'Valencia'
  ]
}
[Dashboard] Store occupation data: {
  today: '2026-01-10',
  storesFound: 9,
  stores: [
    {
      name: 'Madrid',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Sevilla',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'MÃ¡laga',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Barcelona',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Murcia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Cdmx',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Bilbao',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Zaragoza',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Valencia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    }
  ]
}
[Dashboard] Investment data: {
  totalAdsRecords: 1000,
  uniqueDates: 12,
  sampleDates: [
    [ '2025-12-23', 0 ],
    [ '2025-12-18', 0 ],
    [ '2025-12-16', 0 ],
    [ '2025-12-26', 0 ],
    [ '2025-12-22', 0 ]
  ]
}
 GET /api/dashboard 200 in 1162ms (compile: 6ms, proxy.ts: 83ms, render: 1073ms)
ğŸ” Middleware Debug: { url: '/calendario', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /calendario ...
ğŸ” Middleware Debug: { url: '/citas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /citas 200 in 1981ms (compile: 1163ms, proxy.ts: 768ms, render: 49ms)
 GET /calendario 200 in 7.0s (compile: 6.3s, proxy.ts: 665ms, render: 51ms)
ğŸ” Middleware Debug: { url: '/calendario', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /calendario 200 in 161ms (compile: 10ms, proxy.ts: 115ms, render: 37ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:34.803Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:34.810Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:34.826Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:34.828Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:34.830Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:34.833Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 407ms (compile: 98ms, proxy.ts: 105ms, render: 203ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=monthly&months=12 200 in 421ms (compile: 12ms, proxy.ts: 218ms, render: 191ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 100 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 383ms (compile: 12ms, proxy.ts: 155ms, render: 217ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 470 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1610636740,
  datetime: '2026-01-20T12:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'Ignacio FernÃ¡ndez de Cuevas'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 500ms (compile: 13ms, proxy.ts: 217ms, render: 270ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Stats Availability] Found 742 total employee availability records
[Stats Availability] Found 728 valid employee availability records (with calendar_id)
[Stats Availability] Found 90 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 31
[Stats Availability] Calendar Name to Store map size: 31
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 541ms (compile: 13ms, proxy.ts: 217ms, render: 311ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-10T18:04:35.066Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-10T18:04:35.077Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'daily',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:35.111Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=occupation&days=21 200 in 639ms (compile: 13ms, proxy.ts: 217ms, render: 409ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'monthly',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:35.165Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Found 148 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 246ms (compile: 1759Âµs, proxy.ts: 80ms, render: 164ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/acuity/stats?type=daily&year=2026&month=1 200 in 242ms (compile: 1584Âµs, proxy.ts: 82ms, render: 159ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Found 528 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1610636740,
  datetime: '2026-01-20T12:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'Ignacio FernÃ¡ndez de Cuevas'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 292ms (compile: 2ms, proxy.ts: 80ms, render: 210ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Acuity Stats] Query params: {
  type: 'cancellations',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:35.212Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/acuity/stats?type=monthly&months=12 200 in 238ms (compile: 1268Âµs, proxy.ts: 78ms, render: 158ms)
ğŸ” Middleware Debug: {
  url: '/api/acuity/stats',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:35.288Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Found 100 cancellations
 GET /api/acuity/stats?type=cancellations 200 in 259ms (compile: 1637Âµs, proxy.ts: 83ms, render: 174ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Acuity Stats] Query params: {
  type: 'availability',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:35.342Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'occupation',
  days: 21,
  startDateStr: '2026-01-09T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2027-01-10T22:59:59.999Z',
  startDateStrOnly: '2026-01-10',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2027-01-10',
  category: null,
  calendar: null,
  todayISO: '2026-01-10T18:04:35.360Z',
  todayStartISO: '2026-01-09T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'fitting',
  calendar: null,
  todayISO: '2026-01-10T18:04:35.376Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Query params: {
  type: 'upcoming',
  days: 21,
  startDateStr: '2025-12-31T23:00:00.000Z',
  endDateStr: '2026-01-31T22:59:59.999Z',
  futureEndDateStr: '2026-01-31T22:59:59.999Z',
  startDateStrOnly: '2026-01-01',
  endDateStrOnly: '2026-01-31',
  futureEndDateStrOnly: '2026-01-31',
  category: 'mediciÃ³n',
  calendar: null,
  todayISO: '2026-01-10T18:04:35.386Z',
  todayStartISO: '2025-12-31T23:00:00.000Z'
}
[Acuity Stats] Found 470 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1610636740,
  datetime: '2026-01-20T12:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'Ignacio FernÃ¡ndez de Cuevas'
}
 GET /api/acuity/stats?type=upcoming&days=21 200 in 304ms (compile: 1265Âµs, proxy.ts: 73ms, render: 229ms)
[Acuity Stats] Found 148 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1611668691,
  datetime: '2026-01-14T19:00:00+00:00',
  status: 'scheduled',
  category: 'fitting',
  calendar: 'Ariadna Vega'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=fitting 200 in 272ms (compile: 1307Âµs, proxy.ts: 87ms, render: 183ms)
[Acuity Stats] Found 528 upcoming appointments
[Acuity Stats] Sample appointment: {
  id: 1610636740,
  datetime: '2026-01-20T12:00:00+00:00',
  status: 'scheduled',
  category: 'mediciÃ³n',
  calendar: 'Ignacio FernÃ¡ndez de Cuevas'
}
 GET /api/acuity/stats?type=upcoming&startDate=2026-01-01&endDate=2026-01-31&category=medici%C3%B3n 200 in 250ms (compile: 1190Âµs, proxy.ts: 70ms, render: 179ms)
[Stats Availability] Found 742 total employee availability records
[Stats Availability] Found 728 valid employee availability records (with calendar_id)
[Stats Availability] Found 90 calendars for mapping
[Stats Availability] Calendar ID to Store map size: 31
[Stats Availability] Calendar Name to Store map size: 31
[Stats Availability] Records without calendar_id: 0
[Stats Availability] Records with unknown store: 0
[Stats Availability] Employee data map size: 23
[Stats Availability] Added employee Josmar GonzÃ¡lez to store The Bundclub Madrid (calendar_id=13199531)
[Stats Availability] Added employee Pablo Vallejo to store The Bundclub Madrid (calendar_id=13199520)
[Stats Availability] Added employee JosÃ© JimÃ©nez to store The Bundclub Madrid (calendar_id=13199513)
[Stats Availability] Added employee AdriÃ¡n SÃ¡nchez to store The Bundclub Madrid (calendar_id=13199571)
[Stats Availability] Added employee Andrea HernÃ¡ndez to store The Bundclub Madrid (calendar_id=13199527)
[Stats Availability] Added employee JesÃºs GonzÃ¡lez QuirÃ³s to store The Bundclub Madrid (calendar_id=13199524)
[Stats Availability] Added employee Andrea QuiÃ±ones to store The Bundclub Madrid (calendar_id=13199534)
[Stats Availability] Added employee Francisco GutiÃ©rrez to store The Bundclub Sevilla (calendar_id=13199542)
[Stats Availability] Added employee Pablo Cervantes to store The Bundclub MÃ¡laga (calendar_id=13199544)
[Stats Availability] Added employee Pablo Oliva to store The Bundclub Sevilla (calendar_id=13199543)
[Stats Availability] Added employee AdriÃ¡n Lasarte to store The Bundclub Zaragoza (calendar_id=13199564)
[Stats Availability] Added employee Alfonso LÃ³pez to store The Bundclub Sevilla (calendar_id=13199540)
[Stats Availability] Added employee Ignacio FernÃ¡ndez de Cuevas to store The Bundclub Bilbao (calendar_id=13199561)
[Stats Availability] Added employee Ariadna Vega to store The Bundclub Barcelona (calendar_id=13199554)
[Stats Availability] Added employee Joaquin Pombo to store The Bundclub Barcelona (calendar_id=13199553)
[Stats Availability] Added employee Carlos SÃ¡nchez to store The Bundclub CDMX (Polanco) (calendar_id=13199567)
[Stats Availability] Added employee Manuel Guadarrama to store The Bundclub CDMX (Polanco) (calendar_id=13199568)
[Stats Availability] Added employee Curro Zayas to store The Bundclub MÃ¡laga (calendar_id=13199548)
[Stats Availability] Added employee RubÃ©n Blanco to store The Bundclub MÃ¡laga (calendar_id=13199546)
[Stats Availability] Added employee Irene RodrÃ­guez to store The Bundclub Sevilla (calendar_id=13199538)
[Stats Availability] Added employee Javier PeÃ±a to store The Bundclub Murcia (calendar_id=13199555)
[Stats Availability] Added employee Pedro Aguilera  to store The Bundclub Valencia (calendar_id=13226214)
[Stats Availability] Added employee Alberto Mesa to store The Bundclub MÃ¡laga (calendar_id=13199551)
[Stats Availability] Total employees added to stores: 23
 GET /api/acuity/stats?type=availability&days=21 200 in 379ms (compile: 1250Âµs, proxy.ts: 82ms, render: 296ms)
 GET /api/acuity/stats?type=occupation&days=21 200 in 396ms (compile: 1271Âµs, proxy.ts: 83ms, render: 313ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[By Store API] Fetching data for years: 2025, grouping: monthly
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 1647ms (compile: 1055ms, proxy.ts: 214ms, render: 378ms)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 1769ms (compile: 1064ms, proxy.ts: 206ms, render: 499ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/by-store',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 1784ms (compile: 1063ms, proxy.ts: 207ms, render: 514ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/annual-totals',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 1827ms (compile: 1058ms, proxy.ts: 213ms, render: 557ms)
ğŸ” Middleware Debug: {
  url: '/api/citas/historical/compare',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[By Store API] Fetching data for years: 2025, grouping: monthly
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[By Store API] Success - Retrieved data for 9 stores
 GET /api/citas/historical/by-store?years=2025&grouping=monthly 200 in 279ms (compile: 7ms, proxy.ts: 85ms, render: 187ms)
[Annual Totals API] Fetching data for years: 2021, 2022, 2023, 2024, 2025
[By Store API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, grouping: annual
[Historical Compare API] Fetching data for years: 2021, 2022, 2023, 2024, 2025, month: 1
[Annual Totals API] Success - Retrieved data for 5 years
 GET /api/citas/historical/annual-totals?years=2021,2022,2023,2024,2025 200 in 291ms (compile: 7ms, proxy.ts: 73ms, render: 211ms)
[By Store API] Success - Retrieved data for 15 stores
 GET /api/citas/historical/by-store?years=2021,2022,2023,2024,2025&grouping=annual 200 in 338ms (compile: 1639Âµs, proxy.ts: 107ms, render: 229ms)
[Historical Compare API] Year 2021: 58 appointments found (via RPC)
[Historical Compare API] Year 2022: 168 appointments found (via RPC)
[Historical Compare API] Year 2023: 910 appointments found (via RPC)
[Historical Compare API] Year 2024: 1173 appointments found (via RPC)
[Historical Compare API] Year 2025: 1657 appointments found (via RPC)
 GET /api/citas/historical/compare?years=2021,2022,2023,2024,2025&month=1 200 in 697ms (compile: 2ms, proxy.ts: 91ms, render: 604ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 378ms (compile: 73ms, proxy.ts: 250ms, render: 55ms)
ğŸ” Middleware Debug: { url: '/api/dashboard', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Dashboard] Investment data: {
  totalAdsRecords: 1000,
  uniqueDates: 12,
  sampleDates: [
    [ '2025-12-23', 0 ],
    [ '2025-12-18', 0 ],
    [ '2025-12-16', 0 ],
    [ '2025-12-26', 0 ],
    [ '2025-12-22', 0 ]
  ]
}
[Dashboard] Raw occupation data: {
  source: 'availability_by_store',
  count: 18,
  sample: [
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'mediciÃ³n',
      booked: 11,
      total: 10,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'mediciÃ³n',
      booked: 4,
      total: 6,
      available: 2
    },
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'fitting',
      booked: 1,
      total: 1,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'fitting',
      booked: 0,
      total: 3,
      available: 3
    },
    {
      store_name: 'The Bundclub Bilbao',
      normalized: 'Bilbao',
      category: 'fitting',
      booked: 0,
      total: 6,
      available: 6
    }
  ]
}
[Dashboard] Store map after processing: {
  dataSource: 'availability_by_store',
  storesInMap: [
    'Sevilla', 'Barcelona',
    'Bilbao',  'Murcia',
    'Madrid',  'Valencia',
    'Cdmx',    'Zaragoza',
    'MÃ¡laga'
  ],
  orderedStores: [
    'Madrid',   'Sevilla',
    'MÃ¡laga',   'Barcelona',
    'Murcia',   'Cdmx',
    'Bilbao',   'Zaragoza',
    'Valencia'
  ]
}
[Dashboard] Store occupation data: {
  today: '2026-01-10',
  storesFound: 9,
  stores: [
    {
      name: 'Madrid',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Sevilla',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'MÃ¡laga',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Barcelona',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Murcia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Cdmx',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Bilbao',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Zaragoza',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Valencia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    }
  ]
}
 GET /api/dashboard 200 in 1870ms (compile: 24ms, proxy.ts: 87ms, render: 1759ms)
ğŸ” Middleware Debug: { url: '/api/dashboard', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Dashboard] Raw occupation data: {
  source: 'availability_by_store',
  count: 18,
  sample: [
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'mediciÃ³n',
      booked: 11,
      total: 10,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'mediciÃ³n',
      booked: 4,
      total: 6,
      available: 2
    },
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'fitting',
      booked: 1,
      total: 1,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'fitting',
      booked: 0,
      total: 3,
      available: 3
    },
    {
      store_name: 'The Bundclub Bilbao',
      normalized: 'Bilbao',
      category: 'fitting',
      booked: 0,
      total: 6,
      available: 6
    }
  ]
}
[Dashboard] Store map after processing: {
  dataSource: 'availability_by_store',
  storesInMap: [
    'Sevilla', 'Barcelona',
    'Bilbao',  'Murcia',
    'Madrid',  'Valencia',
    'Cdmx',    'Zaragoza',
    'MÃ¡laga'
  ],
  orderedStores: [
    'Madrid',   'Sevilla',
    'MÃ¡laga',   'Barcelona',
    'Murcia',   'Cdmx',
    'Bilbao',   'Zaragoza',
    'Valencia'
  ]
}
[Dashboard] Store occupation data: {
  today: '2026-01-10',
  storesFound: 9,
  stores: [
    {
      name: 'Madrid',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Sevilla',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'MÃ¡laga',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Barcelona',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Murcia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Cdmx',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Bilbao',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Zaragoza',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Valencia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    }
  ]
}
[Dashboard] Investment data: {
  totalAdsRecords: 1000,
  uniqueDates: 12,
  sampleDates: [
    [ '2025-12-23', 0 ],
    [ '2025-12-18', 0 ],
    [ '2025-12-16', 0 ],
    [ '2025-12-26', 0 ],
    [ '2025-12-22', 0 ]
  ]
}
 GET /api/dashboard 200 in 1052ms (compile: 10ms, proxy.ts: 110ms, render: 932ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 382ms (compile: 10ms, proxy.ts: 330ms, render: 42ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 179ms (compile: 8ms, proxy.ts: 152ms, render: 20ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 466ms (compile: 25ms, proxy.ts: 341ms, render: 100ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 403ms (compile: 216ms, proxy.ts: 153ms, render: 34ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 159ms (compile: 2ms, proxy.ts: 138ms, render: 19ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 196ms (compile: 3ms, proxy.ts: 149ms, render: 44ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 269ms (compile: 9ms, proxy.ts: 222ms, render: 38ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 1001ms (compile: 31ms, proxy.ts: 305ms, render: 664ms)
ğŸ” Middleware Debug: { url: '/api/dashboard', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/dashboard ...
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 416ms (compile: 49ms, proxy.ts: 330ms, render: 38ms)
[Dashboard] Raw occupation data: {
  source: 'availability_by_store',
  count: 18,
  sample: [
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'mediciÃ³n',
      booked: 11,
      total: 10,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'mediciÃ³n',
      booked: 4,
      total: 6,
      available: 2
    },
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'fitting',
      booked: 1,
      total: 1,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'fitting',
      booked: 0,
      total: 3,
      available: 3
    },
    {
      store_name: 'The Bundclub Bilbao',
      normalized: 'Bilbao',
      category: 'fitting',
      booked: 0,
      total: 6,
      available: 6
    }
  ]
}
[Dashboard] Store map after processing: {
  dataSource: 'availability_by_store',
  storesInMap: [
    'Sevilla', 'Barcelona',
    'Bilbao',  'Murcia',
    'Madrid',  'Valencia',
    'Cdmx',    'Zaragoza',
    'MÃ¡laga'
  ],
  orderedStores: [
    'Madrid',   'Sevilla',
    'MÃ¡laga',   'Barcelona',
    'Murcia',   'Cdmx',
    'Bilbao',   'Zaragoza',
    'Valencia'
  ]
}
[Dashboard] Store occupation data: {
  today: '2026-01-10',
  storesFound: 9,
  stores: [
    {
      name: 'Madrid',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Sevilla',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'MÃ¡laga',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Barcelona',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Murcia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Cdmx',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Bilbao',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Zaragoza',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Valencia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    }
  ]
}
[Dashboard] Investment data: {
  totalAdsRecords: 1000,
  uniqueDates: 12,
  sampleDates: [
    [ '2025-12-23', 0 ],
    [ '2025-12-18', 0 ],
    [ '2025-12-16', 0 ],
    [ '2025-12-26', 0 ],
    [ '2025-12-22', 0 ]
  ]
}
 GET /api/dashboard 200 in 6.2s (compile: 4.1s, proxy.ts: 276ms, render: 1849ms)
ğŸ” Middleware Debug: { url: '/api/dashboard', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Dashboard] Raw occupation data: {
  source: 'availability_by_store',
  count: 18,
  sample: [
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'mediciÃ³n',
      booked: 11,
      total: 10,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'mediciÃ³n',
      booked: 4,
      total: 6,
      available: 2
    },
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'fitting',
      booked: 1,
      total: 1,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'fitting',
      booked: 0,
      total: 3,
      available: 3
    },
    {
      store_name: 'The Bundclub Bilbao',
      normalized: 'Bilbao',
      category: 'fitting',
      booked: 0,
      total: 6,
      available: 6
    }
  ]
}
[Dashboard] Store map after processing: {
  dataSource: 'availability_by_store',
  storesInMap: [
    'Sevilla', 'Barcelona',
    'Bilbao',  'Murcia',
    'Madrid',  'Valencia',
    'Cdmx',    'Zaragoza',
    'MÃ¡laga'
  ],
  orderedStores: [
    'Madrid',   'Sevilla',
    'MÃ¡laga',   'Barcelona',
    'Murcia',   'Cdmx',
    'Bilbao',   'Zaragoza',
    'Valencia'
  ]
}
[Dashboard] Store occupation data: {
  today: '2026-01-10',
  storesFound: 9,
  stores: [
    {
      name: 'Madrid',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Sevilla',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'MÃ¡laga',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Barcelona',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Murcia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Cdmx',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Bilbao',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Zaragoza',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Valencia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    }
  ]
}
[Dashboard] Investment data: {
  totalAdsRecords: 1000,
  uniqueDates: 12,
  sampleDates: [
    [ '2025-12-23', 0 ],
    [ '2025-12-18', 0 ],
    [ '2025-12-16', 0 ],
    [ '2025-12-26', 0 ],
    [ '2025-12-22', 0 ]
  ]
}
 GET /api/dashboard 200 in 1922ms (compile: 9ms, proxy.ts: 95ms, render: 1818ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 275ms (compile: 4ms, proxy.ts: 240ms, render: 32ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 117ms (compile: 3ms, proxy.ts: 98ms, render: 15ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 771ms (compile: 327ms, proxy.ts: 370ms, render: 74ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 311ms (compile: 9ms, proxy.ts: 176ms, render: 126ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 201ms (compile: 3ms, proxy.ts: 173ms, render: 26ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 932ms (compile: 19ms, proxy.ts: 212ms, render: 701ms)
ğŸ” Middleware Debug: { url: '/api/dashboard', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/dashboard ...
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 333ms (compile: 66ms, proxy.ts: 170ms, render: 97ms)
[Dashboard] Raw occupation data: {
  source: 'availability_by_store',
  count: 18,
  sample: [
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'mediciÃ³n',
      booked: 11,
      total: 10,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'mediciÃ³n',
      booked: 4,
      total: 6,
      available: 2
    },
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'fitting',
      booked: 1,
      total: 1,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'fitting',
      booked: 0,
      total: 3,
      available: 3
    },
    {
      store_name: 'The Bundclub Bilbao',
      normalized: 'Bilbao',
      category: 'fitting',
      booked: 0,
      total: 6,
      available: 6
    }
  ]
}
[Dashboard] Store map after processing: {
  dataSource: 'availability_by_store',
  storesInMap: [
    'Sevilla', 'Barcelona',
    'Bilbao',  'Murcia',
    'Madrid',  'Valencia',
    'Cdmx',    'Zaragoza',
    'MÃ¡laga'
  ],
  orderedStores: [
    'Madrid',   'Sevilla',
    'MÃ¡laga',   'Barcelona',
    'Murcia',   'Cdmx',
    'Bilbao',   'Zaragoza',
    'Valencia'
  ]
}
[Dashboard] Store occupation data: {
  today: '2026-01-10',
  storesFound: 9,
  stores: [
    {
      name: 'Madrid',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Sevilla',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'MÃ¡laga',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Barcelona',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Murcia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Cdmx',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Bilbao',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Zaragoza',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Valencia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    }
  ]
}
[Dashboard] Investment data: {
  totalAdsRecords: 1000,
  uniqueDates: 12,
  sampleDates: [
    [ '2025-12-23', 0 ],
    [ '2025-12-18', 0 ],
    [ '2025-12-16', 0 ],
    [ '2025-12-26', 0 ],
    [ '2025-12-22', 0 ]
  ]
}
 GET /api/dashboard 200 in 5.8s (compile: 4.4s, proxy.ts: 158ms, render: 1228ms)
ğŸ” Middleware Debug: { url: '/api/dashboard', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Dashboard] Raw occupation data: {
  source: 'availability_by_store',
  count: 18,
  sample: [
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'mediciÃ³n',
      booked: 11,
      total: 10,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'mediciÃ³n',
      booked: 4,
      total: 6,
      available: 2
    },
    {
      store_name: 'The Bundclub Sevilla',
      normalized: 'Sevilla',
      category: 'fitting',
      booked: 1,
      total: 1,
      available: 0
    },
    {
      store_name: 'The Bundclub Barcelona',
      normalized: 'Barcelona',
      category: 'fitting',
      booked: 0,
      total: 3,
      available: 3
    },
    {
      store_name: 'The Bundclub Bilbao',
      normalized: 'Bilbao',
      category: 'fitting',
      booked: 0,
      total: 6,
      available: 6
    }
  ]
}
[Dashboard] Store map after processing: {
  dataSource: 'availability_by_store',
  storesInMap: [
    'Sevilla', 'Barcelona',
    'Bilbao',  'Murcia',
    'Madrid',  'Valencia',
    'Cdmx',    'Zaragoza',
    'MÃ¡laga'
  ],
  orderedStores: [
    'Madrid',   'Sevilla',
    'MÃ¡laga',   'Barcelona',
    'Murcia',   'Cdmx',
    'Bilbao',   'Zaragoza',
    'Valencia'
  ]
}
[Dashboard] Store occupation data: {
  today: '2026-01-10',
  storesFound: 9,
  stores: [
    {
      name: 'Madrid',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Sevilla',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'MÃ¡laga',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Barcelona',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Murcia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Cdmx',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Bilbao',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Zaragoza',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Valencia',
      hasData: true,
      medicion: [Object],
      fitting: [Object]
    }
  ]
}
[Dashboard] Investment data: {
  totalAdsRecords: 1000,
  uniqueDates: 12,
  sampleDates: [
    [ '2025-12-23', 0 ],
    [ '2025-12-18', 0 ],
    [ '2025-12-16', 0 ],
    [ '2025-12-26', 0 ],
    [ '2025-12-22', 0 ]
  ]
}
 GET /api/dashboard 200 in 1095ms (compile: 4ms, proxy.ts: 101ms, render: 990ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 192ms (compile: 10ms, proxy.ts: 139ms, render: 44ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 163ms (compile: 6ms, proxy.ts: 129ms, render: 28ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 245ms (compile: 7ms, proxy.ts: 196ms, render: 42ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /ventas ...
 GET /ventas 200 in 5.1s (compile: 4.7s, proxy.ts: 328ms, render: 58ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 161ms (compile: 3ms, proxy.ts: 149ms, render: 9ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 1598ms (compile: 1174ms, proxy.ts: 179ms, render: 245ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 1622ms (compile: 1197ms, proxy.ts: 156ms, render: 270ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 1812ms (compile: 1172ms, proxy.ts: 181ms, render: 459ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 2.2s (compile: 1170ms, proxy.ts: 182ms, render: 830ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 2.2s (compile: 1167ms, proxy.ts: 177ms, render: 848ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 419ms (compile: 1681Âµs, proxy.ts: 75ms, render: 342ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1042ms (compile: 22ms, proxy.ts: 95ms, render: 925ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 863ms (compile: 3ms, proxy.ts: 438ms, render: 422ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 236ms (compile: 1475Âµs, proxy.ts: 77ms, render: 158ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 327ms (compile: 3ms, proxy.ts: 121ms, render: 203ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 288ms (compile: 3ms, proxy.ts: 81ms, render: 204ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 368ms (compile: 1721Âµs, proxy.ts: 94ms, render: 272ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 4.6s (compile: 1265ms, proxy.ts: 97ms, render: 3.3s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 4.3s (compile: 15ms, proxy.ts: 155ms, render: 4.1s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 3.2s (compile: 2.9s, proxy.ts: 103ms, render: 182ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 3.2s (compile: 2.9s, proxy.ts: 97ms, render: 209ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/integrations/shopify 200 in 3.3s (compile: 3.0s, proxy.ts: 77ms, render: 221ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 1613ms (compile: 747ms, proxy.ts: 548ms, render: 318ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 3.3s (compile: 2.7s, proxy.ts: 252ms, render: 361ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 420ms (compile: 1912Âµs, proxy.ts: 79ms, render: 339ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 310ms (compile: 6ms, proxy.ts: 107ms, render: 197ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 340ms (compile: 7ms, proxy.ts: 107ms, render: 227ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 298ms (compile: 6ms, proxy.ts: 124ms, render: 168ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 300ms (compile: 5ms, proxy.ts: 90ms, render: 206ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 1047ms (compile: 5ms, proxy.ts: 87ms, render: 955ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 838ms (compile: 3ms, proxy.ts: 114ms, render: 721ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 805ms (compile: 3ms, proxy.ts: 86ms, render: 716ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/integrations/shopify 200 in 1024ms (compile: 3ms, proxy.ts: 647ms, render: 374ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 842ms (compile: 12ms, proxy.ts: 558ms, render: 272ms)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 857ms (compile: 12ms, proxy.ts: 559ms, render: 286ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 600ms (compile: 2ms, proxy.ts: 360ms, render: 238ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 941ms (compile: 16ms, proxy.ts: 555ms, render: 370ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 475ms (compile: 2ms, proxy.ts: 83ms, render: 390ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 2.3s (compile: 80ms, proxy.ts: 102ms, render: 2.1s)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 3.6s (compile: 22ms, proxy.ts: 604ms, render: 3.0s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/shopify ...
 GET /api/shopify?type=monthly-revenue&months=12 200 in 16.5s (compile: 8.0s, proxy.ts: 7.7s, render: 794ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 16.5s (compile: 8.0s, proxy.ts: 7.7s, render: 834ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 15.6s (compile: 5.8s, proxy.ts: 8.8s, render: 958ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 16.7s (compile: 8.0s, proxy.ts: 7.7s, render: 1018ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 16.7s (compile: 8.0s, proxy.ts: 7.7s, render: 1051ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 868ms (compile: 1961Âµs, proxy.ts: 90ms, render: 776ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 807ms (compile: 192ms, proxy.ts: 171ms, render: 444ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 887ms (compile: 10ms, proxy.ts: 76ms, render: 801ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 805ms (compile: 159ms, proxy.ts: 163ms, render: 483ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 798ms (compile: 17ms, proxy.ts: 111ms, render: 670ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 925ms (compile: 3ms, proxy.ts: 157ms, render: 765ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 961ms (compile: 32ms, proxy.ts: 124ms, render: 805ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 1020ms (compile: 35ms, proxy.ts: 148ms, render: 838ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 402ms (compile: 6ms, proxy.ts: 114ms, render: 282ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 582ms (compile: 17ms, proxy.ts: 143ms, render: 422ms)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 486ms (compile: 15ms, proxy.ts: 105ms, render: 366ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 678ms (compile: 7ms, proxy.ts: 103ms, render: 568ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 314ms (compile: 77ms, proxy.ts: 147ms, render: 90ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 2.8s (compile: 3ms, proxy.ts: 82ms, render: 2.8s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 19.5s (compile: 8.0s, proxy.ts: 7.7s, render: 3.8s)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 414ms (compile: 31ms, proxy.ts: 127ms, render: 257ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 320ms (compile: 4ms, proxy.ts: 147ms, render: 169ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 343ms (compile: 3ms, proxy.ts: 114ms, render: 226ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 536ms (compile: 29ms, proxy.ts: 128ms, render: 379ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 338ms (compile: 16ms, proxy.ts: 105ms, render: 217ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 461ms (compile: 9ms, proxy.ts: 94ms, render: 359ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 439ms (compile: 16ms, proxy.ts: 188ms, render: 236ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 498ms (compile: 19ms, proxy.ts: 102ms, render: 378ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 551ms (compile: 27ms, proxy.ts: 93ms, render: 431ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 588ms (compile: 84ms, proxy.ts: 111ms, render: 394ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 266ms (compile: 5ms, proxy.ts: 99ms, render: 162ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 303ms (compile: 5ms, proxy.ts: 112ms, render: 186ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 351ms (compile: 1969Âµs, proxy.ts: 130ms, render: 219ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 296ms (compile: 2ms, proxy.ts: 88ms, render: 207ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 275ms (compile: 9ms, proxy.ts: 93ms, render: 173ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 380ms (compile: 4ms, proxy.ts: 82ms, render: 294ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 528ms (compile: 2ms, proxy.ts: 93ms, render: 433ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 397ms (compile: 3ms, proxy.ts: 78ms, render: 316ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 509ms (compile: 2ms, proxy.ts: 90ms, render: 417ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 718ms (compile: 4ms, proxy.ts: 93ms, render: 620ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 738ms (compile: 2ms, proxy.ts: 80ms, render: 656ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 557ms (compile: 1531Âµs, proxy.ts: 315ms, render: 240ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 311ms (compile: 1217Âµs, proxy.ts: 114ms, render: 195ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1278ms (compile: 6ms, proxy.ts: 87ms, render: 1185ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 385ms (compile: 1715Âµs, proxy.ts: 111ms, render: 272ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 353ms (compile: 1250Âµs, proxy.ts: 88ms, render: 264ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 250ms (compile: 1581Âµs, proxy.ts: 85ms, render: 163ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 262ms (compile: 3ms, proxy.ts: 90ms, render: 169ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 304ms (compile: 1637Âµs, proxy.ts: 112ms, render: 191ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 363ms (compile: 3ms, proxy.ts: 103ms, render: 257ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 414ms (compile: 2ms, proxy.ts: 109ms, render: 303ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 271ms (compile: 3ms, proxy.ts: 90ms, render: 177ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 268ms (compile: 1433Âµs, proxy.ts: 79ms, render: 187ms)
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 393ms (compile: 1518Âµs, proxy.ts: 78ms, render: 313ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 528ms (compile: 2ms, proxy.ts: 113ms, render: 413ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 2.2s (compile: 2ms, proxy.ts: 104ms, render: 2.1s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1082ms (compile: 1553Âµs, proxy.ts: 83ms, render: 998ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 2.2s (compile: 2ms, proxy.ts: 80ms, render: 2.1s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-10&endDate=2026-01-10&days=0 200 in 404ms (compile: 4ms, proxy.ts: 237ms, render: 163ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-10&endDate=2026-01-10&filterType=monthly 200 in 412ms (compile: 12ms, proxy.ts: 162ms, render: 238ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-10&endDate=2026-01-10 200 in 428ms (compile: 29ms, proxy.ts: 145ms, render: 254ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 467ms (compile: 6ms, proxy.ts: 258ms, render: 203ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-10&endDate=2026-01-10&filterType=monthly 200 in 495ms (compile: 7ms, proxy.ts: 240ms, render: 248ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-10&endDate=2026-01-10&onlineOnly=true 200 in 285ms (compile: 1950Âµs, proxy.ts: 92ms, render: 191ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-10&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 301ms (compile: 1612Âµs, proxy.ts: 92ms, render: 207ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-10&endDate=2026-01-10&days=0&onlineOnly=true 200 in 331ms (compile: 11ms, proxy.ts: 105ms, render: 215ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 341ms (compile: 13ms, proxy.ts: 85ms, render: 243ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-10&endDate=2026-01-10 200 in 261ms (compile: 3ms, proxy.ts: 89ms, render: 169ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-10&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 418ms (compile: 4ms, proxy.ts: 107ms, render: 307ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-10&endDate=2026-01-10 200 in 307ms (compile: 1824Âµs, proxy.ts: 85ms, render: 221ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-10&endDate=2026-01-10&limit=50&offset=0 200 in 311ms (compile: 1675Âµs, proxy.ts: 75ms, render: 235ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-10&endDate=2026-01-10 200 in 1257ms (compile: 11ms, proxy.ts: 163ms, render: 1083ms)
 GET /api/shopify?type=customers&startDate=2026-01-10&endDate=2026-01-10&limit=10&offset=0 200 in 270ms (compile: 1702Âµs, proxy.ts: 83ms, render: 186ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 283ms (compile: 1262Âµs, proxy.ts: 98ms, render: 184ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-10&endDate=2026-01-10 200 in 417ms (compile: 2ms, proxy.ts: 117ms, render: 297ms)
 GET /api/shopify?type=locations&startDate=2026-01-10&endDate=2026-01-10 200 in 428ms (compile: 1665Âµs, proxy.ts: 93ms, render: 333ms)
 GET /api/shopify?type=metrics&startDate=2026-01-10&endDate=2026-01-10&onlineOnly=true 200 in 1270ms (compile: 1988Âµs, proxy.ts: 81ms, render: 1188ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 419ms (compile: 7ms, proxy.ts: 194ms, render: 218ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 540ms (compile: 14ms, proxy.ts: 186ms, render: 340ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 550ms (compile: 7ms, proxy.ts: 199ms, render: 344ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 570ms (compile: 9ms, proxy.ts: 227ms, render: 334ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 599ms (compile: 4ms, proxy.ts: 229ms, render: 367ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 326ms (compile: 1611Âµs, proxy.ts: 111ms, render: 213ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 360ms (compile: 1734Âµs, proxy.ts: 88ms, render: 270ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 528ms (compile: 5ms, proxy.ts: 131ms, render: 392ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 615ms (compile: 3ms, proxy.ts: 106ms, render: 506ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 593ms (compile: 96ms, proxy.ts: 187ms, render: 309ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 370ms (compile: -740Âµs, proxy.ts: 175ms, render: 196ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1574ms (compile: 9ms, proxy.ts: 180ms, render: 1385ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 393ms (compile: 1737Âµs, proxy.ts: 183ms, render: 209ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 322ms (compile: 2ms, proxy.ts: 103ms, render: 217ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 394ms (compile: 1951Âµs, proxy.ts: 82ms, render: 310ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 366ms (compile: 1467Âµs, proxy.ts: 91ms, render: 274ms)
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 430ms (compile: 1229Âµs, proxy.ts: 103ms, render: 325ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1785ms (compile: 3ms, proxy.ts: 92ms, render: 1690ms)
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 2.0s (compile: 4ms, proxy.ts: 260ms, render: 1779ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-04&endDate=2026-01-10&days=6 200 in 729ms (compile: 19ms, proxy.ts: 376ms, render: 334ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 747ms (compile: 18ms, proxy.ts: 377ms, render: 352ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-04&endDate=2026-01-10&filterType=monthly 200 in 871ms (compile: 15ms, proxy.ts: 422ms, render: 434ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-04&endDate=2026-01-10&filterType=monthly 200 in 889ms (compile: 19ms, proxy.ts: 376ms, render: 494ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-04&endDate=2026-01-10 200 in 914ms (compile: 31ms, proxy.ts: 364ms, render: 519ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-04&endDate=2026-01-10&onlineOnly=true 200 in 370ms (compile: 6ms, proxy.ts: 89ms, render: 275ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-04&endDate=2026-01-10&days=6&onlineOnly=true 200 in 250ms (compile: 1459Âµs, proxy.ts: 80ms, render: 168ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 319ms (compile: 1836Âµs, proxy.ts: 71ms, render: 246ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-04&endDate=2026-01-10 200 in 258ms (compile: 4ms, proxy.ts: 88ms, render: 166ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-04&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 571ms (compile: 1713Âµs, proxy.ts: 85ms, render: 484ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-04&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 340ms (compile: 5ms, proxy.ts: 97ms, render: 238ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-04&endDate=2026-01-10 200 in 239ms (compile: 1786Âµs, proxy.ts: 76ms, render: 161ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-04&endDate=2026-01-10&limit=50&offset=0 200 in 327ms (compile: 1422Âµs, proxy.ts: 74ms, render: 251ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-04&endDate=2026-01-10&limit=10&offset=0 200 in 297ms (compile: 5ms, proxy.ts: 99ms, render: 193ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 292ms (compile: 1699Âµs, proxy.ts: 78ms, render: 213ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-04&endDate=2026-01-10 200 in 1915ms (compile: 18ms, proxy.ts: 377ms, render: 1520ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-04&endDate=2026-01-10 200 in 516ms (compile: 4ms, proxy.ts: 109ms, render: 403ms)
 GET /api/shopify?type=metrics&startDate=2026-01-04&endDate=2026-01-10&onlineOnly=true 200 in 1343ms (compile: 5ms, proxy.ts: 82ms, render: 1257ms)
 GET /api/shopify?type=locations&startDate=2026-01-04&endDate=2026-01-10 200 in 438ms (compile: 1993Âµs, proxy.ts: 82ms, render: 354ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 336ms (compile: 16ms, proxy.ts: 156ms, render: 164ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 414ms (compile: 10ms, proxy.ts: 162ms, render: 242ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 512ms (compile: 17ms, proxy.ts: 154ms, render: 341ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 551ms (compile: 66ms, proxy.ts: 167ms, render: 319ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 579ms (compile: 11ms, proxy.ts: 160ms, render: 407ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 572ms (compile: 1335Âµs, proxy.ts: 81ms, render: 489ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 672ms (compile: 2ms, proxy.ts: 83ms, render: 587ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 947ms (compile: 264ms, proxy.ts: 130ms, render: 552ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 1070ms (compile: 142ms, proxy.ts: 226ms, render: 703ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 737ms (compile: 176ms, proxy.ts: 346ms, render: 215ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 314ms (compile: 3ms, proxy.ts: 107ms, render: 203ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 890ms (compile: 141ms, proxy.ts: 380ms, render: 369ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 404ms (compile: 5ms, proxy.ts: 172ms, render: 227ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 323ms (compile: 8ms, proxy.ts: 92ms, render: 223ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 412ms (compile: 6ms, proxy.ts: 83ms, render: 323ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 357ms (compile: 3ms, proxy.ts: 129ms, render: 225ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 2.4s (compile: 9ms, proxy.ts: 163ms, render: 2.3s)
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 373ms (compile: 1531Âµs, proxy.ts: 84ms, render: 287ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 2.1s (compile: 1613Âµs, proxy.ts: 100ms, render: 2.0s)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 1619ms (compile: 312ms, proxy.ts: 658ms, render: 648ms)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 1532ms (compile: 738ms, proxy.ts: 519ms, render: 274ms)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 1737ms (compile: 990ms, proxy.ts: 392ms, render: 354ms)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 1445ms (compile: 705ms, proxy.ts: 572ms, render: 169ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 528ms (compile: 38ms, proxy.ts: 329ms, render: 161ms)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 594ms (compile: 50ms, proxy.ts: 401ms, render: 143ms)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 670ms (compile: 52ms, proxy.ts: 474ms, render: 144ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 4.5s (compile: 3.7s, proxy.ts: 245ms, render: 573ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 4.5s (compile: 3.6s, proxy.ts: 292ms, render: 608ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 4.6s (compile: 3.6s, proxy.ts: 287ms, render: 735ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 4.7s (compile: 3.6s, proxy.ts: 289ms, render: 766ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 4.7s (compile: 3.6s, proxy.ts: 298ms, render: 804ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 297ms (compile: 3ms, proxy.ts: 98ms, render: 195ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 319ms (compile: 6ms, proxy.ts: 94ms, render: 219ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 399ms (compile: 1747Âµs, proxy.ts: 86ms, render: 311ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 611ms (compile: 3ms, proxy.ts: 89ms, render: 518ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 419ms (compile: 1316Âµs, proxy.ts: 89ms, render: 328ms)
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 451ms (compile: 1679Âµs, proxy.ts: 135ms, render: 314ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 573ms (compile: 2ms, proxy.ts: 95ms, render: 475ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify 200 in 2.5s (compile: 1507ms, proxy.ts: 89ms, render: 951ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 2.2s (compile: 988ms, proxy.ts: 205ms, render: 969ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 2.2s (compile: 989ms, proxy.ts: 196ms, render: 1017ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 2.3s (compile: 892ms, proxy.ts: 245ms, render: 1130ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 330ms (compile: 5ms, proxy.ts: 161ms, render: 164ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 3.7s (compile: 1944Âµs, proxy.ts: 115ms, render: 3.5s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 270ms (compile: 4ms, proxy.ts: 103ms, render: 164ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 482ms (compile: 4ms, proxy.ts: 156ms, render: 323ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 526ms (compile: 5ms, proxy.ts: 155ms, render: 367ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 596ms (compile: 1764Âµs, proxy.ts: 108ms, render: 486ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 744ms (compile: 2ms, proxy.ts: 108ms, render: 634ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 677ms (compile: 1853Âµs, proxy.ts: 108ms, render: 567ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 897ms (compile: 15ms, proxy.ts: 88ms, render: 794ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 9.0s (compile: 3.8s, proxy.ts: 138ms, render: 5.1s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 855ms (compile: 5ms, proxy.ts: 88ms, render: 762ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify 200 in 279ms (compile: 4ms, proxy.ts: 88ms, render: 186ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 325ms (compile: 12ms, proxy.ts: 118ms, render: 196ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 349ms (compile: 8ms, proxy.ts: 86ms, render: 254ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 343ms (compile: 2ms, proxy.ts: 110ms, render: 231ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 318ms (compile: 2ms, proxy.ts: 103ms, render: 213ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 451ms (compile: 8ms, proxy.ts: 87ms, render: 355ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 278ms (compile: 2ms, proxy.ts: 91ms, render: 185ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 463ms (compile: 3ms, proxy.ts: 83ms, render: 377ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 348ms (compile: 4ms, proxy.ts: 99ms, render: 244ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 255ms (compile: 5ms, proxy.ts: 79ms, render: 171ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 410ms (compile: 2ms, proxy.ts: 99ms, render: 309ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 384ms (compile: 3ms, proxy.ts: 92ms, render: 290ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 296ms (compile: 3ms, proxy.ts: 103ms, render: 190ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 418ms (compile: 3ms, proxy.ts: 102ms, render: 314ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 1418ms (compile: 1885Âµs, proxy.ts: 89ms, render: 1327ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 1047ms (compile: 3ms, proxy.ts: 99ms, render: 945ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 908ms (compile: 6ms, proxy.ts: 94ms, render: 808ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1967ms (compile: 4ms, proxy.ts: 87ms, render: 1876ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1785ms (compile: 8ms, proxy.ts: 104ms, render: 1672ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1225ms (compile: 2ms, proxy.ts: 79ms, render: 1143ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1835ms (compile: 3ms, proxy.ts: 144ms, render: 1688ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 660ms (compile: 76ms, proxy.ts: 156ms, render: 428ms)
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 6.9s (compile: 3ms, proxy.ts: 86ms, render: 6.8s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 371ms (compile: 3ms, proxy.ts: 188ms, render: 180ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 397ms (compile: 3ms, proxy.ts: 189ms, render: 206ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 544ms (compile: 38ms, proxy.ts: 110ms, render: 395ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 559ms (compile: 4ms, proxy.ts: 188ms, render: 367ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 593ms (compile: 1552Âµs, proxy.ts: 276ms, render: 316ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 382ms (compile: 3ms, proxy.ts: 90ms, render: 288ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 249ms (compile: 2ms, proxy.ts: 96ms, render: 151ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 327ms (compile: 6ms, proxy.ts: 105ms, render: 216ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 396ms (compile: 6ms, proxy.ts: 90ms, render: 300ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 245ms (compile: 4ms, proxy.ts: 85ms, render: 156ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 327ms (compile: 10ms, proxy.ts: 93ms, render: 225ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify 200 in 299ms (compile: 14ms, proxy.ts: 83ms, render: 202ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 385ms (compile: 11ms, proxy.ts: 99ms, render: 275ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 861ms (compile: 7ms, proxy.ts: 126ms, render: 728ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 822ms (compile: 6ms, proxy.ts: 109ms, render: 708ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 907ms (compile: 280ms, proxy.ts: 398ms, render: 229ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1839ms (compile: 2ms, proxy.ts: 103ms, render: 1735ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 2.3s (compile: 4ms, proxy.ts: 187ms, render: 2.1s)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 978ms (compile: 12ms, proxy.ts: 691ms, render: 275ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 422ms (compile: 1604Âµs, proxy.ts: 108ms, render: 312ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 468ms (compile: 1389Âµs, proxy.ts: 107ms, render: 360ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 271ms (compile: 2ms, proxy.ts: 76ms, render: 192ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 311ms (compile: 59ms, proxy.ts: 88ms, render: 165ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 314ms (compile: 1618Âµs, proxy.ts: 147ms, render: 165ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 286ms (compile: 1700Âµs, proxy.ts: 76ms, render: 209ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 284ms (compile: 5ms, proxy.ts: 95ms, render: 184ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 425ms (compile: 1171Âµs, proxy.ts: 153ms, render: 271ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 270ms (compile: 3ms, proxy.ts: 77ms, render: 190ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/integrations/shopify 200 in 480ms (compile: 1583Âµs, proxy.ts: 80ms, render: 398ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 293ms (compile: 1432Âµs, proxy.ts: 77ms, render: 214ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 460ms (compile: 2ms, proxy.ts: 110ms, render: 348ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 379ms (compile: 1635Âµs, proxy.ts: 84ms, render: 294ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 245ms (compile: 3ms, proxy.ts: 88ms, render: 154ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 279ms (compile: 4ms, proxy.ts: 97ms, render: 178ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 348ms (compile: 2ms, proxy.ts: 92ms, render: 255ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 731ms (compile: 4ms, proxy.ts: 82ms, render: 646ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 320ms (compile: 2ms, proxy.ts: 86ms, render: 232ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 410ms (compile: 2ms, proxy.ts: 107ms, render: 301ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 297ms (compile: 1698Âµs, proxy.ts: 77ms, render: 218ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 266ms (compile: 2ms, proxy.ts: 84ms, render: 180ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 279ms (compile: 3ms, proxy.ts: 91ms, render: 185ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 652ms (compile: 4ms, proxy.ts: 123ms, render: 525ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 726ms (compile: 5ms, proxy.ts: 79ms, render: 642ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 686ms (compile: 219ms, proxy.ts: 156ms, render: 311ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 812ms (compile: 175ms, proxy.ts: 344ms, render: 294ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1459ms (compile: 2ms, proxy.ts: 88ms, render: 1369ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1617ms (compile: 3ms, proxy.ts: 81ms, render: 1532ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1036ms (compile: 1973Âµs, proxy.ts: 99ms, render: 935ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1017ms (compile: 1427Âµs, proxy.ts: 78ms, render: 938ms)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 3.9s (compile: 2.1s, proxy.ts: 1531ms, render: 312ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 384ms (compile: 10ms, proxy.ts: 168ms, render: 206ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 414ms (compile: 4ms, proxy.ts: 166ms, render: 244ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 482ms (compile: 5ms, proxy.ts: 165ms, render: 312ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 551ms (compile: 10ms, proxy.ts: 169ms, render: 373ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 401ms (compile: 1954Âµs, proxy.ts: 77ms, render: 322ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 291ms (compile: 2ms, proxy.ts: 90ms, render: 198ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 256ms (compile: 3ms, proxy.ts: 81ms, render: 172ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1166ms (compile: 43ms, proxy.ts: 111ms, render: 1012ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 331ms (compile: 1849Âµs, proxy.ts: 84ms, render: 246ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 795ms (compile: 2ms, proxy.ts: 95ms, render: 697ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 296ms (compile: 9ms, proxy.ts: 90ms, render: 197ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 273ms (compile: 7ms, proxy.ts: 95ms, render: 171ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify 200 in 282ms (compile: 12ms, proxy.ts: 95ms, render: 176ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1131ms (compile: 9ms, proxy.ts: 86ms, render: 1035ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 252ms (compile: 1695Âµs, proxy.ts: 79ms, render: 172ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 267ms (compile: 4ms, proxy.ts: 83ms, render: 180ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 295ms (compile: 6ms, proxy.ts: 92ms, render: 197ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 278ms (compile: 3ms, proxy.ts: 91ms, render: 185ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 319ms (compile: 3ms, proxy.ts: 85ms, render: 231ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 420ms (compile: 7ms, proxy.ts: 92ms, render: 321ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 275ms (compile: 1994Âµs, proxy.ts: 81ms, render: 193ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 1592ms (compile: 7ms, proxy.ts: 107ms, render: 1479ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 1613ms (compile: 7ms, proxy.ts: 83ms, render: 1523ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 1812ms (compile: 1471Âµs, proxy.ts: 111ms, render: 1699ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 1822ms (compile: 3ms, proxy.ts: 88ms, render: 1731ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify 200 in 358ms (compile: 27ms, proxy.ts: 141ms, render: 190ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 3.9s (compile: 9ms, proxy.ts: 169ms, render: 3.8s)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 469ms (compile: 56ms, proxy.ts: 143ms, render: 270ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 449ms (compile: 1835Âµs, proxy.ts: 169ms, render: 278ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 549ms (compile: 1582Âµs, proxy.ts: 175ms, render: 373ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 366ms (compile: 4ms, proxy.ts: 116ms, render: 247ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 2.6s (compile: 8ms, proxy.ts: 93ms, render: 2.5s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 285ms (compile: 5ms, proxy.ts: 87ms, render: 193ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 558ms (compile: 28ms, proxy.ts: 160ms, render: 369ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 342ms (compile: 1968Âµs, proxy.ts: 81ms, render: 258ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 290ms (compile: 1829Âµs, proxy.ts: 77ms, render: 212ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 405ms (compile: 1771Âµs, proxy.ts: 74ms, render: 328ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 344ms (compile: 1996Âµs, proxy.ts: 77ms, render: 265ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 338ms (compile: 1475Âµs, proxy.ts: 86ms, render: 250ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 271ms (compile: 2ms, proxy.ts: 90ms, render: 178ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 259ms (compile: 10ms, proxy.ts: 87ms, render: 162ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 301ms (compile: 3ms, proxy.ts: 80ms, render: 218ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 399ms (compile: 5ms, proxy.ts: 79ms, render: 314ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 350ms (compile: 3ms, proxy.ts: 86ms, render: 261ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 369ms (compile: 3ms, proxy.ts: 129ms, render: 237ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1217ms (compile: 3ms, proxy.ts: 115ms, render: 1099ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 984ms (compile: 1582Âµs, proxy.ts: 93ms, render: 889ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1731ms (compile: 2ms, proxy.ts: 85ms, render: 1644ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 2.5s (compile: 1998Âµs, proxy.ts: 85ms, render: 2.5s)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 713ms (compile: 78ms, proxy.ts: 465ms, render: 170ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 390ms (compile: 6ms, proxy.ts: 199ms, render: 185ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 407ms (compile: 3ms, proxy.ts: 213ms, render: 191ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 541ms (compile: 3ms, proxy.ts: 202ms, render: 336ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 577ms (compile: 5ms, proxy.ts: 200ms, render: 371ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 562ms (compile: 3ms, proxy.ts: 173ms, render: 386ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 420ms (compile: 8ms, proxy.ts: 86ms, render: 325ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 254ms (compile: 4ms, proxy.ts: 85ms, render: 165ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 258ms (compile: 4ms, proxy.ts: 96ms, render: 157ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 456ms (compile: 1599Âµs, proxy.ts: 82ms, render: 372ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 361ms (compile: 27ms, proxy.ts: 117ms, render: 216ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 375ms (compile: 6ms, proxy.ts: 139ms, render: 230ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 488ms (compile: 38ms, proxy.ts: 126ms, render: 324ms)
 GET /api/integrations/shopify 200 in 301ms (compile: 25ms, proxy.ts: 105ms, render: 170ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1443ms (compile: 46ms, proxy.ts: 138ms, render: 1259ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 329ms (compile: 27ms, proxy.ts: 97ms, render: 205ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 431ms (compile: 27ms, proxy.ts: 96ms, render: 308ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 353ms (compile: 1945Âµs, proxy.ts: 97ms, render: 254ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1338ms (compile: 3ms, proxy.ts: 80ms, render: 1255ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 402ms (compile: 5ms, proxy.ts: 136ms, render: 260ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 354ms (compile: 2ms, proxy.ts: 78ms, render: 274ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 282ms (compile: 6ms, proxy.ts: 81ms, render: 195ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 246ms (compile: 6ms, proxy.ts: 81ms, render: 159ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 245ms (compile: 3ms, proxy.ts: 85ms, render: 157ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 305ms (compile: 4ms, proxy.ts: 83ms, render: 218ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 284ms (compile: 1679Âµs, proxy.ts: 90ms, render: 193ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 308ms (compile: 4ms, proxy.ts: 82ms, render: 221ms)
 GET /api/integrations/shopify 200 in 260ms (compile: 2ms, proxy.ts: 95ms, render: 163ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 289ms (compile: 2ms, proxy.ts: 74ms, render: 212ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 524ms (compile: 3ms, proxy.ts: 98ms, render: 424ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 950ms (compile: 7ms, proxy.ts: 88ms, render: 855ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1022ms (compile: 1996Âµs, proxy.ts: 83ms, render: 937ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 909ms (compile: 2ms, proxy.ts: 75ms, render: 831ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 1014ms (compile: 1740Âµs, proxy.ts: 88ms, render: 925ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 917ms (compile: 375ms, proxy.ts: 337ms, render: 205ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 306ms (compile: 5ms, proxy.ts: 131ms, render: 170ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 348ms (compile: 5ms, proxy.ts: 81ms, render: 263ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 346ms (compile: 1620Âµs, proxy.ts: 85ms, render: 259ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 644ms (compile: 1960Âµs, proxy.ts: 108ms, render: 534ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 425ms (compile: 3ms, proxy.ts: 107ms, render: 315ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 259ms (compile: 1851Âµs, proxy.ts: 85ms, render: 172ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 271ms (compile: 3ms, proxy.ts: 78ms, render: 190ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 294ms (compile: 4ms, proxy.ts: 87ms, render: 203ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 241ms (compile: 1627Âµs, proxy.ts: 82ms, render: 157ms)
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 232ms (compile: 1414Âµs, proxy.ts: 74ms, render: 156ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 311ms (compile: 1115Âµs, proxy.ts: 74ms, render: 236ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1947ms (compile: 1614Âµs, proxy.ts: 82ms, render: 1863ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1546ms (compile: 20ms, proxy.ts: 83ms, render: 1443ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1661ms (compile: 1588Âµs, proxy.ts: 90ms, render: 1570ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1565ms (compile: 2ms, proxy.ts: 180ms, render: 1384ms)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 1895ms (compile: 463ms, proxy.ts: 957ms, render: 476ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 787ms (compile: 13ms, proxy.ts: 563ms, render: 211ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 848ms (compile: 11ms, proxy.ts: 555ms, render: 282ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 940ms (compile: 16ms, proxy.ts: 560ms, render: 364ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 996ms (compile: 263ms, proxy.ts: 161ms, render: 571ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 1003ms (compile: 10ms, proxy.ts: 556ms, render: 437ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 351ms (compile: 2ms, proxy.ts: 94ms, render: 255ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 269ms (compile: 2ms, proxy.ts: 87ms, render: 180ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 336ms (compile: 1641Âµs, proxy.ts: 133ms, render: 202ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 501ms (compile: 11ms, proxy.ts: 94ms, render: 396ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 335ms (compile: 3ms, proxy.ts: 85ms, render: 247ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/integrations/shopify 200 in 323ms (compile: 15ms, proxy.ts: 111ms, render: 197ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 386ms (compile: 1584Âµs, proxy.ts: 101ms, render: 283ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 261ms (compile: 1547Âµs, proxy.ts: 108ms, render: 152ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1960ms (compile: 12ms, proxy.ts: 565ms, render: 1384ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 306ms (compile: 1524Âµs, proxy.ts: 81ms, render: 224ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 360ms (compile: 1620Âµs, proxy.ts: 117ms, render: 242ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 324ms (compile: 1811Âµs, proxy.ts: 89ms, render: 233ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 380ms (compile: 4ms, proxy.ts: 83ms, render: 293ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 303ms (compile: 3ms, proxy.ts: 108ms, render: 192ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 377ms (compile: 2ms, proxy.ts: 94ms, render: 281ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 287ms (compile: 4ms, proxy.ts: 82ms, render: 202ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 338ms (compile: 2ms, proxy.ts: 87ms, render: 248ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify 200 in 281ms (compile: 1590Âµs, proxy.ts: 83ms, render: 197ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 836ms (compile: 3ms, proxy.ts: 92ms, render: 742ms)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 796ms (compile: 1919Âµs, proxy.ts: 87ms, render: 708ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 2.7s (compile: 4ms, proxy.ts: 126ms, render: 2.5s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 785ms (compile: 375ms, proxy.ts: 126ms, render: 284ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 877ms (compile: 2ms, proxy.ts: 77ms, render: 797ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 349ms (compile: 5ms, proxy.ts: 115ms, render: 229ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 299ms (compile: 1712Âµs, proxy.ts: 81ms, render: 216ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 312ms (compile: 1270Âµs, proxy.ts: 97ms, render: 213ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 460ms (compile: 4ms, proxy.ts: 75ms, render: 381ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 278ms (compile: 6ms, proxy.ts: 103ms, render: 169ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 407ms (compile: 27ms, proxy.ts: 84ms, render: 296ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 431ms (compile: 1365Âµs, proxy.ts: 116ms, render: 313ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 442ms (compile: 3ms, proxy.ts: 108ms, render: 331ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 308ms (compile: 1650Âµs, proxy.ts: 114ms, render: 192ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 380ms (compile: 2ms, proxy.ts: 81ms, render: 297ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 257ms (compile: 3ms, proxy.ts: 82ms, render: 172ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 311ms (compile: 1435Âµs, proxy.ts: 83ms, render: 227ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 309ms (compile: 2ms, proxy.ts: 79ms, render: 228ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 278ms (compile: 1665Âµs, proxy.ts: 101ms, render: 175ms)
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 3.7s (compile: 2ms, proxy.ts: 116ms, render: 3.5s)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1458ms (compile: 1591Âµs, proxy.ts: 81ms, render: 1375ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 314ms (compile: 2ms, proxy.ts: 97ms, render: 215ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 329ms (compile: 1711Âµs, proxy.ts: 125ms, render: 202ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1200ms (compile: 1871Âµs, proxy.ts: 85ms, render: 1114ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1256ms (compile: 1948Âµs, proxy.ts: 83ms, render: 1172ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 2.5s (compile: 1846Âµs, proxy.ts: 85ms, render: 2.4s)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 852ms (compile: 71ms, proxy.ts: 551ms, render: 230ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 545ms (compile: 4ms, proxy.ts: 261ms, render: 280ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 556ms (compile: 3ms, proxy.ts: 262ms, render: 291ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 634ms (compile: 6ms, proxy.ts: 260ms, render: 368ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 663ms (compile: 4ms, proxy.ts: 262ms, render: 397ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 698ms (compile: 5ms, proxy.ts: 261ms, render: 432ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 257ms (compile: 3ms, proxy.ts: 106ms, render: 148ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 428ms (compile: 10ms, proxy.ts: 95ms, render: 323ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 283ms (compile: 5ms, proxy.ts: 92ms, render: 186ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 388ms (compile: 1389Âµs, proxy.ts: 83ms, render: 304ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 821ms (compile: 1471Âµs, proxy.ts: 93ms, render: 727ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 854ms (compile: 1931Âµs, proxy.ts: 119ms, render: 732ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/integrations/shopify 200 in 931ms (compile: 27ms, proxy.ts: 113ms, render: 792ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 1152ms (compile: 1706Âµs, proxy.ts: 80ms, render: 1071ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 402ms (compile: 35ms, proxy.ts: 145ms, render: 221ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 434ms (compile: 30ms, proxy.ts: 151ms, render: 254ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 663ms (compile: 7ms, proxy.ts: 175ms, render: 481ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 567ms (compile: 5ms, proxy.ts: 106ms, render: 456ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 410ms (compile: 12ms, proxy.ts: 171ms, render: 227ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 342ms (compile: 5ms, proxy.ts: 87ms, render: 250ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 309ms (compile: 8ms, proxy.ts: 123ms, render: 179ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 2.5s (compile: 11ms, proxy.ts: 106ms, render: 2.4s)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 775ms (compile: 4ms, proxy.ts: 175ms, render: 595ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 394ms (compile: 1771Âµs, proxy.ts: 91ms, render: 301ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/integrations/shopify 200 in 249ms (compile: 8ms, proxy.ts: 79ms, render: 162ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 281ms (compile: 7ms, proxy.ts: 97ms, render: 177ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 282ms (compile: 8ms, proxy.ts: 94ms, render: 181ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 315ms (compile: 1941Âµs, proxy.ts: 85ms, render: 228ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 253ms (compile: 1708Âµs, proxy.ts: 73ms, render: 179ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 336ms (compile: 1971Âµs, proxy.ts: 102ms, render: 233ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 379ms (compile: 1987Âµs, proxy.ts: 79ms, render: 298ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 458ms (compile: 1662Âµs, proxy.ts: 80ms, render: 376ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 254ms (compile: 1618Âµs, proxy.ts: 76ms, render: 176ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 422ms (compile: 1875Âµs, proxy.ts: 86ms, render: 334ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 239ms (compile: 1707Âµs, proxy.ts: 83ms, render: 154ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 282ms (compile: 1652Âµs, proxy.ts: 75ms, render: 206ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 394ms (compile: 1443Âµs, proxy.ts: 81ms, render: 312ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 277ms (compile: 6ms, proxy.ts: 88ms, render: 183ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 294ms (compile: 3ms, proxy.ts: 81ms, render: 210ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 309ms (compile: 3ms, proxy.ts: 100ms, render: 206ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 312ms (compile: 3ms, proxy.ts: 76ms, render: 233ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 314ms (compile: 1912Âµs, proxy.ts: 81ms, render: 231ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 265ms (compile: 1874Âµs, proxy.ts: 88ms, render: 175ms)
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 324ms (compile: 2ms, proxy.ts: 96ms, render: 226ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 1060ms (compile: 2ms, proxy.ts: 82ms, render: 976ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 5.7s (compile: 93ms, proxy.ts: 145ms, render: 5.5s)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1870ms (compile: 4ms, proxy.ts: 77ms, render: 1789ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1200ms (compile: 1500Âµs, proxy.ts: 126ms, render: 1073ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1236ms (compile: 12ms, proxy.ts: 107ms, render: 1118ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1116ms (compile: 3ms, proxy.ts: 77ms, render: 1037ms)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 723ms (compile: 63ms, proxy.ts: 469ms, render: 191ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 251ms (compile: 74ms, proxy.ts: 155ms, render: 22ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 393ms (compile: 170ms, proxy.ts: 174ms, render: 50ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 681ms (compile: 22ms, proxy.ts: 358ms, render: 302ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 1273ms (compile: 861ms, proxy.ts: 174ms, render: 238ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 1388ms (compile: 858ms, proxy.ts: 177ms, render: 353ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 1404ms (compile: 859ms, proxy.ts: 176ms, render: 369ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 1429ms (compile: 854ms, proxy.ts: 181ms, render: 395ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 1484ms (compile: 680ms, proxy.ts: 355ms, render: 449ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 306ms (compile: 1398Âµs, proxy.ts: 105ms, render: 199ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 588ms (compile: 3ms, proxy.ts: 102ms, render: 483ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 839ms (compile: 1763Âµs, proxy.ts: 82ms, render: 755ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 831ms (compile: 1533Âµs, proxy.ts: 91ms, render: 739ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 342ms (compile: 8ms, proxy.ts: 139ms, render: 195ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 2.6s (compile: 921ms, proxy.ts: 114ms, render: 1535ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 792ms (compile: 37ms, proxy.ts: 314ms, render: 440ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 825ms (compile: 1537Âµs, proxy.ts: 109ms, render: 714ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify 200 in 1350ms (compile: 997ms, proxy.ts: 140ms, render: 213ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 1028ms (compile: 648ms, proxy.ts: 144ms, render: 236ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 1048ms (compile: 647ms, proxy.ts: 144ms, render: 256ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 2.4s (compile: 1833Âµs, proxy.ts: 87ms, render: 2.3s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 1116ms (compile: 646ms, proxy.ts: 145ms, render: 324ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 617ms (compile: 70ms, proxy.ts: 166ms, render: 380ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 298ms (compile: 5ms, proxy.ts: 111ms, render: 181ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 282ms (compile: 5ms, proxy.ts: 91ms, render: 187ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 267ms (compile: 3ms, proxy.ts: 93ms, render: 171ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 276ms (compile: 1363Âµs, proxy.ts: 84ms, render: 191ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 410ms (compile: 5ms, proxy.ts: 92ms, render: 313ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 369ms (compile: 8ms, proxy.ts: 104ms, render: 257ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 278ms (compile: 2ms, proxy.ts: 79ms, render: 198ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 399ms (compile: 1411Âµs, proxy.ts: 91ms, render: 307ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/integrations/shopify 200 in 275ms (compile: 1442Âµs, proxy.ts: 98ms, render: 176ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 283ms (compile: 2ms, proxy.ts: 73ms, render: 207ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 626ms (compile: 2ms, proxy.ts: 97ms, render: 527ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 878ms (compile: 1761Âµs, proxy.ts: 88ms, render: 788ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 668ms (compile: 1712Âµs, proxy.ts: 105ms, render: 561ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 492ms (compile: 3ms, proxy.ts: 278ms, render: 211ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 265ms (compile: 1216Âµs, proxy.ts: 83ms, render: 180ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 346ms (compile: 1486Âµs, proxy.ts: 102ms, render: 243ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 435ms (compile: 1526Âµs, proxy.ts: 97ms, render: 336ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 245ms (compile: 1466Âµs, proxy.ts: 78ms, render: 166ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1510ms (compile: 3ms, proxy.ts: 89ms, render: 1419ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 421ms (compile: 1528Âµs, proxy.ts: 76ms, render: 344ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 268ms (compile: 5ms, proxy.ts: 93ms, render: 170ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 326ms (compile: 1406Âµs, proxy.ts: 148ms, render: 176ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 244ms (compile: 4ms, proxy.ts: 84ms, render: 156ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1903ms (compile: 1424Âµs, proxy.ts: 97ms, render: 1804ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 346ms (compile: 1208Âµs, proxy.ts: 85ms, render: 260ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 281ms (compile: 1453Âµs, proxy.ts: 79ms, render: 201ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 295ms (compile: 1729Âµs, proxy.ts: 77ms, render: 216ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 344ms (compile: 1474Âµs, proxy.ts: 86ms, render: 256ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1349ms (compile: 1393Âµs, proxy.ts: 82ms, render: 1266ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1602ms (compile: 4ms, proxy.ts: 115ms, render: 1483ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-04&endDate=2026-01-10&limit=10&offset=0 200 in 452ms (compile: 7ms, proxy.ts: 189ms, render: 256ms)
 GET /api/shopify?type=customers&startDate=2026-01-04&endDate=2026-01-10&limit=50&offset=0 200 in 469ms (compile: 5ms, proxy.ts: 191ms, render: 273ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 483ms (compile: 1913Âµs, proxy.ts: 224ms, render: 257ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-04&endDate=2026-01-10 200 in 615ms (compile: 1755Âµs, proxy.ts: 242ms, render: 371ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2025-12-01&endDate=2025-12-31&limit=50&offset=0 200 in 462ms (compile: 14ms, proxy.ts: 181ms, render: 268ms)
 GET /api/shopify?type=customers&startDate=2025-12-01&endDate=2025-12-31&limit=10&offset=0 200 in 486ms (compile: 11ms, proxy.ts: 183ms, render: 292ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 497ms (compile: 9ms, proxy.ts: 185ms, render: 303ms)
 GET /api/shopify?type=customer-metrics&startDate=2025-12-01&endDate=2025-12-31 200 in 618ms (compile: 15ms, proxy.ts: 179ms, render: 424ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 445ms (compile: 8ms, proxy.ts: 188ms, render: 250ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-10&endDate=2026-01-10&days=0 200 in 488ms (compile: 8ms, proxy.ts: 298ms, render: 182ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-10&endDate=2026-01-10&filterType=monthly 200 in 493ms (compile: 12ms, proxy.ts: 183ms, render: 298ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-10&endDate=2026-01-10&filterType=monthly 200 in 506ms (compile: 3ms, proxy.ts: 248ms, render: 256ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-10&endDate=2026-01-10 200 in 558ms (compile: 54ms, proxy.ts: 192ms, render: 312ms)
 GET /api/shopify?type=locations&startDate=2026-01-10&endDate=2026-01-10 200 in 461ms (compile: 1917Âµs, proxy.ts: 92ms, render: 368ms)
 GET /api/shopify?type=metrics&startDate=2026-01-10&endDate=2026-01-10 200 in 1471ms (compile: 7ms, proxy.ts: 189ms, render: 1275ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-10&endDate=2026-01-10&days=0&onlineOnly=true 200 in 317ms (compile: 1758Âµs, proxy.ts: 164ms, render: 151ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 336ms (compile: 2ms, proxy.ts: 151ms, render: 183ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-10&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 390ms (compile: 2ms, proxy.ts: 160ms, render: 228ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-10&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 394ms (compile: 1113Âµs, proxy.ts: 156ms, render: 237ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-10&endDate=2026-01-10 200 in 277ms (compile: 4ms, proxy.ts: 88ms, render: 185ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-10&endDate=2026-01-10 200 in 274ms (compile: 2ms, proxy.ts: 73ms, render: 198ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-10&endDate=2026-01-10&onlineOnly=true 200 in 1023ms (compile: 2ms, proxy.ts: 103ms, render: 918ms)
 GET /api/shopify?type=metrics&startDate=2026-01-10&endDate=2026-01-10&onlineOnly=true 200 in 1289ms (compile: 1669Âµs, proxy.ts: 99ms, render: 1188ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 306ms (compile: 5ms, proxy.ts: 144ms, render: 158ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 383ms (compile: 3ms, proxy.ts: 173ms, render: 207ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 470ms (compile: 5ms, proxy.ts: 154ms, render: 311ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 494ms (compile: 1971Âµs, proxy.ts: 157ms, render: 335ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 511ms (compile: 2ms, proxy.ts: 174ms, render: 335ms)
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 268ms (compile: 2ms, proxy.ts: 82ms, render: 183ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 337ms (compile: 7ms, proxy.ts: 91ms, render: 240ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1298ms (compile: 4ms, proxy.ts: 173ms, render: 1122ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-10&endDate=2026-01-10&limit=50&offset=0 200 in 364ms (compile: 7ms, proxy.ts: 122ms, render: 235ms)
 GET /api/shopify?type=customers&startDate=2026-01-10&endDate=2026-01-10&limit=10&offset=0 200 in 388ms (compile: 2ms, proxy.ts: 155ms, render: 231ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 399ms (compile: 1742Âµs, proxy.ts: 167ms, render: 230ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-10&endDate=2026-01-10 200 in 512ms (compile: 3ms, proxy.ts: 126ms, render: 383ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-04&endDate=2026-01-10&limit=10&offset=0 200 in 366ms (compile: 6ms, proxy.ts: 102ms, render: 258ms)
 GET /api/shopify?type=customers&startDate=2026-01-04&endDate=2026-01-10&limit=50&offset=0 200 in 385ms (compile: 4ms, proxy.ts: 104ms, render: 277ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 394ms (compile: 1538Âµs, proxy.ts: 131ms, render: 261ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-04&endDate=2026-01-10 200 in 484ms (compile: 10ms, proxy.ts: 98ms, render: 376ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2025-12-12&endDate=2026-01-10&limit=50&offset=0 200 in 352ms (compile: 16ms, proxy.ts: 101ms, render: 235ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 364ms (compile: 11ms, proxy.ts: 106ms, render: 247ms)
 GET /api/shopify?type=customers&startDate=2025-12-12&endDate=2026-01-10&limit=10&offset=0 200 in 381ms (compile: 3ms, proxy.ts: 126ms, render: 253ms)
 GET /api/shopify?type=customer-metrics&startDate=2025-12-12&endDate=2026-01-10 200 in 473ms (compile: 10ms, proxy.ts: 108ms, render: 355ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2025-10-13&endDate=2026-01-10&limit=50&offset=0 200 in 339ms (compile: 7ms, proxy.ts: 99ms, render: 233ms)
 GET /api/shopify?type=customers&startDate=2025-10-13&endDate=2026-01-10&limit=10&offset=0 200 in 365ms (compile: 6ms, proxy.ts: 100ms, render: 259ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 385ms (compile: 8ms, proxy.ts: 97ms, render: 279ms)
 GET /api/shopify?type=customer-metrics&startDate=2025-10-13&endDate=2026-01-10 200 in 487ms (compile: 10ms, proxy.ts: 96ms, render: 382ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2025-12-12&endDate=2026-01-10&limit=50&offset=0 200 in 329ms (compile: 4ms, proxy.ts: 97ms, render: 227ms)
 GET /api/shopify?type=customers&startDate=2025-12-12&endDate=2026-01-10&limit=10&offset=0 200 in 351ms (compile: 3ms, proxy.ts: 113ms, render: 234ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 366ms (compile: 1417Âµs, proxy.ts: 131ms, render: 233ms)
 GET /api/shopify?type=customer-metrics&startDate=2025-12-12&endDate=2026-01-10 200 in 590ms (compile: 4ms, proxy.ts: 112ms, render: 474ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 320ms (compile: 10ms, proxy.ts: 91ms, render: 218ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 339ms (compile: 6ms, proxy.ts: 95ms, render: 238ms)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 365ms (compile: 8ms, proxy.ts: 101ms, render: 257ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 429ms (compile: 9ms, proxy.ts: 100ms, render: 320ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-10&endDate=2026-01-10&days=0 200 in 3.7s (compile: 1792ms, proxy.ts: 1627ms, render: 287ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-10&endDate=2026-01-10&filterType=monthly 200 in 3.7s (compile: 1790ms, proxy.ts: 1628ms, render: 321ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-10&endDate=2026-01-10&filterType=monthly 200 in 3.7s (compile: 1790ms, proxy.ts: 1629ms, render: 329ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-10&endDate=2026-01-10 200 in 3.8s (compile: 1853ms, proxy.ts: 1565ms, render: 349ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 3.8s (compile: 1791ms, proxy.ts: 1628ms, render: 370ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 274ms (compile: 3ms, proxy.ts: 88ms, render: 183ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 271ms (compile: 1609Âµs, proxy.ts: 98ms, render: 171ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 333ms (compile: 1827Âµs, proxy.ts: 87ms, render: 245ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 387ms (compile: 1920Âµs, proxy.ts: 80ms, render: 304ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 2.2s (compile: 8ms, proxy.ts: 94ms, render: 2.1s)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 2.3s (compile: 1923Âµs, proxy.ts: 87ms, render: 2.2s)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 2.5s (compile: 16ms, proxy.ts: 125ms, render: 2.4s)
 GET /api/shopify?type=metrics&startDate=2026-01-10&endDate=2026-01-10 200 in 6.7s (compile: 1857ms, proxy.ts: 1561ms, render: 3.3s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 3.0s (compile: 23ms, proxy.ts: 87ms, render: 2.9s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 1652ms (compile: 42ms, proxy.ts: 639ms, render: 971ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 1421ms (compile: 17ms, proxy.ts: 419ms, render: 985ms)
 GET /ventas 200 in 1092ms (compile: 202ms, proxy.ts: 703ms, render: 188ms)
 GET /api/shopify?type=locations&startDate=2026-01-10&endDate=2026-01-10 200 in 1478ms (compile: 18ms, proxy.ts: 417ms, render: 1043ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1991ms (compile: 59ms, proxy.ts: 622ms, render: 1311ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 5.0s (compile: 6ms, proxy.ts: 89ms, render: 4.9s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-10&endDate=2026-01-10&days=0 200 in 1815ms (compile: 1091ms, proxy.ts: 499ms, render: 226ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 1847ms (compile: 1092ms, proxy.ts: 497ms, render: 257ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-10&endDate=2026-01-10&filterType=monthly 200 in 1530ms (compile: 1043ms, proxy.ts: 171ms, render: 316ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-10&endDate=2026-01-10 200 in 1927ms (compile: 1091ms, proxy.ts: 498ms, render: 338ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-10&endDate=2026-01-10&filterType=monthly 200 in 1954ms (compile: 1072ms, proxy.ts: 518ms, render: 365ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 587ms (compile: 20ms, proxy.ts: 391ms, render: 177ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 620ms (compile: 34ms, proxy.ts: 395ms, render: 190ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 713ms (compile: 7ms, proxy.ts: 152ms, render: 554ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 787ms (compile: 16ms, proxy.ts: 133ms, render: 639ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 324ms (compile: 3ms, proxy.ts: 92ms, render: 229ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 286ms (compile: 3ms, proxy.ts: 134ms, render: 149ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 2.8s (compile: 1916Âµs, proxy.ts: 81ms, render: 2.7s)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 3.0s (compile: 1626Âµs, proxy.ts: 74ms, render: 2.9s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 3.0s (compile: 1750Âµs, proxy.ts: 86ms, render: 2.9s)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 3.1s (compile: 3ms, proxy.ts: 94ms, render: 3.0s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-10&endDate=2026-01-10 200 in 5.7s (compile: 1071ms, proxy.ts: 518ms, render: 4.2s)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 3.0s (compile: 76ms, proxy.ts: 2.5s, render: 476ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 625ms (compile: 233ms, proxy.ts: 242ms, render: 150ms)
 GET /api/shopify?type=locations&startDate=2026-01-10&endDate=2026-01-10 200 in 1024ms (compile: 51ms, proxy.ts: 326ms, render: 646ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1891ms (compile: 32ms, proxy.ts: 373ms, render: 1486ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 434ms (compile: 5ms, proxy.ts: 245ms, render: 184ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 454ms (compile: 4ms, proxy.ts: 246ms, render: 204ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 591ms (compile: 4ms, proxy.ts: 278ms, render: 309ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 610ms (compile: 5ms, proxy.ts: 276ms, render: 328ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 625ms (compile: 6ms, proxy.ts: 244ms, render: 375ms)
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 514ms (compile: 5ms, proxy.ts: 119ms, render: 390ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 7.4s (compile: 9ms, proxy.ts: 241ms, render: 7.2s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /_not-found ...
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 6.4s (compile: 5.2s, proxy.ts: 464ms, render: 689ms)
 GET /api/shopify?type=monthly-revenue&months=12 404 in 6.4s (compile: 5.8s, proxy.ts: 421ms, render: 122ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 404 in 6.4s (compile: 5.8s, proxy.ts: 439ms, render: 125ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 6.4s (compile: 5.1s, proxy.ts: 547ms, render: 760ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 6.4s (compile: 5.2s, proxy.ts: 474ms, render: 773ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 285ms (compile: 1165Âµs, proxy.ts: 87ms, render: 196ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 288ms (compile: 3ms, proxy.ts: 79ms, render: 205ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 398ms (compile: 3ms, proxy.ts: 153ms, render: 242ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 452ms (compile: 4ms, proxy.ts: 152ms, render: 296ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 533ms (compile: 1623Âµs, proxy.ts: 86ms, render: 445ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 644ms (compile: 1348Âµs, proxy.ts: 76ms, render: 566ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 1174ms (compile: 2ms, proxy.ts: 90ms, render: 1082ms)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 9.5s (compile: 5.2s, proxy.ts: 463ms, render: 3.8s)
 GET /ventas 200 in 3.1s (compile: 2.1s, proxy.ts: 450ms, render: 499ms)
 GET /ventas 200 in 2.2s (compile: 1332ms, proxy.ts: 390ms, render: 501ms)
 GET /api/integrations/shopify 200 in 3.8s (compile: 3.1s, proxy.ts: 73ms, render: 668ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 4.3s (compile: 2ms, proxy.ts: 89ms, render: 4.2s)
âš  Fast Refresh had to perform a full reload due to a runtime error.
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 2.5s (compile: 218ms, proxy.ts: 656ms, render: 1584ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify 200 in 3.3s (compile: 2.9s, proxy.ts: 175ms, render: 207ms)
 GET /ventas 200 in 216ms (compile: 38ms, proxy.ts: 120ms, render: 57ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify 200 in 325ms (compile: 26ms, proxy.ts: 131ms, render: 168ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify 200 in 2.4s (compile: 1646ms, proxy.ts: 512ms, render: 203ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 2.4s (compile: 1647ms, proxy.ts: 510ms, render: 269ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 2.5s (compile: 1615ms, proxy.ts: 543ms, render: 300ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 2.5s (compile: 1614ms, proxy.ts: 543ms, render: 376ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 2.6s (compile: 1645ms, proxy.ts: 513ms, render: 395ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 435ms (compile: 3ms, proxy.ts: 120ms, render: 313ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 248ms (compile: 1552Âµs, proxy.ts: 84ms, render: 162ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 428ms (compile: 4ms, proxy.ts: 81ms, render: 343ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 410ms (compile: 2ms, proxy.ts: 92ms, render: 315ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 293ms (compile: 1605Âµs, proxy.ts: 82ms, render: 209ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 391ms (compile: 1520Âµs, proxy.ts: 99ms, render: 291ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 312ms (compile: 3ms, proxy.ts: 96ms, render: 213ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 172ms (compile: 36ms, proxy.ts: 93ms, render: 42ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 552ms (compile: 1829Âµs, proxy.ts: 88ms, render: 462ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 395ms (compile: 4ms, proxy.ts: 150ms, render: 241ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 3.7s (compile: 1647ms, proxy.ts: 511ms, render: 1571ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 477ms (compile: 3ms, proxy.ts: 94ms, render: 380ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 360ms (compile: 6ms, proxy.ts: 117ms, render: 237ms)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 437ms (compile: 7ms, proxy.ts: 159ms, render: 271ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 277ms (compile: 9ms, proxy.ts: 103ms, render: 165ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 335ms (compile: 10ms, proxy.ts: 127ms, render: 198ms)
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 471ms (compile: 2ms, proxy.ts: 80ms, render: 389ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 337ms (compile: 5ms, proxy.ts: 110ms, render: 222ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1747ms (compile: 7ms, proxy.ts: 100ms, render: 1640ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 420ms (compile: 4ms, proxy.ts: 112ms, render: 305ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 335ms (compile: 15ms, proxy.ts: 119ms, render: 202ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 385ms (compile: 6ms, proxy.ts: 117ms, render: 262ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 279ms (compile: 4ms, proxy.ts: 88ms, render: 188ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 2.3s (compile: 1786Âµs, proxy.ts: 104ms, render: 2.2s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 2.6s (compile: 15ms, proxy.ts: 116ms, render: 2.5s)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 2.6s (compile: 2ms, proxy.ts: 101ms, render: 2.5s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 2.4s (compile: 34ms, proxy.ts: 112ms, render: 2.2s)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 2.4s (compile: 17ms, proxy.ts: 109ms, render: 2.3s)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1437ms (compile: 38ms, proxy.ts: 173ms, render: 1226ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 2.3s (compile: 61ms, proxy.ts: 958ms, render: 1254ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-04&endDate=2026-01-10&limit=10&offset=0 200 in 463ms (compile: 4ms, proxy.ts: 222ms, render: 237ms)
 GET /api/shopify?type=customers&startDate=2026-01-04&endDate=2026-01-10&limit=50&offset=0 200 in 491ms (compile: 6ms, proxy.ts: 243ms, render: 241ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 500ms (compile: 5ms, proxy.ts: 244ms, render: 251ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-04&endDate=2026-01-10 200 in 619ms (compile: 4ms, proxy.ts: 245ms, render: 370ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 430ms (compile: 6ms, proxy.ts: 195ms, render: 228ms)
 GET /api/shopify?type=customers&startDate=2025-12-12&endDate=2026-01-10&limit=50&offset=0 200 in 457ms (compile: 5ms, proxy.ts: 216ms, render: 236ms)
 GET /api/shopify?type=customers&startDate=2025-12-12&endDate=2026-01-10&limit=10&offset=0 200 in 478ms (compile: 1852Âµs, proxy.ts: 219ms, render: 257ms)
 GET /api/shopify?type=customer-metrics&startDate=2025-12-12&endDate=2026-01-10 200 in 564ms (compile: 6ms, proxy.ts: 215ms, render: 344ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 339ms (compile: 9ms, proxy.ts: 111ms, render: 219ms)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0 200 in 358ms (compile: 4ms, proxy.ts: 117ms, render: 238ms)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 376ms (compile: 2ms, proxy.ts: 134ms, render: 240ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 444ms (compile: 6ms, proxy.ts: 114ms, render: 324ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 782ms (compile: 297ms, proxy.ts: 451ms, render: 34ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /ventas 200 in 388ms (compile: 158ms, proxy.ts: 165ms, render: 65ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 3.2s (compile: 2.2s, proxy.ts: 179ms, render: 777ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 3.2s (compile: 2.2s, proxy.ts: 184ms, render: 837ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 3.4s (compile: 2.2s, proxy.ts: 154ms, render: 1041ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 3.5s (compile: 2.2s, proxy.ts: 180ms, render: 1123ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 3.6s (compile: 2.2s, proxy.ts: 194ms, render: 1157ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 372ms (compile: 3ms, proxy.ts: 160ms, render: 208ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 321ms (compile: 6ms, proxy.ts: 98ms, render: 217ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 662ms (compile: 15ms, proxy.ts: 176ms, render: 471ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 770ms (compile: 8ms, proxy.ts: 152ms, render: 610ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 579ms (compile: 15ms, proxy.ts: 112ms, render: 451ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 576ms (compile: 11ms, proxy.ts: 144ms, render: 420ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 1008ms (compile: 19ms, proxy.ts: 130ms, render: 860ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /_not-found ...
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 14.3s (compile: 2.3s, proxy.ts: 95ms, render: 11.9s)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 11.2s (compile: 18ms, proxy.ts: 161ms, render: 11.0s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 2.0s (compile: 1347ms, proxy.ts: 411ms, render: 278ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0&periodBasedLTV=true 200 in 15.7s (compile: 14.8s, proxy.ts: 218ms, render: 624ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 16.0s (compile: 14.8s, proxy.ts: 287ms, render: 915ms)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 16.6s (compile: 15.2s, proxy.ts: 261ms, render: 1200ms)
 GET /ventas 200 in 663ms (compile: 54ms, proxy.ts: 316ms, render: 292ms)
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 7.0s (compile: 3.9s, proxy.ts: 1379ms, render: 1663ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&limit=10&offset=0 404 in 19.4s (compile: 17.3s, proxy.ts: 1600ms, render: 482ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 3.1s (compile: 1835ms, proxy.ts: 804ms, render: 494ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 3.1s (compile: 1834ms, proxy.ts: 804ms, render: 502ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 3.3s (compile: 1832ms, proxy.ts: 806ms, render: 691ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 3.3s (compile: 1836ms, proxy.ts: 803ms, render: 701ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 421ms (compile: 3ms, proxy.ts: 134ms, render: 285ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 600ms (compile: 4ms, proxy.ts: 203ms, render: 392ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 277ms (compile: 3ms, proxy.ts: 116ms, render: 157ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 361ms (compile: 3ms, proxy.ts: 117ms, render: 242ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 355ms (compile: 2ms, proxy.ts: 95ms, render: 257ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 326ms (compile: 8ms, proxy.ts: 116ms, render: 203ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 356ms (compile: 2ms, proxy.ts: 88ms, render: 266ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 283ms (compile: 4ms, proxy.ts: 85ms, render: 193ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 586ms (compile: 2ms, proxy.ts: 99ms, render: 484ms)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0&periodBasedLTV=true 200 in 640ms (compile: 25ms, proxy.ts: 135ms, render: 480ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 4.7s (compile: 1832ms, proxy.ts: 807ms, render: 2.1s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 743ms (compile: 5ms, proxy.ts: 117ms, render: 622ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 833ms (compile: 30ms, proxy.ts: 150ms, render: 653ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 490ms (compile: 16ms, proxy.ts: 88ms, render: 386ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 452ms (compile: 48ms, proxy.ts: 130ms, render: 274ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 470ms (compile: 4ms, proxy.ts: 110ms, render: 356ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 2.1s (compile: 8ms, proxy.ts: 107ms, render: 1965ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 2.1s (compile: 65ms, proxy.ts: 113ms, render: 1925ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1928ms (compile: 487ms, proxy.ts: 1057ms, render: 384ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 361ms (compile: 3ms, proxy.ts: 185ms, render: 174ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 398ms (compile: 3ms, proxy.ts: 112ms, render: 283ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 280ms (compile: 1637Âµs, proxy.ts: 74ms, render: 204ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 2.3s (compile: 506ms, proxy.ts: 1039ms, render: 769ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 446ms (compile: 1741Âµs, proxy.ts: 74ms, render: 370ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 291ms (compile: 18ms, proxy.ts: 84ms, render: 189ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 492ms (compile: 2ms, proxy.ts: 78ms, render: 412ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 5.3s (compile: 4ms, proxy.ts: 92ms, render: 5.2s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 332ms (compile: 2ms, proxy.ts: 106ms, render: 224ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 3.1s (compile: 11ms, proxy.ts: 104ms, render: 3.0s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0&periodBasedLTV=true 200 in 250ms (compile: 2ms, proxy.ts: 83ms, render: 165ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 325ms (compile: 3ms, proxy.ts: 84ms, render: 238ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 428ms (compile: 2ms, proxy.ts: 79ms, render: 346ms)
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 440ms (compile: 3ms, proxy.ts: 79ms, render: 358ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1344ms (compile: 3ms, proxy.ts: 83ms, render: 1258ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-04&endDate=2026-01-10&limit=10&offset=0&periodBasedLTV=true 200 in 430ms (compile: 1573Âµs, proxy.ts: 225ms, render: 203ms)
 GET /api/shopify?type=customers&startDate=2026-01-04&endDate=2026-01-10&limit=50&offset=0 200 in 459ms (compile: 5ms, proxy.ts: 178ms, render: 276ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 476ms (compile: 6ms, proxy.ts: 177ms, render: 294ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-04&endDate=2026-01-10 200 in 552ms (compile: 8ms, proxy.ts: 175ms, render: 370ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2025-12-01&endDate=2025-12-31&limit=10&offset=0&periodBasedLTV=true 200 in 430ms (compile: 13ms, proxy.ts: 159ms, render: 258ms)
 GET /api/shopify?type=customers&startDate=2025-12-01&endDate=2025-12-31&limit=50&offset=0 200 in 458ms (compile: 20ms, proxy.ts: 169ms, render: 268ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 469ms (compile: 11ms, proxy.ts: 179ms, render: 279ms)
 GET /api/shopify?type=customer-metrics&startDate=2025-12-01&endDate=2025-12-31 200 in 519ms (compile: 24ms, proxy.ts: 166ms, render: 329ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0&periodBasedLTV=true 200 in 324ms (compile: 11ms, proxy.ts: 118ms, render: 195ms)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 363ms (compile: 7ms, proxy.ts: 122ms, render: 234ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 379ms (compile: 1704Âµs, proxy.ts: 142ms, render: 235ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 465ms (compile: 9ms, proxy.ts: 120ms, render: 336ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /integraciones ...
 GET /integraciones 200 in 5.5s (compile: 5.2s, proxy.ts: 165ms, render: 126ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/analytics?t=1768071061984&_=0.7455721061698413 200 in 3.2s (compile: 2.7s, proxy.ts: 341ms, render: 184ms)
 GET /api/integrations/analytics?t=1768071061982&_=0.9765327489948923 200 in 3.2s (compile: 2.7s, proxy.ts: 336ms, render: 187ms)
 GET /api/integrations/shopify?t=1768071061982&_=0.8352651761286316 200 in 3.2s (compile: 2.7s, proxy.ts: 333ms, render: 193ms)
 GET /api/integrations/meta?t=1768071061982&_=0.20423861605262172 200 in 3.2s (compile: 2.7s, proxy.ts: 338ms, render: 194ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/integrations/acuity?t=1768071061982&_=0.0599270774436097 200 in 3.2s (compile: 2.7s, proxy.ts: 344ms, render: 203ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/integrations/meta?t=1768071061984&_=0.28677327368681604 200 in 3.2s (compile: 2.6s, proxy.ts: 419ms, render: 208ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/acuity?t=1768071061984&_=0.08352087570129152 200 in 390ms (compile: 17ms, proxy.ts: 88ms, render: 286ms)
 GET /api/integrations/shopify?t=1768071061984&_=0.12544853036797077 200 in 427ms (compile: 180ms, proxy.ts: 93ms, render: 154ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 800ms (compile: 102ms, proxy.ts: 656ms, render: 42ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/integrations/shopify ...
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/acuity?t=1768071237767&_=0.47828768645003616 200 in 7.5s (compile: 5.9s, proxy.ts: 749ms, render: 864ms)
 GET /api/integrations/shopify?t=1768071237767&_=0.8603050704764346 200 in 7.5s (compile: 5.9s, proxy.ts: 747ms, render: 873ms)
 GET /api/integrations/analytics?t=1768071237767&_=0.3493396881324663 200 in 7.5s (compile: 5.9s, proxy.ts: 751ms, render: 885ms)
 GET /api/integrations/meta?t=1768071237767&_=0.7917466162817248 200 in 7.5s (compile: 6.1s, proxy.ts: 543ms, render: 890ms)
 GET /integraciones 200 in 797ms (compile: 129ms, proxy.ts: 333ms, render: 336ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/analytics?t=1768071245689&_=0.37963999348389454 200 in 401ms (compile: 10ms, proxy.ts: 168ms, render: 224ms)
 GET /api/integrations/acuity?t=1768071245689&_=0.6846768135883103 200 in 416ms (compile: 11ms, proxy.ts: 168ms, render: 237ms)
 GET /api/integrations/meta?t=1768071245689&_=0.6686850848552491 200 in 528ms (compile: 13ms, proxy.ts: 171ms, render: 343ms)
 GET /api/integrations/shopify?t=1768071245689&_=0.5855483243084709 200 in 556ms (compile: 8ms, proxy.ts: 166ms, render: 383ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 205ms (compile: 9ms, proxy.ts: 180ms, render: 17ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/acuity?t=1768071253662&_=0.2174634283068495 200 in 1237ms (compile: 25ms, proxy.ts: 682ms, render: 530ms)
 GET /api/integrations/meta?t=1768071253662&_=0.07909550453589509 200 in 1242ms (compile: -2999Âµs, proxy.ts: 696ms, render: 550ms)
 GET /api/integrations/analytics?t=1768071253662&_=0.34288988547272703 200 in 1243ms (compile: 18ms, proxy.ts: 680ms, render: 545ms)
 GET /api/integrations/shopify?t=1768071253662&_=0.4502623170417006 200 in 1264ms (compile: 21ms, proxy.ts: 681ms, render: 562ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 168ms (compile: 3ms, proxy.ts: 141ms, render: 23ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/meta?t=1768071262806&_=0.2285558574026989 200 in 329ms (compile: 1850Âµs, proxy.ts: 102ms, render: 224ms)
 GET /api/integrations/acuity?t=1768071262806&_=0.8981853470361894 200 in 350ms (compile: 1729Âµs, proxy.ts: 130ms, render: 219ms)
 GET /api/integrations/analytics?t=1768071262806&_=0.08911006107706876 200 in 383ms (compile: 4ms, proxy.ts: 140ms, render: 240ms)
 GET /api/integrations/shopify?t=1768071262806&_=0.1203048145046165 200 in 1994ms (compile: 30ms, proxy.ts: 164ms, render: 1800ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 192ms (compile: 7ms, proxy.ts: 165ms, render: 20ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/meta?t=1768071274303&_=0.18135021129222972 200 in 346ms (compile: 1636Âµs, proxy.ts: 108ms, render: 237ms)
 GET /api/integrations/acuity?t=1768071274303&_=0.3535940570575882 200 in 405ms (compile: 3ms, proxy.ts: 172ms, render: 229ms)
 GET /api/integrations/analytics?t=1768071274303&_=0.6070276106594114 200 in 436ms (compile: 1521Âµs, proxy.ts: 181ms, render: 253ms)
 GET /api/integrations/shopify?t=1768071274303&_=0.2709769628669775 200 in 457ms (compile: 1865Âµs, proxy.ts: 172ms, render: 284ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 168ms (compile: 10ms, proxy.ts: 132ms, render: 26ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/meta?t=1768071282571&_=0.3393438202414225 200 in 355ms (compile: 3ms, proxy.ts: 147ms, render: 204ms)
 GET /api/integrations/acuity?t=1768071282571&_=0.8613074831739562 200 in 398ms (compile: 1591Âµs, proxy.ts: 183ms, render: 213ms)
 GET /api/integrations/analytics?t=1768071282571&_=0.3228380983419953 200 in 415ms (compile: 5ms, proxy.ts: 189ms, render: 221ms)
 GET /api/integrations/shopify?t=1768071282571&_=0.3701320663597001 200 in 1947ms (compile: 9ms, proxy.ts: 190ms, render: 1747ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 186ms (compile: 9ms, proxy.ts: 160ms, render: 16ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/analytics?t=1768071291233&_=0.9079809425410353 200 in 338ms (compile: 10ms, proxy.ts: 131ms, render: 197ms)
 GET /api/integrations/shopify?t=1768071291233&_=0.8348661743235137 200 in 338ms (compile: 14ms, proxy.ts: 134ms, render: 190ms)
 GET /api/integrations/acuity?t=1768071291233&_=0.17346289772424106 200 in 341ms (compile: 7ms, proxy.ts: 143ms, render: 191ms)
 GET /api/integrations/meta?t=1768071291233&_=0.5175259144790042 200 in 395ms (compile: 5ms, proxy.ts: 130ms, render: 259ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 156ms (compile: 6ms, proxy.ts: 130ms, render: 20ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/meta?t=1768071299515&_=0.6591841359948835 200 in 275ms (compile: 1843Âµs, proxy.ts: 92ms, render: 182ms)
 GET /api/integrations/acuity?t=1768071299515&_=0.4219044331574954 200 in 334ms (compile: 1938Âµs, proxy.ts: 159ms, render: 172ms)
 GET /api/integrations/analytics?t=1768071299515&_=0.14051191439131583 200 in 421ms (compile: 5ms, proxy.ts: 193ms, render: 223ms)
 GET /api/integrations/shopify?t=1768071299515&_=0.20738750460080535 200 in 434ms (compile: 9ms, proxy.ts: 187ms, render: 238ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 317ms (compile: 6ms, proxy.ts: 280ms, render: 31ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/meta?t=1768071445862&_=0.6799954134088773 200 in 440ms (compile: 2ms, proxy.ts: 152ms, render: 286ms)
 GET /api/integrations/analytics?t=1768071445862&_=0.235673982340998 200 in 449ms (compile: 8ms, proxy.ts: 192ms, render: 249ms)
 GET /api/integrations/shopify?t=1768071445862&_=0.9643497863706427 200 in 477ms (compile: 14ms, proxy.ts: 191ms, render: 272ms)
 GET /api/integrations/acuity?t=1768071445862&_=0.5586117519432058 200 in 483ms (compile: 17ms, proxy.ts: 196ms, render: 269ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 119ms (compile: 5ms, proxy.ts: 92ms, render: 21ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/acuity?t=1768071450062&_=0.7180266332955482 200 in 274ms (compile: 2ms, proxy.ts: 104ms, render: 168ms)
 GET /api/integrations/analytics?t=1768071450062&_=0.21532925444614748 200 in 279ms (compile: 1032Âµs, proxy.ts: 114ms, render: 165ms)
 GET /api/integrations/meta?t=1768071450062&_=0.45745468734357353 200 in 301ms (compile: 3ms, proxy.ts: 94ms, render: 204ms)
 GET /api/integrations/shopify?t=1768071450062&_=0.3115569125170007 200 in 958ms (compile: 3ms, proxy.ts: 106ms, render: 850ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 105ms (compile: 3ms, proxy.ts: 91ms, render: 12ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify?t=1768071452454&_=0.2909972636754058 200 in 271ms (compile: 11ms, proxy.ts: 95ms, render: 165ms)
 GET /api/integrations/analytics?t=1768071452454&_=0.020998131500692407 200 in 284ms (compile: 8ms, proxy.ts: 94ms, render: 182ms)
 GET /api/integrations/acuity?t=1768071452454&_=0.7120016671522311 200 in 325ms (compile: 14ms, proxy.ts: 97ms, render: 214ms)
 GET /api/integrations/meta?t=1768071452454&_=0.3229269584290735 200 in 326ms (compile: 15ms, proxy.ts: 97ms, render: 214ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 110ms (compile: 3ms, proxy.ts: 93ms, render: 13ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/analytics?t=1768071455232&_=0.4458606002063965 200 in 254ms (compile: 1142Âµs, proxy.ts: 94ms, render: 159ms)
 GET /api/integrations/shopify?t=1768071455232&_=0.6642161436529771 200 in 262ms (compile: 3ms, proxy.ts: 105ms, render: 154ms)
 GET /api/integrations/acuity?t=1768071455232&_=0.012004795177572691 200 in 265ms (compile: 5ms, proxy.ts: 106ms, render: 155ms)
 GET /api/integrations/meta?t=1768071455232&_=0.9546880760999 200 in 288ms (compile: 2ms, proxy.ts: 105ms, render: 181ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 216ms (compile: 4ms, proxy.ts: 192ms, render: 21ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/meta?t=1768071462022&_=0.9842360405857472 200 in 304ms (compile: 2ms, proxy.ts: 114ms, render: 187ms)
 GET /api/integrations/analytics?t=1768071462022&_=0.08051434409625347 200 in 798ms (compile: 3ms, proxy.ts: 160ms, render: 635ms)
 GET /api/integrations/acuity?t=1768071462022&_=0.36114343400163995 200 in 801ms (compile: 1656Âµs, proxy.ts: 154ms, render: 645ms)
 GET /api/integrations/shopify?t=1768071462022&_=0.5013830404313077 200 in 802ms (compile: 62ms, proxy.ts: 162ms, render: 577ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 172ms (compile: 7ms, proxy.ts: 142ms, render: 23ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/meta',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/analytics',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/acuity',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/meta?t=1768071477723&_=0.5531669043510901 200 in 258ms (compile: 1651Âµs, proxy.ts: 91ms, render: 165ms)
 GET /api/integrations/shopify?t=1768071477723&_=0.574974442116525 200 in 314ms (compile: 4ms, proxy.ts: 134ms, render: 176ms)
 GET /api/integrations/analytics?t=1768071477723&_=0.012436754495780078 200 in 319ms (compile: 4ms, proxy.ts: 146ms, render: 169ms)
 GET /api/integrations/acuity?t=1768071477723&_=0.6422163447629976 200 in 326ms (compile: 13ms, proxy.ts: 146ms, render: 167ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 517ms (compile: 58ms, proxy.ts: 407ms, render: 52ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify 200 in 314ms (compile: 2ms, proxy.ts: 107ms, render: 205ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/shopify ...
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 4.6s (compile: 3.8s, proxy.ts: 198ms, render: 554ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 4.7s (compile: 3.9s, proxy.ts: 142ms, render: 645ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 4.8s (compile: 3.8s, proxy.ts: 198ms, render: 757ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 4.8s (compile: 3.8s, proxy.ts: 188ms, render: 769ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 4.6s (compile: 3.3s, proxy.ts: 419ms, render: 882ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 265ms (compile: 1225Âµs, proxy.ts: 78ms, render: 186ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 484ms (compile: 10ms, proxy.ts: 83ms, render: 391ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 265ms (compile: 2ms, proxy.ts: 95ms, render: 168ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 290ms (compile: 3ms, proxy.ts: 92ms, render: 196ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 280ms (compile: 1935Âµs, proxy.ts: 96ms, render: 182ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 271ms (compile: 7ms, proxy.ts: 94ms, render: 171ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify 200 in 244ms (compile: 6ms, proxy.ts: 79ms, render: 160ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 282ms (compile: 2ms, proxy.ts: 83ms, render: 197ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 441ms (compile: 3ms, proxy.ts: 80ms, render: 359ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0&periodBasedLTV=true 200 in 317ms (compile: 1619Âµs, proxy.ts: 144ms, render: 171ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 6.0s (compile: 3.9s, proxy.ts: 148ms, render: 1940ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 296ms (compile: 18ms, proxy.ts: 87ms, render: 191ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1455ms (compile: 6ms, proxy.ts: 117ms, render: 1332ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 262ms (compile: 1658Âµs, proxy.ts: 103ms, render: 157ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 311ms (compile: 2ms, proxy.ts: 110ms, render: 198ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 362ms (compile: 1374Âµs, proxy.ts: 71ms, render: 291ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 381ms (compile: 1234Âµs, proxy.ts: 86ms, render: 294ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 536ms (compile: 2ms, proxy.ts: 80ms, render: 454ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 328ms (compile: 18ms, proxy.ts: 154ms, render: 156ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 445ms (compile: 15ms, proxy.ts: 115ms, render: 315ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 240ms (compile: 3ms, proxy.ts: 79ms, render: 158ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 1187ms (compile: 2ms, proxy.ts: 80ms, render: 1104ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1496ms (compile: 3ms, proxy.ts: 134ms, render: 1359ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 3.2s (compile: 1907Âµs, proxy.ts: 75ms, render: 3.1s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 1639ms (compile: 13ms, proxy.ts: 96ms, render: 1530ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 1540ms (compile: 862ms, proxy.ts: 314ms, render: 364ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 387ms (compile: 16ms, proxy.ts: 201ms, render: 169ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 533ms (compile: 72ms, proxy.ts: 197ms, render: 264ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 250ms (compile: 1659Âµs, proxy.ts: 74ms, render: 174ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 525ms (compile: 1540Âµs, proxy.ts: 155ms, render: 368ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 506ms (compile: 1689Âµs, proxy.ts: 119ms, render: 385ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 441ms (compile: 3ms, proxy.ts: 96ms, render: 342ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 316ms (compile: 1601Âµs, proxy.ts: 85ms, render: 229ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 298ms (compile: 1868Âµs, proxy.ts: 103ms, render: 192ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 2.5s (compile: 842ms, proxy.ts: 294ms, render: 1408ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 279ms (compile: 1520Âµs, proxy.ts: 76ms, render: 202ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 525ms (compile: 34ms, proxy.ts: 123ms, render: 368ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 355ms (compile: 1886Âµs, proxy.ts: 83ms, render: 270ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 276ms (compile: 1562Âµs, proxy.ts: 93ms, render: 181ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1462ms (compile: 74ms, proxy.ts: 195ms, render: 1193ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 322ms (compile: 1793Âµs, proxy.ts: 94ms, render: 226ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1950ms (compile: 1806Âµs, proxy.ts: 97ms, render: 1851ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 2.1s (compile: 1626Âµs, proxy.ts: 77ms, render: 2.0s)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 2.3s (compile: 623ms, proxy.ts: 989ms, render: 717ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 320ms (compile: 20ms, proxy.ts: 247ms, render: 54ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 172ms (compile: 8ms, proxy.ts: 144ms, render: 20ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 288ms (compile: 15ms, proxy.ts: 240ms, render: 33ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 686ms (compile: 147ms, proxy.ts: 439ms, render: 100ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 937ms (compile: 356ms, proxy.ts: 505ms, render: 76ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 2.4s (compile: 1939ms, proxy.ts: 453ms, render: 47ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 120ms (compile: 4ms, proxy.ts: 104ms, render: 13ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 5.6s (compile: 4.0s, proxy.ts: 1613ms, render: 68ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 172ms (compile: 3ms, proxy.ts: 151ms, render: 18ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 148ms (compile: 5ms, proxy.ts: 117ms, render: 27ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 306ms (compile: 19ms, proxy.ts: 167ms, render: 120ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 203ms (compile: 5ms, proxy.ts: 156ms, render: 42ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 179ms (compile: 8ms, proxy.ts: 146ms, render: 26ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 175ms (compile: 4ms, proxy.ts: 148ms, render: 23ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 179ms (compile: 6ms, proxy.ts: 149ms, render: 25ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 431ms (compile: 13ms, proxy.ts: 368ms, render: 50ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 194ms (compile: 8ms, proxy.ts: 137ms, render: 49ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 190ms (compile: 6ms, proxy.ts: 155ms, render: 29ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/shopify ...
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 35.8s (compile: 28.6s, proxy.ts: 1470ms, render: 5.7s)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 35.8s (compile: 28.6s, proxy.ts: 1461ms, render: 5.7s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 36.3s (compile: 28.6s, proxy.ts: 1465ms, render: 6.2s)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 36.4s (compile: 28.6s, proxy.ts: 1464ms, render: 6.3s)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 36.8s (compile: 28.6s, proxy.ts: 1458ms, render: 6.7s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 3.2s (compile: 173ms, proxy.ts: 333ms, render: 2.7s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 2.5s (compile: 104ms, proxy.ts: 2.2s, render: 212ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 1991ms (compile: 102ms, proxy.ts: 1536ms, render: 352ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 2.7s (compile: 106ms, proxy.ts: 2.2s, render: 379ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 333ms (compile: 3ms, proxy.ts: 114ms, render: 216ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 470ms (compile: 3ms, proxy.ts: 84ms, render: 384ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 398ms (compile: 1403Âµs, proxy.ts: 104ms, render: 293ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 514ms (compile: 2ms, proxy.ts: 115ms, render: 397ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0&periodBasedLTV=true 200 in 466ms (compile: 3ms, proxy.ts: 268ms, render: 195ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 303ms (compile: 6ms, proxy.ts: 95ms, render: 202ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 41s (compile: 28.6s, proxy.ts: 1463ms, render: 10.5s)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1000ms (compile: 1891Âµs, proxy.ts: 82ms, render: 916ms)
 GET /ventas 200 in 535ms (compile: 315ms, proxy.ts: 118ms, render: 102ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 842ms (compile: 2ms, proxy.ts: 89ms, render: 750ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 290ms (compile: 1741Âµs, proxy.ts: 113ms, render: 175ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 297ms (compile: 1758Âµs, proxy.ts: 105ms, render: 190ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 439ms (compile: 2ms, proxy.ts: 105ms, render: 332ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 437ms (compile: 8ms, proxy.ts: 172ms, render: 256ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 386ms (compile: 6ms, proxy.ts: 115ms, render: 265ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 5.9s (compile: 364ms, proxy.ts: 196ms, render: 5.4s)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 1454ms (compile: 7ms, proxy.ts: 106ms, render: 1341ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 2.3s (compile: 2ms, proxy.ts: 86ms, render: 2.2s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 2.6s (compile: 3ms, proxy.ts: 102ms, render: 2.5s)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 2.7s (compile: 6ms, proxy.ts: 120ms, render: 2.5s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 776ms (compile: 56ms, proxy.ts: 472ms, render: 248ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 546ms (compile: 17ms, proxy.ts: 200ms, render: 329ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 862ms (compile: 19ms, proxy.ts: 509ms, render: 335ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0&periodBasedLTV=true 200 in 308ms (compile: 2ms, proxy.ts: 132ms, render: 174ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 932ms (compile: 50ms, proxy.ts: 478ms, render: 403ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 475ms (compile: 5ms, proxy.ts: 179ms, render: 292ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 634ms (compile: 7ms, proxy.ts: 84ms, render: 543ms)
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 1066ms (compile: 2ms, proxy.ts: 89ms, render: 975ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1822ms (compile: 1456Âµs, proxy.ts: 76ms, render: 1745ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 2.2s (compile: 1628Âµs, proxy.ts: 100ms, render: 2.1s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 961ms (compile: 59ms, proxy.ts: 504ms, render: 398ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 974ms (compile: 58ms, proxy.ts: 505ms, render: 412ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 1152ms (compile: 58ms, proxy.ts: 505ms, render: 589ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 1597ms (compile: 57ms, proxy.ts: 492ms, render: 1048ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 1766ms (compile: 57ms, proxy.ts: 505ms, render: 1203ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 1047ms (compile: 112ms, proxy.ts: 235ms, render: 701ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 884ms (compile: 73ms, proxy.ts: 455ms, render: 356ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 448ms (compile: 45ms, proxy.ts: 219ms, render: 184ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 456ms (compile: 39ms, proxy.ts: 224ms, render: 193ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 2.2s (compile: 3ms, proxy.ts: 85ms, render: 2.1s)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 2.2s (compile: 4ms, proxy.ts: 86ms, render: 2.1s)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 2.3s (compile: 1496Âµs, proxy.ts: 88ms, render: 2.2s)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 2.5s (compile: 3ms, proxy.ts: 86ms, render: 2.4s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0&periodBasedLTV=true 200 in 509ms (compile: 26ms, proxy.ts: 158ms, render: 325ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 545ms (compile: 24ms, proxy.ts: 160ms, render: 361ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 5.1s (compile: 126ms, proxy.ts: 436ms, render: 4.6s)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 4.2s (compile: 125ms, proxy.ts: 281ms, render: 3.8s)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 685ms (compile: 16ms, proxy.ts: 168ms, render: 500ms)
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 664ms (compile: 11ms, proxy.ts: 180ms, render: 474ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/sales-targets/yearly-trend ...
[Sales Targets Progress] Calculando progreso para 2026-1
[Yearly Trend API] Calculando tendencias anuales para 2026
[Yearly Trend API] No hay objetivos definidos para este aÃ±o
 GET /api/sales-targets/yearly-trend?year=2026 200 in 5.2s (compile: 4.7s, proxy.ts: 323ms, render: 201ms)
[Sales Targets Progress] No hay objetivos definidos para este mes
 GET /api/sales-targets/progress?year=2026&month=1 200 in 5.2s (compile: 4.7s, proxy.ts: 320ms, render: 204ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Yearly Trend API] Calculando tendencias anuales para 2026
[Sales Targets Progress] Calculando progreso para 2026-1
[Yearly Trend API] No hay objetivos definidos para este aÃ±o
 GET /api/sales-targets/yearly-trend?year=2026 200 in 177ms (compile: 3ms, proxy.ts: 85ms, render: 89ms)
[Sales Targets Progress] No hay objetivos definidos para este mes
 GET /api/sales-targets/progress?year=2026&month=1 200 in 178ms (compile: 6ms, proxy.ts: 87ms, render: 86ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 POST /api/sales-targets 200 in 1337ms (compile: 854ms, proxy.ts: 192ms, render: 292ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 1 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 750ms (compile: 30ms, proxy.ts: 126ms, render: 593ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 POST /api/sales-targets 200 in 392ms (compile: 4ms, proxy.ts: 160ms, render: 228ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 2 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 1025ms (compile: 14ms, proxy.ts: 415ms, render: 596ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 POST /api/sales-targets 200 in 421ms (compile: 12ms, proxy.ts: 161ms, render: 248ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 3 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 624ms (compile: 3ms, proxy.ts: 98ms, render: 523ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 POST /api/sales-targets 200 in 812ms (compile: 12ms, proxy.ts: 617ms, render: 183ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 4 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 579ms (compile: 10ms, proxy.ts: 102ms, render: 467ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 POST /api/sales-targets 200 in 347ms (compile: 4ms, proxy.ts: 180ms, render: 164ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 5 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 579ms (compile: 4ms, proxy.ts: 76ms, render: 499ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 POST /api/sales-targets 200 in 459ms (compile: 6ms, proxy.ts: 203ms, render: 250ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 6 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 619ms (compile: 3ms, proxy.ts: 102ms, render: 514ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 POST /api/sales-targets 200 in 336ms (compile: 7ms, proxy.ts: 144ms, render: 185ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 7 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 621ms (compile: 3ms, proxy.ts: 87ms, render: 531ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 POST /api/sales-targets 200 in 412ms (compile: 8ms, proxy.ts: 220ms, render: 184ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 8 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 611ms (compile: 2ms, proxy.ts: 93ms, render: 516ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 552ms (compile: 283ms, proxy.ts: 206ms, render: 63ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 POST /api/sales-targets 200 in 1202ms (compile: 855ms, proxy.ts: 161ms, render: 186ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 9 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 2.2s (compile: 1277ms, proxy.ts: 89ms, render: 833ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Yearly Trend API] Calculando tendencias anuales para 2026
[Sales Targets Progress] Calculado progreso para 9 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 981ms (compile: 10ms, proxy.ts: 178ms, render: 793ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 9 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 572ms (compile: 5ms, proxy.ts: 86ms, render: 481ms)
[Yearly Trend API] Tendencias calculadas para 9 tiendas
 GET /api/sales-targets/yearly-trend?year=2026 200 in 2.3s (compile: 744ms, proxy.ts: 208ms, render: 1344ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Yearly Trend API] Calculando tendencias anuales para 2026
ğŸ” Middleware Debug: {
  url: '/api/sales-targets',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/sales-targets?location=M%C3%A9xico&year=2026&month=1 200 in 204ms (compile: 9ms, proxy.ts: 98ms, render: 97ms)
[Yearly Trend API] Tendencias calculadas para 9 tiendas
 GET /api/sales-targets/yearly-trend?year=2026 200 in 1388ms (compile: 3ms, proxy.ts: 115ms, render: 1270ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 2.8min (compile: 1088ms, proxy.ts: 664ms, render: 2.8min)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/shopify ...
 GET /api/integrations/shopify 200 in 16.5s (compile: 14.0s, proxy.ts: 2.1s, render: 425ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 16.5s (compile: 11.5s, proxy.ts: 4.5s, render: 460ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 16.5s (compile: 14.0s, proxy.ts: 2.0s, render: 493ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 16.6s (compile: 14.0s, proxy.ts: 2.1s, render: 545ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 16.7s (compile: 14.0s, proxy.ts: 2.1s, render: 600ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 311ms (compile: 3ms, proxy.ts: 73ms, render: 235ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 519ms (compile: 7ms, proxy.ts: 111ms, render: 401ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 623ms (compile: 14ms, proxy.ts: 94ms, render: 515ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 651ms (compile: 2ms, proxy.ts: 105ms, render: 544ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 292ms (compile: 3ms, proxy.ts: 85ms, render: 204ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 376ms (compile: 1402Âµs, proxy.ts: 70ms, render: 304ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 258ms (compile: 9ms, proxy.ts: 78ms, render: 171ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 269ms (compile: 6ms, proxy.ts: 84ms, render: 180ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/integrations/shopify 200 in 317ms (compile: 3ms, proxy.ts: 100ms, render: 214ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 257ms (compile: 1858Âµs, proxy.ts: 95ms, render: 161ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=50&offset=0 200 in 311ms (compile: 1603Âµs, proxy.ts: 79ms, render: 231ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-10&limit=10&offset=0&periodBasedLTV=true 200 in 263ms (compile: 2ms, proxy.ts: 85ms, render: 175ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 258ms (compile: 2ms, proxy.ts: 83ms, render: 173ms)
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 396ms (compile: 1539Âµs, proxy.ts: 82ms, render: 313ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 18.0s (compile: 14.0s, proxy.ts: 2.1s, render: 1952ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-10 200 in 394ms (compile: 2ms, proxy.ts: 92ms, render: 299ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 269ms (compile: 1612Âµs, proxy.ts: 86ms, render: 181ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 280ms (compile: 1921Âµs, proxy.ts: 83ms, render: 195ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 242ms (compile: 3ms, proxy.ts: 83ms, render: 156ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 356ms (compile: 1819Âµs, proxy.ts: 95ms, render: 259ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 289ms (compile: 1533Âµs, proxy.ts: 77ms, render: 211ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 2.2s (compile: 1992Âµs, proxy.ts: 86ms, render: 2.1s)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 2.3s (compile: 2ms, proxy.ts: 79ms, render: 2.2s)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 2.3s (compile: 1847Âµs, proxy.ts: 76ms, render: 2.2s)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 2.4s (compile: 1144Âµs, proxy.ts: 71ms, render: 2.3s)
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 2.2s (compile: 940ms, proxy.ts: 1041ms, render: 249ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9 200 in 345ms (compile: 12ms, proxy.ts: 164ms, render: 170ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 399ms (compile: 10ms, proxy.ts: 166ms, render: 224ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 414ms (compile: 6ms, proxy.ts: 170ms, render: 239ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 557ms (compile: 5ms, proxy.ts: 171ms, render: 381ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-10&days=9&onlineOnly=true 200 in 266ms (compile: 7ms, proxy.ts: 91ms, render: 169ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly 200 in 335ms (compile: 5ms, proxy.ts: 98ms, render: 232ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10 200 in 463ms (compile: 4ms, proxy.ts: 99ms, render: 361ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 5.3s (compile: 7ms, proxy.ts: 92ms, render: 5.2s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 342ms (compile: 3ms, proxy.ts: 138ms, render: 201ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 373ms (compile: 12ms, proxy.ts: 126ms, render: 236ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-10 200 in 315ms (compile: 2ms, proxy.ts: 104ms, render: 208ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 544ms (compile: 9ms, proxy.ts: 84ms, render: 451ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-10&filterType=monthly&onlineOnly=true 200 in 551ms (compile: 6ms, proxy.ts: 92ms, render: 454ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 1845ms (compile: 5ms, proxy.ts: 170ms, render: 1670ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 2.4s (compile: 4ms, proxy.ts: 82ms, render: 2.3s)
â—‹ Compiling /api/sales-targets/progress ...
[Yearly Trend API] Calculando tendencias anuales para 2026
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-10 200 in 4.1s (compile: 3.8s, proxy.ts: 97ms, render: 252ms)
[Sales Targets Progress] Calculado progreso para 9 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 4.6s (compile: 3.9s, proxy.ts: 148ms, render: 560ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10&onlineOnly=true 200 in 4.9s (compile: 3.8s, proxy.ts: 98ms, render: 1072ms)
[Sales Targets Progress] Calculado progreso para 9 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 633ms (compile: 2ms, proxy.ts: 95ms, render: 536ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-10 200 in 4.6s (compile: 3.1s, proxy.ts: 177ms, render: 1335ms)
[Yearly Trend API] Tendencias calculadas para 9 tiendas
 GET /api/sales-targets/yearly-trend?year=2026 200 in 5.7s (compile: 4.1s, proxy.ts: 156ms, render: 1439ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Yearly Trend API] Calculando tendencias anuales para 2026
[Yearly Trend API] Tendencias calculadas para 9 tiendas
 GET /api/sales-targets/yearly-trend?year=2026 200 in 1655ms (compile: 3ms, proxy.ts: 104ms, render: 1547ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/sales-targets ...
 GET /api/sales-targets?location=Madrid&year=2026&month=1 200 in 4.4s (compile: 3.9s, proxy.ts: 309ms, render: 190ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 854ms (compile: 518ms, proxy.ts: 217ms, render: 119ms)
 GET /ventas 200 in 4.5s (compile: 13ms, proxy.ts: 3.2s, render: 1254ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/shopify ...
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10 200 in 4.7s (compile: 3.6s, proxy.ts: 730ms, render: 322ms)
 GET /api/integrations/shopify 200 in 4.7s (compile: 3.6s, proxy.ts: 734ms, render: 327ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 4.7s (compile: 3.6s, proxy.ts: 730ms, render: 388ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 5.0s (compile: 3.6s, proxy.ts: 735ms, render: 711ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11 200 in 5.1s (compile: 3.6s, proxy.ts: 732ms, render: 723ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 421ms (compile: 4ms, proxy.ts: 180ms, render: 237ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10&onlineOnly=true 200 in 264ms (compile: 2ms, proxy.ts: 102ms, render: 159ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 2.9s (compile: 2ms, proxy.ts: 97ms, render: 2.8s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 3.5s (compile: 4ms, proxy.ts: 200ms, render: 3.3s)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 3.2s (compile: 2ms, proxy.ts: 91ms, render: 3.1s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-11 200 in 944ms (compile: 21ms, proxy.ts: 165ms, render: 758ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 3.7s (compile: 1586ms, proxy.ts: 1101ms, render: 1031ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-11 200 in 907ms (compile: 82ms, proxy.ts: 177ms, render: 648ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10 200 in 718ms (compile: 6ms, proxy.ts: 544ms, render: 168ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify 200 in 285ms (compile: 2ms, proxy.ts: 101ms, render: 182ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-11&limit=50&offset=0 200 in 395ms (compile: 5ms, proxy.ts: 102ms, render: 288ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-11&limit=10&offset=0&periodBasedLTV=true 200 in 286ms (compile: 2ms, proxy.ts: 88ms, render: 197ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 478ms (compile: 3ms, proxy.ts: 101ms, render: 375ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 421ms (compile: 6ms, proxy.ts: 97ms, render: 318ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 364ms (compile: 4ms, proxy.ts: 79ms, render: 281ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 9.9s (compile: 3.6s, proxy.ts: 726ms, render: 5.6s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-11 200 in 579ms (compile: 2ms, proxy.ts: 101ms, render: 475ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 604ms (compile: 23ms, proxy.ts: 183ms, render: 398ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 5.5s (compile: 5ms, proxy.ts: 257ms, render: 5.3s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10&onlineOnly=true 200 in 361ms (compile: 5ms, proxy.ts: 156ms, render: 199ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 501ms (compile: 35ms, proxy.ts: 99ms, render: 368ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11 200 in 703ms (compile: 3ms, proxy.ts: 188ms, render: 512ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 384ms (compile: 2ms, proxy.ts: 111ms, render: 271ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 553ms (compile: 66ms, proxy.ts: 83ms, render: 404ms)
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-11 200 in 573ms (compile: 21ms, proxy.ts: 124ms, render: 428ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 775ms (compile: 12ms, proxy.ts: 126ms, render: 637ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10 200 in 607ms (compile: 15ms, proxy.ts: 94ms, render: 498ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 780ms (compile: 9ms, proxy.ts: 113ms, render: 657ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-11 200 in 678ms (compile: 11ms, proxy.ts: 115ms, render: 552ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 368ms (compile: 12ms, proxy.ts: 176ms, render: 180ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10&onlineOnly=true 200 in 269ms (compile: 9ms, proxy.ts: 110ms, render: 150ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 449ms (compile: 3ms, proxy.ts: 135ms, render: 310ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 2.2s (compile: 8ms, proxy.ts: 83ms, render: 2.1s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11 200 in 2.4s (compile: 1888Âµs, proxy.ts: 76ms, render: 2.3s)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 2.6s (compile: 1597Âµs, proxy.ts: 165ms, render: 2.4s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 2.4s (compile: 891ms, proxy.ts: 681ms, render: 819ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-11 200 in 382ms (compile: 19ms, proxy.ts: 118ms, render: 245ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-11 200 in 1094ms (compile: 1710Âµs, proxy.ts: 94ms, render: 998ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 1416ms (compile: 6ms, proxy.ts: 201ms, render: 1209ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 3.2s (compile: 7ms, proxy.ts: 201ms, render: 3.0s)
â—‹ Compiling /api/sales-targets/progress ...
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 7.6s (compile: 1485Âµs, proxy.ts: 153ms, render: 7.4s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 7.9s (compile: 11ms, proxy.ts: 177ms, render: 7.8s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Yearly Trend API] Calculando tendencias anuales para 2026
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 3.4s (compile: 1947ms, proxy.ts: 172ms, render: 1235ms)
[Sales Targets Progress] Calculado progreso para 9 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 7.3s (compile: 4.8s, proxy.ts: 1178ms, render: 1355ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 3.7s (compile: 2.1s, proxy.ts: 194ms, render: 1375ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Yearly Trend API] Tendencias calculadas para 9 tiendas
 GET /api/sales-targets/yearly-trend?year=2026 200 in 8.6s (compile: 7.0s, proxy.ts: 96ms, render: 1514ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Yearly Trend API] Calculando tendencias anuales para 2026
[Sales Targets Progress] Calculado progreso para 9 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 3.5s (compile: 5ms, proxy.ts: 107ms, render: 3.4s)
[Yearly Trend API] Tendencias calculadas para 9 tiendas
 GET /api/sales-targets/yearly-trend?year=2026 200 in 4.1s (compile: 2ms, proxy.ts: 79ms, render: 4.0s)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 1163ms (compile: 409ms, proxy.ts: 666ms, render: 88ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 910ms (compile: 280ms, proxy.ts: 497ms, render: 134ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 817ms (compile: 156ms, proxy.ts: 592ms, render: 69ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 375ms (compile: 104ms, proxy.ts: 213ms, render: 58ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /_not-found ...
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 22.8s (compile: 20.4s, proxy.ts: 1866ms, render: 513ms)
 GET /integraciones 200 in 34.9s (compile: 21.1s, proxy.ts: 13.3s, render: 548ms)
 GET /integraciones 200 in 56s (compile: 49s, proxy.ts: 6.3s, render: 550ms)
ğŸ” Middleware Debug: { url: '/integraciones', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /integraciones 200 in 879ms (compile: 24ms, proxy.ts: 715ms, render: 140ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 1868ms (compile: 89ms, proxy.ts: 379ms, render: 1400ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/shopify ...
 GET /api/integrations/shopify 200 in 54s (compile: 53s, proxy.ts: 247ms, render: 291ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 54s (compile: 53s, proxy.ts: 429ms, render: 470ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10 200 in 54s (compile: 53s, proxy.ts: 428ms, render: 577ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 54s (compile: 53s, proxy.ts: 430ms, render: 688ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 541ms (compile: 2ms, proxy.ts: 85ms, render: 454ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 406ms (compile: 4ms, proxy.ts: 86ms, render: 316ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 315ms (compile: 2ms, proxy.ts: 73ms, render: 239ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10&onlineOnly=true 200 in 772ms (compile: 1496Âµs, proxy.ts: 113ms, render: 658ms)
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 635ms (compile: 4ms, proxy.ts: 114ms, render: 517ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 673ms (compile: 2ms, proxy.ts: 102ms, render: 569ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-11 200 in 261ms (compile: 3ms, proxy.ts: 91ms, render: 167ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-11 200 in 331ms (compile: 2ms, proxy.ts: 86ms, render: 243ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/integrations/shopify 200 in 318ms (compile: 1683Âµs, proxy.ts: 76ms, render: 241ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 56s (compile: 53s, proxy.ts: 251ms, render: 2.1s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11 200 in 303ms (compile: 1888Âµs, proxy.ts: 88ms, render: 213ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 1816ms (compile: 6ms, proxy.ts: 100ms, render: 1710ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 299ms (compile: 1243Âµs, proxy.ts: 71ms, render: 227ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10 200 in 297ms (compile: 2ms, proxy.ts: 89ms, render: 205ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 254ms (compile: 1898Âµs, proxy.ts: 80ms, render: 173ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 1663ms (compile: 1597Âµs, proxy.ts: 80ms, render: 1582ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 1551ms (compile: 41ms, proxy.ts: 79ms, render: 1431ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 1659ms (compile: 2ms, proxy.ts: 111ms, render: 1546ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10&onlineOnly=true 200 in 407ms (compile: 14ms, proxy.ts: 168ms, render: 225ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 383ms (compile: 69ms, proxy.ts: 123ms, render: 190ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 2.7s (compile: 1863Âµs, proxy.ts: 78ms, render: 2.6s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-11 200 in 279ms (compile: 2ms, proxy.ts: 89ms, render: 188ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 566ms (compile: 71ms, proxy.ts: 121ms, render: 373ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11 200 in 58s (compile: 53s, proxy.ts: 429ms, render: 4.7s)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 2.5s (compile: 2ms, proxy.ts: 109ms, render: 2.3s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-11 200 in 269ms (compile: 2ms, proxy.ts: 89ms, render: 178ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-11&limit=50&offset=0 200 in 317ms (compile: 4ms, proxy.ts: 76ms, render: 236ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-11&limit=10&offset=0&periodBasedLTV=true 200 in 304ms (compile: 12ms, proxy.ts: 78ms, render: 215ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 274ms (compile: 2ms, proxy.ts: 86ms, render: 186ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 287ms (compile: 2ms, proxy.ts: 120ms, render: 165ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-11 200 in 381ms (compile: 3ms, proxy.ts: 91ms, render: 287ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10 200 in 237ms (compile: 3ms, proxy.ts: 73ms, render: 161ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 493ms (compile: 7ms, proxy.ts: 92ms, render: 395ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 366ms (compile: 5ms, proxy.ts: 88ms, render: 273ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 370ms (compile: 1899Âµs, proxy.ts: 76ms, render: 292ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10&onlineOnly=true 200 in 270ms (compile: 1342Âµs, proxy.ts: 91ms, render: 178ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 314ms (compile: 1588Âµs, proxy.ts: 80ms, render: 232ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 288ms (compile: 1833Âµs, proxy.ts: 90ms, render: 197ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 408ms (compile: 3ms, proxy.ts: 106ms, render: 299ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-11 200 in 252ms (compile: 7ms, proxy.ts: 85ms, render: 160ms)
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-11 200 in 262ms (compile: 8ms, proxy.ts: 88ms, render: 167ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 331ms (compile: 1887Âµs, proxy.ts: 91ms, render: 239ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11 200 in 390ms (compile: 1747Âµs, proxy.ts: 91ms, render: 297ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 2.3s (compile: 3ms, proxy.ts: 108ms, render: 2.2s)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 2.3s (compile: 1666Âµs, proxy.ts: 84ms, render: 2.2s)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Yearly Trend API] Calculando tendencias anuales para 2026
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 9 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 3.4s (compile: 2.4s, proxy.ts: 149ms, render: 846ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 9 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 695ms (compile: 1885Âµs, proxy.ts: 108ms, render: 585ms)
[Yearly Trend API] Tendencias calculadas para 9 tiendas
 GET /api/sales-targets/yearly-trend?year=2026 200 in 5.1s (compile: 2.4s, proxy.ts: 150ms, render: 2.6s)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Yearly Trend API] Calculando tendencias anuales para 2026
[Yearly Trend API] Tendencias calculadas para 9 tiendas
 GET /api/sales-targets/yearly-trend?year=2026 200 in 1197ms (compile: 1811Âµs, proxy.ts: 78ms, render: 1118ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-31&onlineOnly=true 200 in 1934ms (compile: 43ms, proxy.ts: 154ms, render: 1737ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Yearly Trend API] Calculando tendencias anuales para 2026
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 9 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 720ms (compile: 7ms, proxy.ts: 153ms, render: 560ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 9 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 486ms (compile: 2ms, proxy.ts: 98ms, render: 385ms)
[Yearly Trend API] Tendencias calculadas para 9 tiendas
 GET /api/sales-targets/yearly-trend?year=2026 200 in 1361ms (compile: 13ms, proxy.ts: 156ms, render: 1192ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Yearly Trend API] Calculando tendencias anuales para 2026
[Yearly Trend API] Tendencias calculadas para 9 tiendas
 GET /api/sales-targets/yearly-trend?year=2026 200 in 1173ms (compile: 3ms, proxy.ts: 93ms, render: 1076ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-31&onlineOnly=true 200 in 1288ms (compile: 6ms, proxy.ts: 150ms, render: 1132ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 POST /api/sales-targets 200 in 2.4s (compile: 1996ms, proxy.ts: 141ms, render: 233ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 10 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 1409ms (compile: 16ms, proxy.ts: 94ms, render: 1299ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 1356ms (compile: 726ms, proxy.ts: 469ms, render: 161ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 205ms (compile: 8ms, proxy.ts: 153ms, render: 44ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 3.2s (compile: 74ms, proxy.ts: 210ms, render: 2.9s)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/integrations/shopify ...
 GET /api/integrations/shopify 200 in 5.0s (compile: 4.2s, proxy.ts: 426ms, render: 406ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10 200 in 5.1s (compile: 4.2s, proxy.ts: 376ms, render: 500ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 5.2s (compile: 4.2s, proxy.ts: 369ms, render: 575ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 12.8s (compile: 4.4s, proxy.ts: 213ms, render: 8.2s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11 200 in 22.8s (compile: 4.4s, proxy.ts: 218ms, render: 18.1s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 19.5s (compile: 22ms, proxy.ts: 873ms, render: 18.6s)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10&onlineOnly=true 200 in 1683ms (compile: 71ms, proxy.ts: 249ms, render: 1364ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 3.1s (compile: 74ms, proxy.ts: 1408ms, render: 1614ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 19.3s (compile: 7.9s, proxy.ts: 8.3s, render: 3.1s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 476ms (compile: 51ms, proxy.ts: 202ms, render: 222ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-11 200 in 320ms (compile: 3ms, proxy.ts: 128ms, render: 188ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 942ms (compile: 19ms, proxy.ts: 175ms, render: 748ms)
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-11 200 in 770ms (compile: 1951Âµs, proxy.ts: 72ms, render: 696ms)
 GET /api/integrations/shopify 200 in 660ms (compile: 278ms, proxy.ts: 129ms, render: 254ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10 200 in 759ms (compile: 97ms, proxy.ts: 352ms, render: 309ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 26.9s (compile: 4.4s, proxy.ts: 220ms, render: 22.2s)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-11&limit=10&offset=0&periodBasedLTV=true 200 in 1019ms (compile: 70ms, proxy.ts: 139ms, render: 809ms)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-11&limit=50&offset=0 200 in 1377ms (compile: 62ms, proxy.ts: 282ms, render: 1032ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 1287ms (compile: 14ms, proxy.ts: 161ms, render: 1112ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 1757ms (compile: 71ms, proxy.ts: 178ms, render: 1509ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 2.3s (compile: 32ms, proxy.ts: 627ms, render: 1646ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 3.3s (compile: 19ms, proxy.ts: 253ms, render: 3.0s)
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-11 200 in 3.8s (compile: 31ms, proxy.ts: 632ms, render: 3.2s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11 200 in 3.7s (compile: 116ms, proxy.ts: 1243ms, render: 2.3s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 7.4s (compile: 369ms, proxy.ts: 869ms, render: 6.1s)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 32.2s (compile: 8.2s, proxy.ts: 8.0s, render: 16.0s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10&onlineOnly=true 200 in 1294ms (compile: 33ms, proxy.ts: 902ms, render: 358ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 8.4s (compile: 308ms, proxy.ts: 475ms, render: 7.6s)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 6.5s (compile: 1750ms, proxy.ts: 2.7s, render: 2.1s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 2.4s (compile: 24ms, proxy.ts: 1047ms, render: 1298ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-11 200 in 2.3s (compile: 364ms, proxy.ts: 1246ms, render: 673ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 2.4s (compile: 347ms, proxy.ts: 1268ms, render: 778ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-11 200 in 2.0s (compile: 435ms, proxy.ts: 1316ms, render: 291ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11 200 in 992ms (compile: 19ms, proxy.ts: 656ms, render: 316ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10&onlineOnly=true 200 in 350ms (compile: 26ms, proxy.ts: 148ms, render: 175ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 12.0s (compile: 312ms, proxy.ts: 460ms, render: 11.2s)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10 200 in 749ms (compile: 20ms, proxy.ts: 156ms, render: 572ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 15.6s (compile: 110ms, proxy.ts: 1250ms, render: 14.2s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 1914ms (compile: 23ms, proxy.ts: 226ms, render: 1664ms)
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 1827ms (compile: 4ms, proxy.ts: 112ms, render: 1711ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 858ms (compile: 67ms, proxy.ts: 347ms, render: 444ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 296ms (compile: 3ms, proxy.ts: 111ms, render: 183ms)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 1038ms (compile: 234ms, proxy.ts: 451ms, render: 354ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 480ms (compile: 10ms, proxy.ts: 123ms, render: 346ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-11 200 in 250ms (compile: 1895Âµs, proxy.ts: 88ms, render: 160ms)
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 507ms (compile: 8ms, proxy.ts: 115ms, render: 385ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-11 200 in 296ms (compile: 2ms, proxy.ts: 115ms, render: 179ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/sales-targets/progress ...
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 9.0s (compile: 3ms, proxy.ts: 197ms, render: 8.8s)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 7.7s (compile: 229ms, proxy.ts: 455ms, render: 7.1s)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Yearly Trend API] Calculando tendencias anuales para 2026
[Sales Targets Progress] Calculando progreso para 2026-1
[Sales Targets Progress] Calculando progreso para 2026-1
[Yearly Trend API] Calculando tendencias anuales para 2026
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
 GET /ventas 200 in 321ms (compile: 109ms, proxy.ts: 135ms, render: 77ms)
[Sales Targets Progress] Calculado progreso para 10 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 21.3s (compile: 20.4s, proxy.ts: 112ms, render: 741ms)
[Sales Targets Progress] Calculado progreso para 10 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 11.1s (compile: 4.9s, proxy.ts: 5.5s, render: 803ms)
[Yearly Trend API] Tendencias calculadas para 10 tiendas
 GET /api/sales-targets/yearly-trend?year=2026 200 in 22.0s (compile: 20.6s, proxy.ts: 83ms, render: 1353ms)
[Yearly Trend API] Tendencias calculadas para 10 tiendas
 GET /api/sales-targets/yearly-trend?year=2026 200 in 11.7s (compile: 4.9s, proxy.ts: 5.4s, render: 1366ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 32.3s (compile: 31.5s, proxy.ts: 706ms, render: 134ms)
ğŸ” Middleware Debug: { url: '/', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET / 200 in 688ms (compile: 212ms, proxy.ts: 402ms, render: 75ms)
ğŸ” Middleware Debug: { url: '/api/dashboard', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/dashboard ...
[Dashboard] No availability data found for today: 2026-01-11
[Dashboard] Store occupation data: {
  today: '2026-01-11',
  storesFound: 9,
  stores: [
    {
      name: 'Madrid',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Sevilla',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'MÃ¡laga',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Barcelona',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Murcia',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Cdmx',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Bilbao',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Zaragoza',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Valencia',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    }
  ]
}
[Dashboard] Investment data: {
  totalAdsRecords: 1000,
  uniqueDates: 12,
  sampleDates: [
    [ '2025-12-23', 0 ],
    [ '2025-12-18', 0 ],
    [ '2025-12-16', 0 ],
    [ '2025-12-26', 0 ],
    [ '2025-12-22', 0 ]
  ]
}
 GET /api/dashboard 200 in 9.5s (compile: 7.5s, proxy.ts: 835ms, render: 1224ms)
ğŸ” Middleware Debug: { url: '/api/dashboard', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Dashboard] No availability data found for today: 2026-01-11
[Dashboard] Store occupation data: {
  today: '2026-01-11',
  storesFound: 9,
  stores: [
    {
      name: 'Madrid',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Sevilla',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'MÃ¡laga',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Barcelona',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Murcia',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Cdmx',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Bilbao',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Zaragoza',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    },
    {
      name: 'Valencia',
      hasData: false,
      medicion: [Object],
      fitting: [Object]
    }
  ]
}
[Dashboard] Investment data: {
  totalAdsRecords: 1000,
  uniqueDates: 12,
  sampleDates: [
    [ '2025-12-23', 0 ],
    [ '2025-12-18', 0 ],
    [ '2025-12-16', 0 ],
    [ '2025-12-26', 0 ],
    [ '2025-12-22', 0 ]
  ]
}
 GET /api/dashboard 200 in 1083ms (compile: 8ms, proxy.ts: 130ms, render: 944ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /ventas 200 in 356ms (compile: 118ms, proxy.ts: 158ms, render: 80ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/shopify ...
 GET /api/integrations/shopify 200 in 8.9s (compile: 8.5s, proxy.ts: 98ms, render: 267ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10 200 in 8.9s (compile: 8.4s, proxy.ts: 281ms, render: 273ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 9.0s (compile: 8.4s, proxy.ts: 229ms, render: 348ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 9.0s (compile: 8.2s, proxy.ts: 432ms, render: 390ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11 200 in 9.1s (compile: 8.4s, proxy.ts: 282ms, render: 452ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 426ms (compile: 3ms, proxy.ts: 118ms, render: 305ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 346ms (compile: 2ms, proxy.ts: 84ms, render: 260ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 477ms (compile: 3ms, proxy.ts: 100ms, render: 375ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10&onlineOnly=true 200 in 287ms (compile: 3ms, proxy.ts: 93ms, render: 191ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 511ms (compile: 13ms, proxy.ts: 83ms, render: 415ms)
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-11 200 in 441ms (compile: 41ms, proxy.ts: 84ms, render: 316ms)
ğŸ” Middleware Debug: {
  url: '/api/integrations/shopify',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 580ms (compile: 16ms, proxy.ts: 91ms, render: 474ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-11 200 in 530ms (compile: 196ms, proxy.ts: 129ms, render: 205ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10 200 in 341ms (compile: 61ms, proxy.ts: 88ms, render: 192ms)
 GET /api/integrations/shopify 200 in 494ms (compile: 62ms, proxy.ts: 89ms, render: 343ms)
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-11&limit=50&offset=0 200 in 422ms (compile: 1934Âµs, proxy.ts: 125ms, render: 295ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 10.8s (compile: 8.4s, proxy.ts: 238ms, render: 2.2s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=customer-metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 771ms (compile: 3ms, proxy.ts: 153ms, render: 615ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=customers&startDate=2026-01-01&endDate=2026-01-11&limit=10&offset=0&periodBasedLTV=true 200 in 789ms (compile: 98ms, proxy.ts: 157ms, render: 534ms)
 GET /api/shopify?type=customers&limit=10&offset=0 200 in 853ms (compile: 98ms, proxy.ts: 157ms, render: 598ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 2.5s (compile: 4ms, proxy.ts: 156ms, render: 2.3s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=locations&startDate=2026-01-01&endDate=2026-01-11 200 in 922ms (compile: 15ms, proxy.ts: 265ms, render: 642ms)
 GET /api/shopify?type=monthly-revenue&months=12 200 in 668ms (compile: 261ms, proxy.ts: 90ms, render: 316ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 654ms (compile: 22ms, proxy.ts: 323ms, render: 309ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11 200 in 526ms (compile: 61ms, proxy.ts: 185ms, render: 280ms)
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10&onlineOnly=true 200 in 257ms (compile: 1164Âµs, proxy.ts: 79ms, render: 177ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 681ms (compile: 57ms, proxy.ts: 101ms, render: 522ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 5.0s (compile: 1912Âµs, proxy.ts: 85ms, render: 5.0s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 5.2s (compile: 2ms, proxy.ts: 162ms, render: 5.1s)
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 5.2s (compile: 2ms, proxy.ts: 97ms, render: 5.1s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-11 200 in 5.1s (compile: 1726ms, proxy.ts: 2.7s, render: 626ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 5.2s (compile: 1994ms, proxy.ts: 2.5s, render: 706ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10 200 in 410ms (compile: 8ms, proxy.ts: 112ms, render: 290ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-11 200 in 1119ms (compile: 21ms, proxy.ts: 806ms, render: 291ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12 200 in 374ms (compile: 34ms, proxy.ts: 110ms, render: 229ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=charts&startDate=2026-01-01&endDate=2026-01-11&days=10&onlineOnly=true 200 in 278ms (compile: 1618Âµs, proxy.ts: 122ms, render: 154ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11 200 in 462ms (compile: 39ms, proxy.ts: 128ms, render: 295ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 2.1s (compile: 10ms, proxy.ts: 167ms, render: 1890ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly 200 in 2.1s (compile: 1695Âµs, proxy.ts: 85ms, render: 2.0s)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
â—‹ Compiling /api/sales-targets/progress ...
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 6.1s (compile: 15ms, proxy.ts: 119ms, render: 5.9s)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 6.0s (compile: 17ms, proxy.ts: 111ms, render: 5.9s)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
[Yearly Trend API] Calculando tendencias anuales para 2026
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
 GET /api/shopify?type=online-time-analysis&startDate=2026-01-01&endDate=2026-01-11 200 in 2.5s (compile: 349ms, proxy.ts: 1918ms, render: 216ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=monthly-revenue&months=12&onlineOnly=true 200 in 6.1s (compile: 5.6s, proxy.ts: 180ms, render: 267ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=products&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 6.0s (compile: 5.5s, proxy.ts: 130ms, render: 358ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=orders&limit=100&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 2.6s (compile: 470ms, proxy.ts: 1796ms, render: 383ms)
ğŸ” Middleware Debug: { url: '/api/shopify', hasSupabaseUrl: true, hasSupabaseKey: true }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculado progreso para 10 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 8.1s (compile: 6.1s, proxy.ts: 1466ms, render: 616ms)
ğŸ” Middleware Debug: { url: '/ventas', hasSupabaseUrl: true, hasSupabaseKey: true }
 GET /api/shopify?type=complements&limit=10&startDate=2026-01-01&endDate=2026-01-11&filterType=monthly&onlineOnly=true 200 in 426ms (compile: 3ms, proxy.ts: 87ms, render: 336ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/progress',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
 GET /api/shopify?type=online-customer-segmentation&startDate=2026-01-01&endDate=2026-01-11 200 in 438ms (compile: 7ms, proxy.ts: 80ms, render: 351ms)
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Sales Targets Progress] Calculando progreso para 2026-1
 GET /ventas 200 in 311ms (compile: 116ms, proxy.ts: 77ms, render: 118ms)
[Sales Targets Progress] Rango de fechas: 2026-01-01 - 2026-01-31
[Sales Targets Progress] Calculado progreso para 10 ubicaciones
 GET /api/sales-targets/progress?year=2026&month=1 200 in 898ms (compile: 3ms, proxy.ts: 271ms, render: 624ms)
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11 200 in 1203ms (compile: 2ms, proxy.ts: 113ms, render: 1088ms)
[Yearly Trend API] Tendencias calculadas para 10 tiendas
 GET /api/sales-targets/yearly-trend?year=2026 200 in 9.2s (compile: 7.5s, proxy.ts: 74ms, render: 1587ms)
ğŸ” Middleware Debug: {
  url: '/api/sales-targets/yearly-trend',
  hasSupabaseUrl: true,
  hasSupabaseKey: true
}
ğŸ‘¤ User status: { hasUser: true, email: 'fabiani@bundcompany.com' }
[Yearly Trend API] Calculando tendencias anuales para 2026
 GET /api/shopify?type=metrics&startDate=2026-01-01&endDate=2026-01-11&onlineOnly=true 200 in 1504ms (compile: 3ms, proxy.ts: 92ms, render: 1409ms)
[Yearly Trend API] Tendencias calculadas para 10 tiendas
 GET /api/sales-targets/yearly-trend?year=2026 200 in 1682ms (compile: 4ms, proxy.ts: 82ms, render: 1596ms)
